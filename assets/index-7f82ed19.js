function EE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function zg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bg={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),wE=Symbol.for("react.portal"),xE=Symbol.for("react.fragment"),SE=Symbol.for("react.strict_mode"),TE=Symbol.for("react.profiler"),AE=Symbol.for("react.provider"),IE=Symbol.for("react.context"),NE=Symbol.for("react.forward_ref"),CE=Symbol.for("react.suspense"),RE=Symbol.for("react.memo"),PE=Symbol.for("react.lazy"),lm=Symbol.iterator;function kE(t){return t===null||typeof t!="object"?null:(t=lm&&t[lm]||t["@@iterator"],typeof t=="function"?t:null)}var jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hg=Object.assign,qg={};function As(t,e,n){this.props=t,this.context=e,this.refs=qg,this.updater=n||jg}As.prototype.isReactComponent={};As.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};As.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wg(){}Wg.prototype=As.prototype;function Kh(t,e,n){this.props=t,this.context=e,this.refs=qg,this.updater=n||jg}var Qh=Kh.prototype=new Wg;Qh.constructor=Kh;Hg(Qh,As.prototype);Qh.isPureReactComponent=!0;var um=Array.isArray,Kg=Object.prototype.hasOwnProperty,Gh={current:null},Qg={key:!0,ref:!0,__self:!0,__source:!0};function Gg(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Kg.call(e,r)&&!Qg.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:lo,type:t,key:i,ref:o,props:s,_owner:Gh.current}}function DE(t,e){return{$$typeof:lo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yh(t){return typeof t=="object"&&t!==null&&t.$$typeof===lo}function bE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cm=/\/+/g;function _u(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bE(""+t.key):e.toString(36)}function ua(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lo:case wE:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+_u(o,0):r,um(s)?(n="",t!=null&&(n=t.replace(cm,"$&/")+"/"),ua(s,e,n,"",function(c){return c})):s!=null&&(Yh(s)&&(s=DE(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",um(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+_u(i,a);o+=ua(i,e,n,l,s)}else if(l=kE(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+_u(i,a++),o+=ua(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oo(t,e,n){if(t==null)return t;var r=[],s=0;return ua(t,r,"","",function(i){return e.call(n,i,s++)}),r}function VE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},ca={transition:null},OE={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ca,ReactCurrentOwner:Gh};Q.Children={map:Oo,forEach:function(t,e,n){Oo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oo(t,function(){e++}),e},toArray:function(t){return Oo(t,function(e){return e})||[]},only:function(t){if(!Yh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=As;Q.Fragment=xE;Q.Profiler=TE;Q.PureComponent=Kh;Q.StrictMode=SE;Q.Suspense=CE;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OE;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hg({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Gh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kg.call(e,l)&&!Qg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:lo,type:t.type,key:s,ref:i,props:r,_owner:o}};Q.createContext=function(t){return t={$$typeof:IE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AE,_context:t},t.Consumer=t};Q.createElement=Gg;Q.createFactory=function(t){var e=Gg.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:NE,render:t}};Q.isValidElement=Yh;Q.lazy=function(t){return{$$typeof:PE,_payload:{_status:-1,_result:t},_init:VE}};Q.memo=function(t,e){return{$$typeof:RE,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=ca.transition;ca.transition={};try{t()}finally{ca.transition=e}};Q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Q.useCallback=function(t,e){return nt.current.useCallback(t,e)};Q.useContext=function(t){return nt.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};Q.useEffect=function(t,e){return nt.current.useEffect(t,e)};Q.useId=function(){return nt.current.useId()};Q.useImperativeHandle=function(t,e,n){return nt.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return nt.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return nt.current.useReducer(t,e,n)};Q.useRef=function(t){return nt.current.useRef(t)};Q.useState=function(t){return nt.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return nt.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return nt.current.useTransition()};Q.version="18.2.0";Bg.exports=Q;var E=Bg.exports;const u=zg(E),FE=EE({__proto__:null,default:u},[E]);var Yg={exports:{}},gt={},Xg={exports:{}},Jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,R){var N=b.length;b.push(R);e:for(;0<N;){var U=N-1>>>1,ie=b[U];if(0<s(ie,R))b[U]=R,b[N]=ie,N=U;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var R=b[0],N=b.pop();if(N!==R){b[0]=N;e:for(var U=0,ie=b.length,W=ie>>>1;U<W;){var Z=2*(U+1)-1,Je=b[Z],Ce=Z+1,Rt=b[Ce];if(0>s(Je,N))Ce<ie&&0>s(Rt,Je)?(b[U]=Rt,b[Ce]=N,U=Ce):(b[U]=Je,b[Z]=N,U=Z);else if(Ce<ie&&0>s(Rt,N))b[U]=Rt,b[Ce]=N,U=Ce;else break e}}return R}function s(b,R){var N=b.sortIndex-R.sortIndex;return N!==0?N:b.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,g=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=b)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function w(b){if(_=!1,v(b),!y)if(n(l)!==null)y=!0,zt(C);else{var R=n(c);R!==null&&rn(w,R.startTime-b)}}function C(b,R){y=!1,_&&(_=!1,p(L),L=-1),g=!0;var N=f;try{for(v(R),d=n(l);d!==null&&(!(d.expirationTime>R)||b&&!re());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var ie=U(d.expirationTime<=R);R=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&r(l),v(R)}else r(l);d=n(l)}if(d!==null)var W=!0;else{var Z=n(c);Z!==null&&rn(w,Z.startTime-R),W=!1}return W}finally{d=null,f=N,g=!1}}var k=!1,D=null,L=-1,F=5,$=-1;function re(){return!(t.unstable_now()-$<F)}function st(){if(D!==null){var b=t.unstable_now();$=b;var R=!0;try{R=D(!0,b)}finally{R?Nt():(k=!1,D=null)}}else k=!1}var Nt;if(typeof m=="function")Nt=function(){m(st)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,rr=Ct.port2;Ct.port1.onmessage=st,Nt=function(){rr.postMessage(null)}}else Nt=function(){x(st,0)};function zt(b){D=b,k||(k=!0,Nt())}function rn(b,R){L=x(function(){b(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,zt(C))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(b){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var N=f;f=R;try{return b()}finally{f=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,R){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var N=f;f=b;try{return R()}finally{f=N}},t.unstable_scheduleCallback=function(b,R,N){var U=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?U+N:U):N=U,b){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=N+ie,b={id:h++,callback:R,priorityLevel:b,startTime:N,expirationTime:ie,sortIndex:-1},N>U?(b.sortIndex=N,e(c,b),n(l)===null&&b===n(c)&&(_?(p(L),L=-1):_=!0,rn(w,N-U))):(b.sortIndex=ie,e(l,b),y||g||(y=!0,zt(C))),b},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(b){var R=f;return function(){var N=f;f=R;try{return b.apply(this,arguments)}finally{f=N}}}})(Jg);Xg.exports=Jg;var LE=Xg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=E,mt=LE;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e0=new Set,Ai={};function Cr(t,e){ls(t,e),ls(t+"Capture",e)}function ls(t,e){for(Ai[t]=e,t=0;t<e.length;t++)e0.add(e[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pc=Object.prototype.hasOwnProperty,ME=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hm={},dm={};function $E(t){return pc.call(dm,t)?!0:pc.call(hm,t)?!1:ME.test(t)?dm[t]=!0:(hm[t]=!0,!1)}function UE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zE(t,e,n,r){if(e===null||typeof e>"u"||UE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xh=/[\-:]([a-z])/g;function Jh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xh,Jh);$e[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xh,Jh);$e[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xh,Jh);$e[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zh(t,e,n,r){var s=$e.hasOwnProperty(e)?$e[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zE(e,n,s,r)&&(n=null),r||s===null?$E(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wn=Zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fo=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),gc=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),td=Symbol.for("react.forward_ref"),yc=Symbol.for("react.suspense"),vc=Symbol.for("react.suspense_list"),nd=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),r0=Symbol.for("react.offscreen"),fm=Symbol.iterator;function Bs(t){return t===null||typeof t!="object"?null:(t=fm&&t[fm]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,Eu;function ti(t){if(Eu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eu=e&&e[1]||""}return`
`+Eu+t}var wu=!1;function xu(t,e){if(!t||wu)return"";wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ti(t):""}function BE(t){switch(t.tag){case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 2:case 15:return t=xu(t.type,!1),t;case 11:return t=xu(t.type.render,!1),t;case 1:return t=xu(t.type,!0),t;default:return""}}function _c(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ur:return"Fragment";case $r:return"Portal";case gc:return"Profiler";case ed:return"StrictMode";case yc:return"Suspense";case vc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n0:return(t.displayName||"Context")+".Consumer";case t0:return(t._context.displayName||"Context")+".Provider";case td:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nd:return e=t.displayName||null,e!==null?e:_c(t.type)||"Memo";case Tn:e=t._payload,t=t._init;try{return _c(t(e))}catch{}}return null}function jE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _c(e);case 8:return e===ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HE(t){var e=s0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lo(t){t._valueTracker||(t._valueTracker=HE(t))}function i0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=s0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ec(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o0(t,e){e=e.checked,e!=null&&Zh(t,"checked",e,!1)}function wc(t,e){o0(t,e);var n=qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xc(t,e.type,n):e.hasOwnProperty("defaultValue")&&xc(t,e.type,qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xc(t,e,n){(e!=="number"||Pa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ni=Array.isArray;function Jr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(ni(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qn(n)}}function a0(t,e){var n=qn(e.value),r=qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ym(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function l0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?l0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mo,u0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mo=Mo||document.createElement("div"),Mo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ii(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qE=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(t){qE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ci[e]=ci[t]})});function c0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ci.hasOwnProperty(t)&&ci[t]?(""+e).trim():e+"px"}function h0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=c0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var WE=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ac(t,e){if(e){if(WE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Ic(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=null;function rd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cc=null,Zr=null,es=null;function vm(t){if(t=ho(t)){if(typeof Cc!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Il(e),Cc(t.stateNode,t.type,e))}}function d0(t){Zr?es?es.push(t):es=[t]:Zr=t}function f0(){if(Zr){var t=Zr,e=es;if(es=Zr=null,vm(t),e)for(t=0;t<e.length;t++)vm(e[t])}}function m0(t,e){return t(e)}function p0(){}var Su=!1;function g0(t,e,n){if(Su)return t(e,n);Su=!0;try{return m0(t,e,n)}finally{Su=!1,(Zr!==null||es!==null)&&(p0(),f0())}}function Ni(t,e){var n=t.stateNode;if(n===null)return null;var r=Il(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Rc=!1;if(mn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Rc=!1}function KE(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var hi=!1,ka=null,Da=!1,Pc=null,QE={onError:function(t){hi=!0,ka=t}};function GE(t,e,n,r,s,i,o,a,l){hi=!1,ka=null,KE.apply(QE,arguments)}function YE(t,e,n,r,s,i,o,a,l){if(GE.apply(this,arguments),hi){if(hi){var c=ka;hi=!1,ka=null}else throw Error(I(198));Da||(Da=!0,Pc=c)}}function Rr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _m(t){if(Rr(t)!==t)throw Error(I(188))}function XE(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _m(s),t;if(i===r)return _m(s),e;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function v0(t){return t=XE(t),t!==null?_0(t):null}function _0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_0(t);if(e!==null)return e;t=t.sibling}return null}var E0=mt.unstable_scheduleCallback,Em=mt.unstable_cancelCallback,JE=mt.unstable_shouldYield,ZE=mt.unstable_requestPaint,ve=mt.unstable_now,ew=mt.unstable_getCurrentPriorityLevel,sd=mt.unstable_ImmediatePriority,w0=mt.unstable_UserBlockingPriority,ba=mt.unstable_NormalPriority,tw=mt.unstable_LowPriority,x0=mt.unstable_IdlePriority,xl=null,Qt=null;function nw(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:iw,rw=Math.log,sw=Math.LN2;function iw(t){return t>>>=0,t===0?32:31-(rw(t)/sw|0)|0}var $o=64,Uo=4194304;function ri(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Va(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ri(a):(i&=o,i!==0&&(r=ri(i)))}else o=n&~s,o!==0?r=ri(o):i!==0&&(r=ri(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ft(e),s=1<<n,r|=t[n],e&=~s;return r}function ow(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ft(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ow(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function kc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function S0(){var t=$o;return $o<<=1,!($o&4194240)&&($o=64),t}function Tu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ft(e),t[e]=n}function lw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ft(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function id(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ft(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var te=0;function T0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var A0,od,I0,N0,C0,Dc=!1,zo=[],Dn=null,bn=null,Vn=null,Ci=new Map,Ri=new Map,In=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wm(t,e){switch(t){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Ci.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(e.pointerId)}}function Hs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ho(e),e!==null&&od(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cw(t,e,n,r,s){switch(e){case"focusin":return Dn=Hs(Dn,t,e,n,r,s),!0;case"dragenter":return bn=Hs(bn,t,e,n,r,s),!0;case"mouseover":return Vn=Hs(Vn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ci.set(i,Hs(Ci.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ri.set(i,Hs(Ri.get(i)||null,t,e,n,r,s)),!0}return!1}function R0(t){var e=lr(t.target);if(e!==null){var n=Rr(e);if(n!==null){if(e=n.tag,e===13){if(e=y0(n),e!==null){t.blockedOn=e,C0(t.priority,function(){I0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ha(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nc=r,n.target.dispatchEvent(r),Nc=null}else return e=ho(n),e!==null&&od(e),t.blockedOn=n,!1;e.shift()}return!0}function xm(t,e,n){ha(t)&&n.delete(e)}function hw(){Dc=!1,Dn!==null&&ha(Dn)&&(Dn=null),bn!==null&&ha(bn)&&(bn=null),Vn!==null&&ha(Vn)&&(Vn=null),Ci.forEach(xm),Ri.forEach(xm)}function qs(t,e){t.blockedOn===e&&(t.blockedOn=null,Dc||(Dc=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,hw)))}function Pi(t){function e(s){return qs(s,t)}if(0<zo.length){qs(zo[0],t);for(var n=1;n<zo.length;n++){var r=zo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dn!==null&&qs(Dn,t),bn!==null&&qs(bn,t),Vn!==null&&qs(Vn,t),Ci.forEach(e),Ri.forEach(e),n=0;n<In.length;n++)r=In[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)R0(n),n.blockedOn===null&&In.shift()}var ts=wn.ReactCurrentBatchConfig,Oa=!0;function dw(t,e,n,r){var s=te,i=ts.transition;ts.transition=null;try{te=1,ad(t,e,n,r)}finally{te=s,ts.transition=i}}function fw(t,e,n,r){var s=te,i=ts.transition;ts.transition=null;try{te=4,ad(t,e,n,r)}finally{te=s,ts.transition=i}}function ad(t,e,n,r){if(Oa){var s=bc(t,e,n,r);if(s===null)Vu(t,e,r,Fa,n),wm(t,r);else if(cw(s,t,e,n,r))r.stopPropagation();else if(wm(t,r),e&4&&-1<uw.indexOf(t)){for(;s!==null;){var i=ho(s);if(i!==null&&A0(i),i=bc(t,e,n,r),i===null&&Vu(t,e,r,Fa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vu(t,e,r,null,n)}}var Fa=null;function bc(t,e,n,r){if(Fa=null,t=rd(r),t=lr(t),t!==null)if(e=Rr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=y0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fa=t,null}function P0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ew()){case sd:return 1;case w0:return 4;case ba:case tw:return 16;case x0:return 536870912;default:return 16}default:return 16}}var Cn=null,ld=null,da=null;function k0(){if(da)return da;var t,e=ld,n=e.length,r,s="value"in Cn?Cn.value:Cn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return da=s.slice(t,1<r?1-r:void 0)}function fa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bo(){return!0}function Sm(){return!1}function yt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bo:Sm,this.isPropagationStopped=Sm,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),e}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ud=yt(Is),co=me({},Is,{view:0,detail:0}),mw=yt(co),Au,Iu,Ws,Sl=me({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ws&&(Ws&&t.type==="mousemove"?(Au=t.screenX-Ws.screenX,Iu=t.screenY-Ws.screenY):Iu=Au=0,Ws=t),Au)},movementY:function(t){return"movementY"in t?t.movementY:Iu}}),Tm=yt(Sl),pw=me({},Sl,{dataTransfer:0}),gw=yt(pw),yw=me({},co,{relatedTarget:0}),Nu=yt(yw),vw=me({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),_w=yt(vw),Ew=me({},Is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ww=yt(Ew),xw=me({},Is,{data:0}),Am=yt(xw),Sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Aw[t])?!!e[t]:!1}function cd(){return Iw}var Nw=me({},co,{key:function(t){if(t.key){var e=Sw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(t){return t.type==="keypress"?fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cw=yt(Nw),Rw=me({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Im=yt(Rw),Pw=me({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),kw=yt(Pw),Dw=me({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),bw=yt(Dw),Vw=me({},Sl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ow=yt(Vw),Fw=[9,13,27,32],hd=mn&&"CompositionEvent"in window,di=null;mn&&"documentMode"in document&&(di=document.documentMode);var Lw=mn&&"TextEvent"in window&&!di,D0=mn&&(!hd||di&&8<di&&11>=di),Nm=String.fromCharCode(32),Cm=!1;function b0(t,e){switch(t){case"keyup":return Fw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zr=!1;function Mw(t,e){switch(t){case"compositionend":return V0(e);case"keypress":return e.which!==32?null:(Cm=!0,Nm);case"textInput":return t=e.data,t===Nm&&Cm?null:t;default:return null}}function $w(t,e){if(zr)return t==="compositionend"||!hd&&b0(t,e)?(t=k0(),da=ld=Cn=null,zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D0&&e.locale!=="ko"?null:e.data;default:return null}}var Uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Uw[t.type]:e==="textarea"}function O0(t,e,n,r){d0(r),e=La(e,"onChange"),0<e.length&&(n=new ud("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fi=null,ki=null;function zw(t){W0(t,0)}function Tl(t){var e=Hr(t);if(i0(e))return t}function Bw(t,e){if(t==="change")return e}var F0=!1;if(mn){var Cu;if(mn){var Ru="oninput"in document;if(!Ru){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),Ru=typeof Pm.oninput=="function"}Cu=Ru}else Cu=!1;F0=Cu&&(!document.documentMode||9<document.documentMode)}function km(){fi&&(fi.detachEvent("onpropertychange",L0),ki=fi=null)}function L0(t){if(t.propertyName==="value"&&Tl(ki)){var e=[];O0(e,ki,t,rd(t)),g0(zw,e)}}function jw(t,e,n){t==="focusin"?(km(),fi=e,ki=n,fi.attachEvent("onpropertychange",L0)):t==="focusout"&&km()}function Hw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(ki)}function qw(t,e){if(t==="click")return Tl(e)}function Ww(t,e){if(t==="input"||t==="change")return Tl(e)}function Kw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:Kw;function Di(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pc.call(e,s)||!Mt(t[s],e[s]))return!1}return!0}function Dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,e){var n=Dm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dm(n)}}function M0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?M0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $0(){for(var t=window,e=Pa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pa(t.document)}return e}function dd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qw(t){var e=$0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&M0(n.ownerDocument.documentElement,n)){if(r!==null&&dd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=bm(n,i);var o=bm(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gw=mn&&"documentMode"in document&&11>=document.documentMode,Br=null,Vc=null,mi=null,Oc=!1;function Vm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oc||Br==null||Br!==Pa(r)||(r=Br,"selectionStart"in r&&dd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mi&&Di(mi,r)||(mi=r,r=La(Vc,"onSelect"),0<r.length&&(e=new ud("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Br)))}function jo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jr={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},Pu={},U0={};mn&&(U0=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Al(t){if(Pu[t])return Pu[t];if(!jr[t])return t;var e=jr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U0)return Pu[t]=e[n];return t}var z0=Al("animationend"),B0=Al("animationiteration"),j0=Al("animationstart"),H0=Al("transitionend"),q0=new Map,Om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,e){q0.set(t,e),Cr(e,[t])}for(var ku=0;ku<Om.length;ku++){var Du=Om[ku],Yw=Du.toLowerCase(),Xw=Du[0].toUpperCase()+Du.slice(1);Xn(Yw,"on"+Xw)}Xn(z0,"onAnimationEnd");Xn(B0,"onAnimationIteration");Xn(j0,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(H0,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function Fm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YE(r,e,void 0,t),t.currentTarget=null}function W0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Fm(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Fm(s,a,c),i=l}}}if(Da)throw t=Pc,Da=!1,Pc=null,t}function oe(t,e){var n=e[Uc];n===void 0&&(n=e[Uc]=new Set);var r=t+"__bubble";n.has(r)||(K0(e,t,2,!1),n.add(r))}function bu(t,e,n){var r=0;e&&(r|=4),K0(n,t,r,e)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function bi(t){if(!t[Ho]){t[Ho]=!0,e0.forEach(function(n){n!=="selectionchange"&&(Jw.has(n)||bu(n,!1,t),bu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ho]||(e[Ho]=!0,bu("selectionchange",!1,e))}}function K0(t,e,n,r){switch(P0(e)){case 1:var s=dw;break;case 4:s=fw;break;default:s=ad}n=s.bind(null,e,n,t),s=void 0,!Rc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=lr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}g0(function(){var c=i,h=rd(n),d=[];e:{var f=q0.get(t);if(f!==void 0){var g=ud,y=t;switch(t){case"keypress":if(fa(n)===0)break e;case"keydown":case"keyup":g=Cw;break;case"focusin":y="focus",g=Nu;break;case"focusout":y="blur",g=Nu;break;case"beforeblur":case"afterblur":g=Nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=gw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=kw;break;case z0:case B0:case j0:g=_w;break;case H0:g=bw;break;case"scroll":g=mw;break;case"wheel":g=Ow;break;case"copy":case"cut":case"paste":g=ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Im}var _=(e&4)!==0,x=!_&&t==="scroll",p=_?f!==null?f+"Capture":null:f;_=[];for(var m=c,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,p!==null&&(w=Ni(m,p),w!=null&&_.push(Vi(m,w,v)))),x)break;m=m.return}0<_.length&&(f=new g(f,y,null,n,h),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Nc&&(y=n.relatedTarget||n.fromElement)&&(lr(y)||y[pn]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?lr(y):null,y!==null&&(x=Rr(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(_=Tm,w="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Im,w="onPointerLeave",p="onPointerEnter",m="pointer"),x=g==null?f:Hr(g),v=y==null?f:Hr(y),f=new _(w,m+"leave",g,n,h),f.target=x,f.relatedTarget=v,w=null,lr(h)===c&&(_=new _(p,m+"enter",y,n,h),_.target=v,_.relatedTarget=x,w=_),x=w,g&&y)t:{for(_=g,p=y,m=0,v=_;v;v=Vr(v))m++;for(v=0,w=p;w;w=Vr(w))v++;for(;0<m-v;)_=Vr(_),m--;for(;0<v-m;)p=Vr(p),v--;for(;m--;){if(_===p||p!==null&&_===p.alternate)break t;_=Vr(_),p=Vr(p)}_=null}else _=null;g!==null&&Lm(d,f,g,_,!1),y!==null&&x!==null&&Lm(d,x,y,_,!0)}}e:{if(f=c?Hr(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var C=Bw;else if(Rm(f))if(F0)C=Ww;else{C=Hw;var k=jw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=qw);if(C&&(C=C(t,c))){O0(d,C,n,h);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&xc(f,"number",f.value)}switch(k=c?Hr(c):window,t){case"focusin":(Rm(k)||k.contentEditable==="true")&&(Br=k,Vc=c,mi=null);break;case"focusout":mi=Vc=Br=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Vm(d,n,h);break;case"selectionchange":if(Gw)break;case"keydown":case"keyup":Vm(d,n,h)}var D;if(hd)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else zr?b0(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(D0&&n.locale!=="ko"&&(zr||L!=="onCompositionStart"?L==="onCompositionEnd"&&zr&&(D=k0()):(Cn=h,ld="value"in Cn?Cn.value:Cn.textContent,zr=!0)),k=La(c,L),0<k.length&&(L=new Am(L,t,null,n,h),d.push({event:L,listeners:k}),D?L.data=D:(D=V0(n),D!==null&&(L.data=D)))),(D=Lw?Mw(t,n):$w(t,n))&&(c=La(c,"onBeforeInput"),0<c.length&&(h=new Am("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=D))}W0(d,e)})}function Vi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function La(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ni(t,n),i!=null&&r.unshift(Vi(t,i,s)),i=Ni(t,e),i!=null&&r.push(Vi(t,i,s))),t=t.return}return r}function Vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lm(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ni(n,i),l!=null&&o.unshift(Vi(n,l,a))):s||(l=Ni(n,i),l!=null&&o.push(Vi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Zw=/\r\n?/g,ex=/\u0000|\uFFFD/g;function Mm(t){return(typeof t=="string"?t:""+t).replace(Zw,`
`).replace(ex,"")}function qo(t,e,n){if(e=Mm(e),Mm(t)!==e&&n)throw Error(I(425))}function Ma(){}var Fc=null,Lc=null;function Mc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,tx=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,nx=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(t){return $m.resolve(null).then(t).catch(rx)}:$c;function rx(t){setTimeout(function(){throw t})}function Ou(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Pi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Pi(e)}function On(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Um(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Ns,Oi="__reactProps$"+Ns,pn="__reactContainer$"+Ns,Uc="__reactEvents$"+Ns,sx="__reactListeners$"+Ns,ix="__reactHandles$"+Ns;function lr(t){var e=t[Ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pn]||n[Ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Um(t);t!==null;){if(n=t[Ht])return n;t=Um(t)}return e}t=n,n=t.parentNode}return null}function ho(t){return t=t[Ht]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Il(t){return t[Oi]||null}var zc=[],qr=-1;function Jn(t){return{current:t}}function ue(t){0>qr||(t.current=zc[qr],zc[qr]=null,qr--)}function se(t,e){qr++,zc[qr]=t.current,t.current=e}var Wn={},Ye=Jn(Wn),at=Jn(!1),vr=Wn;function us(t,e){var n=t.type.contextTypes;if(!n)return Wn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function lt(t){return t=t.childContextTypes,t!=null}function $a(){ue(at),ue(Ye)}function zm(t,e,n){if(Ye.current!==Wn)throw Error(I(168));se(Ye,e),se(at,n)}function Q0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(I(108,jE(t)||"Unknown",s));return me({},n,r)}function Ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wn,vr=Ye.current,se(Ye,t),se(at,at.current),!0}function Bm(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=Q0(t,e,vr),r.__reactInternalMemoizedMergedChildContext=t,ue(at),ue(Ye),se(Ye,t)):ue(at),se(at,n)}var on=null,Nl=!1,Fu=!1;function G0(t){on===null?on=[t]:on.push(t)}function ox(t){Nl=!0,G0(t)}function Zn(){if(!Fu&&on!==null){Fu=!0;var t=0,e=te;try{var n=on;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}on=null,Nl=!1}catch(s){throw on!==null&&(on=on.slice(t+1)),E0(sd,Zn),s}finally{te=e,Fu=!1}}return null}var Wr=[],Kr=0,za=null,Ba=0,vt=[],_t=0,_r=null,an=1,ln="";function sr(t,e){Wr[Kr++]=Ba,Wr[Kr++]=za,za=t,Ba=e}function Y0(t,e,n){vt[_t++]=an,vt[_t++]=ln,vt[_t++]=_r,_r=t;var r=an;t=ln;var s=32-Ft(r)-1;r&=~(1<<s),n+=1;var i=32-Ft(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,an=1<<32-Ft(e)+s|n<<s|r,ln=i+t}else an=1<<i|n<<s|r,ln=t}function fd(t){t.return!==null&&(sr(t,1),Y0(t,1,0))}function md(t){for(;t===za;)za=Wr[--Kr],Wr[Kr]=null,Ba=Wr[--Kr],Wr[Kr]=null;for(;t===_r;)_r=vt[--_t],vt[_t]=null,ln=vt[--_t],vt[_t]=null,an=vt[--_t],vt[_t]=null}var ft=null,dt=null,he=!1,bt=null;function X0(t,e){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,dt=On(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_r!==null?{id:an,overflow:ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,dt=null,!0):!1;default:return!1}}function Bc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jc(t){if(he){var e=dt;if(e){var n=e;if(!jm(t,e)){if(Bc(t))throw Error(I(418));e=On(n.nextSibling);var r=ft;e&&jm(t,e)?X0(r,n):(t.flags=t.flags&-4097|2,he=!1,ft=t)}}else{if(Bc(t))throw Error(I(418));t.flags=t.flags&-4097|2,he=!1,ft=t}}}function Hm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Wo(t){if(t!==ft)return!1;if(!he)return Hm(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mc(t.type,t.memoizedProps)),e&&(e=dt)){if(Bc(t))throw J0(),Error(I(418));for(;e;)X0(t,e),e=On(e.nextSibling)}if(Hm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=On(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ft?On(t.stateNode.nextSibling):null;return!0}function J0(){for(var t=dt;t;)t=On(t.nextSibling)}function cs(){dt=ft=null,he=!1}function pd(t){bt===null?bt=[t]:bt.push(t)}var ax=wn.ReactCurrentBatchConfig;function kt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ja=Jn(null),Ha=null,Qr=null,gd=null;function yd(){gd=Qr=Ha=null}function vd(t){var e=ja.current;ue(ja),t._currentValue=e}function Hc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ns(t,e){Ha=t,gd=Qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function At(t){var e=t._currentValue;if(gd!==t)if(t={context:t,memoizedValue:e,next:null},Qr===null){if(Ha===null)throw Error(I(308));Qr=t,Ha.dependencies={lanes:0,firstContext:t}}else Qr=Qr.next=t;return e}var ur=null;function _d(t){ur===null?ur=[t]:ur.push(t)}function Z0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,_d(e)):(n.next=s.next,s.next=n),e.interleaved=n,gn(t,r)}function gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var An=!1;function Ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ey(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gn(t,n)}return s=r.interleaved,s===null?(e.next=e,_d(r)):(e.next=s.next,s.next=e),r.interleaved=e,gn(t,n)}function ma(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,id(t,n)}}function qm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qa(t,e,n,r){var s=t.updateQueue;An=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,h=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(f=e,g=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(g,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(g,d,f):y,f==null)break e;d=me({},d,f);break e;case 2:An=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wr|=o,t.lanes=o,t.memoizedState=d}}function Wm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var ty=new Zg.Component().refs;function qc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cl={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),s=Mn(t),i=cn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fn(t,i,s),e!==null&&(Lt(e,t,s,r),ma(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),s=Mn(t),i=cn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fn(t,i,s),e!==null&&(Lt(e,t,s,r),ma(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=Mn(t),s=cn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fn(t,s,r),e!==null&&(Lt(e,t,r,n),ma(e,t,r))}};function Km(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Di(n,r)||!Di(s,i):!0}function ny(t,e,n){var r=!1,s=Wn,i=e.contextType;return typeof i=="object"&&i!==null?i=At(i):(s=lt(e)?vr:Ye.current,r=e.contextTypes,i=(r=r!=null)?us(t,s):Wn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cl.enqueueReplaceState(e,e.state,null)}function Wc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=ty,Ed(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=At(i):(i=lt(e)?vr:Ye.current,s.context=us(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(qc(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cl.enqueueReplaceState(s,s.state,null),qa(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ks(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===ty&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function Ko(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gm(t){var e=t._init;return e(t._payload)}function ry(t){function e(p,m){if(t){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=$n(p,m),p.index=0,p.sibling=null,p}function i(p,m,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,w){return m===null||m.tag!==6?(m=ju(v,p.mode,w),m.return=p,m):(m=s(m,v),m.return=p,m)}function l(p,m,v,w){var C=v.type;return C===Ur?h(p,m,v.props.children,w,v.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tn&&Gm(C)===m.type)?(w=s(m,v.props),w.ref=Ks(p,m,v),w.return=p,w):(w=Ea(v.type,v.key,v.props,null,p.mode,w),w.ref=Ks(p,m,v),w.return=p,w)}function c(p,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Hu(v,p.mode,w),m.return=p,m):(m=s(m,v.children||[]),m.return=p,m)}function h(p,m,v,w,C){return m===null||m.tag!==7?(m=pr(v,p.mode,w,C),m.return=p,m):(m=s(m,v),m.return=p,m)}function d(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ju(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Fo:return v=Ea(m.type,m.key,m.props,null,p.mode,v),v.ref=Ks(p,null,m),v.return=p,v;case $r:return m=Hu(m,p.mode,v),m.return=p,m;case Tn:var w=m._init;return d(p,w(m._payload),v)}if(ni(m)||Bs(m))return m=pr(m,p.mode,v,null),m.return=p,m;Ko(p,m)}return null}function f(p,m,v,w){var C=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(p,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:return v.key===C?l(p,m,v,w):null;case $r:return v.key===C?c(p,m,v,w):null;case Tn:return C=v._init,f(p,m,C(v._payload),w)}if(ni(v)||Bs(v))return C!==null?null:h(p,m,v,w,null);Ko(p,v)}return null}function g(p,m,v,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(v)||null,a(m,p,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fo:return p=p.get(w.key===null?v:w.key)||null,l(m,p,w,C);case $r:return p=p.get(w.key===null?v:w.key)||null,c(m,p,w,C);case Tn:var k=w._init;return g(p,m,v,k(w._payload),C)}if(ni(w)||Bs(w))return p=p.get(v)||null,h(m,p,w,C,null);Ko(m,w)}return null}function y(p,m,v,w){for(var C=null,k=null,D=m,L=m=0,F=null;D!==null&&L<v.length;L++){D.index>L?(F=D,D=null):F=D.sibling;var $=f(p,D,v[L],w);if($===null){D===null&&(D=F);break}t&&D&&$.alternate===null&&e(p,D),m=i($,m,L),k===null?C=$:k.sibling=$,k=$,D=F}if(L===v.length)return n(p,D),he&&sr(p,L),C;if(D===null){for(;L<v.length;L++)D=d(p,v[L],w),D!==null&&(m=i(D,m,L),k===null?C=D:k.sibling=D,k=D);return he&&sr(p,L),C}for(D=r(p,D);L<v.length;L++)F=g(D,p,L,v[L],w),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?L:F.key),m=i(F,m,L),k===null?C=F:k.sibling=F,k=F);return t&&D.forEach(function(re){return e(p,re)}),he&&sr(p,L),C}function _(p,m,v,w){var C=Bs(v);if(typeof C!="function")throw Error(I(150));if(v=C.call(v),v==null)throw Error(I(151));for(var k=C=null,D=m,L=m=0,F=null,$=v.next();D!==null&&!$.done;L++,$=v.next()){D.index>L?(F=D,D=null):F=D.sibling;var re=f(p,D,$.value,w);if(re===null){D===null&&(D=F);break}t&&D&&re.alternate===null&&e(p,D),m=i(re,m,L),k===null?C=re:k.sibling=re,k=re,D=F}if($.done)return n(p,D),he&&sr(p,L),C;if(D===null){for(;!$.done;L++,$=v.next())$=d(p,$.value,w),$!==null&&(m=i($,m,L),k===null?C=$:k.sibling=$,k=$);return he&&sr(p,L),C}for(D=r(p,D);!$.done;L++,$=v.next())$=g(D,p,L,$.value,w),$!==null&&(t&&$.alternate!==null&&D.delete($.key===null?L:$.key),m=i($,m,L),k===null?C=$:k.sibling=$,k=$);return t&&D.forEach(function(st){return e(p,st)}),he&&sr(p,L),C}function x(p,m,v,w){if(typeof v=="object"&&v!==null&&v.type===Ur&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:e:{for(var C=v.key,k=m;k!==null;){if(k.key===C){if(C=v.type,C===Ur){if(k.tag===7){n(p,k.sibling),m=s(k,v.props.children),m.return=p,p=m;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tn&&Gm(C)===k.type){n(p,k.sibling),m=s(k,v.props),m.ref=Ks(p,k,v),m.return=p,p=m;break e}n(p,k);break}else e(p,k);k=k.sibling}v.type===Ur?(m=pr(v.props.children,p.mode,w,v.key),m.return=p,p=m):(w=Ea(v.type,v.key,v.props,null,p.mode,w),w.ref=Ks(p,m,v),w.return=p,p=w)}return o(p);case $r:e:{for(k=v.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=s(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Hu(v,p.mode,w),m.return=p,p=m}return o(p);case Tn:return k=v._init,x(p,m,k(v._payload),w)}if(ni(v))return y(p,m,v,w);if(Bs(v))return _(p,m,v,w);Ko(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,v),m.return=p,p=m):(n(p,m),m=ju(v,p.mode,w),m.return=p,p=m),o(p)):n(p,m)}return x}var hs=ry(!0),sy=ry(!1),fo={},Gt=Jn(fo),Fi=Jn(fo),Li=Jn(fo);function cr(t){if(t===fo)throw Error(I(174));return t}function wd(t,e){switch(se(Li,e),se(Fi,t),se(Gt,fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tc(e,t)}ue(Gt),se(Gt,e)}function ds(){ue(Gt),ue(Fi),ue(Li)}function iy(t){cr(Li.current);var e=cr(Gt.current),n=Tc(e,t.type);e!==n&&(se(Fi,t),se(Gt,n))}function xd(t){Fi.current===t&&(ue(Gt),ue(Fi))}var de=Jn(0);function Wa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lu=[];function Sd(){for(var t=0;t<Lu.length;t++)Lu[t]._workInProgressVersionPrimary=null;Lu.length=0}var pa=wn.ReactCurrentDispatcher,Mu=wn.ReactCurrentBatchConfig,Er=0,fe=null,Ae=null,Pe=null,Ka=!1,pi=!1,Mi=0,lx=0;function Ue(){throw Error(I(321))}function Td(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mt(t[n],e[n]))return!1;return!0}function Ad(t,e,n,r,s,i){if(Er=i,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pa.current=t===null||t.memoizedState===null?dx:fx,t=n(r,s),pi){i=0;do{if(pi=!1,Mi=0,25<=i)throw Error(I(301));i+=1,Pe=Ae=null,e.updateQueue=null,pa.current=mx,t=n(r,s)}while(pi)}if(pa.current=Qa,e=Ae!==null&&Ae.next!==null,Er=0,Pe=Ae=fe=null,Ka=!1,e)throw Error(I(300));return t}function Id(){var t=Mi!==0;return Mi=0,t}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?fe.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function It(){if(Ae===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=Pe===null?fe.memoizedState:Pe.next;if(e!==null)Pe=e,Ae=t;else{if(t===null)throw Error(I(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Pe===null?fe.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function $i(t,e){return typeof e=="function"?e(t):e}function $u(t){var e=It(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=Ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((Er&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,fe.lanes|=h,wr|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Mt(r,e.memoizedState)||(ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,fe.lanes|=i,wr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uu(t){var e=It(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Mt(i,e.memoizedState)||(ot=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function oy(){}function ay(t,e){var n=fe,r=It(),s=e(),i=!Mt(r.memoizedState,s);if(i&&(r.memoizedState=s,ot=!0),r=r.queue,Nd(cy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Ui(9,uy.bind(null,n,r,s,e),void 0,null),ke===null)throw Error(I(349));Er&30||ly(n,e,s)}return s}function ly(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uy(t,e,n,r){e.value=n,e.getSnapshot=r,hy(e)&&dy(t)}function cy(t,e,n){return n(function(){hy(e)&&dy(t)})}function hy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mt(t,n)}catch{return!0}}function dy(t){var e=gn(t,1);e!==null&&Lt(e,t,1,-1)}function Ym(t){var e=jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},e.queue=t,t=t.dispatch=hx.bind(null,fe,t),[e.memoizedState,t]}function Ui(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fy(){return It().memoizedState}function ga(t,e,n,r){var s=jt();fe.flags|=t,s.memoizedState=Ui(1|e,n,void 0,r===void 0?null:r)}function Rl(t,e,n,r){var s=It();r=r===void 0?null:r;var i=void 0;if(Ae!==null){var o=Ae.memoizedState;if(i=o.destroy,r!==null&&Td(r,o.deps)){s.memoizedState=Ui(e,n,i,r);return}}fe.flags|=t,s.memoizedState=Ui(1|e,n,i,r)}function Xm(t,e){return ga(8390656,8,t,e)}function Nd(t,e){return Rl(2048,8,t,e)}function my(t,e){return Rl(4,2,t,e)}function py(t,e){return Rl(4,4,t,e)}function gy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yy(t,e,n){return n=n!=null?n.concat([t]):null,Rl(4,4,gy.bind(null,e,t),n)}function Cd(){}function vy(t,e){var n=It();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Td(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _y(t,e){var n=It();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Td(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ey(t,e,n){return Er&21?(Mt(n,e)||(n=S0(),fe.lanes|=n,wr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=n)}function ux(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Mu.transition;Mu.transition={};try{t(!1),e()}finally{te=n,Mu.transition=r}}function wy(){return It().memoizedState}function cx(t,e,n){var r=Mn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xy(t))Sy(e,n);else if(n=Z0(t,e,n,r),n!==null){var s=tt();Lt(n,t,r,s),Ty(n,e,r)}}function hx(t,e,n){var r=Mn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xy(t))Sy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Mt(a,o)){var l=e.interleaved;l===null?(s.next=s,_d(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Z0(t,e,s,r),n!==null&&(s=tt(),Lt(n,t,r,s),Ty(n,e,r))}}function xy(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function Sy(t,e){pi=Ka=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ty(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,id(t,n)}}var Qa={readContext:At,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},dx={readContext:At,useCallback:function(t,e){return jt().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:Xm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ga(4194308,4,gy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ga(4194308,4,t,e)},useInsertionEffect:function(t,e){return ga(4,2,t,e)},useMemo:function(t,e){var n=jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cx.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=jt();return t={current:t},e.memoizedState=t},useState:Ym,useDebugValue:Cd,useDeferredValue:function(t){return jt().memoizedState=t},useTransition:function(){var t=Ym(!1),e=t[0];return t=ux.bind(null,t[1]),jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fe,s=jt();if(he){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),ke===null)throw Error(I(349));Er&30||ly(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Xm(cy.bind(null,r,i,t),[t]),r.flags|=2048,Ui(9,uy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=jt(),e=ke.identifierPrefix;if(he){var n=ln,r=an;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fx={readContext:At,useCallback:vy,useContext:At,useEffect:Nd,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:_y,useReducer:$u,useRef:fy,useState:function(){return $u($i)},useDebugValue:Cd,useDeferredValue:function(t){var e=It();return Ey(e,Ae.memoizedState,t)},useTransition:function(){var t=$u($i)[0],e=It().memoizedState;return[t,e]},useMutableSource:oy,useSyncExternalStore:ay,useId:wy,unstable_isNewReconciler:!1},mx={readContext:At,useCallback:vy,useContext:At,useEffect:Nd,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:_y,useReducer:Uu,useRef:fy,useState:function(){return Uu($i)},useDebugValue:Cd,useDeferredValue:function(t){var e=It();return Ae===null?e.memoizedState=t:Ey(e,Ae.memoizedState,t)},useTransition:function(){var t=Uu($i)[0],e=It().memoizedState;return[t,e]},useMutableSource:oy,useSyncExternalStore:ay,useId:wy,unstable_isNewReconciler:!1};function fs(t,e){try{var n="",r=e;do n+=BE(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var px=typeof WeakMap=="function"?WeakMap:Map;function Ay(t,e,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ya||(Ya=!0,rh=r),Kc(t,e)},n}function Iy(t,e,n){n=cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Kc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kc(t,e),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new px;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Rx.bind(null,t,e,n),e.then(t,t))}function Zm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ep(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cn(-1,1),e.tag=2,Fn(n,e,1))),n.lanes|=1),t)}var gx=wn.ReactCurrentOwner,ot=!1;function Ze(t,e,n,r){e.child=t===null?sy(e,null,n,r):hs(e,t.child,n,r)}function tp(t,e,n,r,s){n=n.render;var i=e.ref;return ns(e,s),r=Ad(t,e,n,r,i,s),n=Id(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yn(t,e,s)):(he&&n&&fd(e),e.flags|=1,Ze(t,e,r,s),e.child)}function np(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ny(t,e,i,r,s)):(t=Ea(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Di,n(o,r)&&t.ref===e.ref)return yn(t,e,s)}return e.flags|=1,t=$n(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ny(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Di(i,r)&&t.ref===e.ref)if(ot=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,yn(t,e,s)}return Qc(t,e,n,r,s)}function Cy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Yr,ht),ht|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(Yr,ht),ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(Yr,ht),ht|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,se(Yr,ht),ht|=r;return Ze(t,e,s,n),e.child}function Ry(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qc(t,e,n,r,s){var i=lt(n)?vr:Ye.current;return i=us(e,i),ns(e,s),n=Ad(t,e,n,r,i,s),r=Id(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yn(t,e,s)):(he&&r&&fd(e),e.flags|=1,Ze(t,e,n,s),e.child)}function rp(t,e,n,r,s){if(lt(n)){var i=!0;Ua(e)}else i=!1;if(ns(e,s),e.stateNode===null)ya(t,e),ny(e,n,r),Wc(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=At(c):(c=lt(n)?vr:Ye.current,c=us(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Qm(e,o,r,c),An=!1;var f=e.memoizedState;o.state=f,qa(e,r,o,s),l=e.memoizedState,a!==r||f!==l||at.current||An?(typeof h=="function"&&(qc(e,n,h,r),l=e.memoizedState),(a=An||Km(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ey(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:kt(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=At(l):(l=lt(n)?vr:Ye.current,l=us(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Qm(e,o,r,l),An=!1,f=e.memoizedState,o.state=f,qa(e,r,o,s);var y=e.memoizedState;a!==d||f!==y||at.current||An?(typeof g=="function"&&(qc(e,n,g,r),y=e.memoizedState),(c=An||Km(e,n,c,r,f,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gc(t,e,n,r,i,s)}function Gc(t,e,n,r,s,i){Ry(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Bm(e,n,!1),yn(t,e,i);r=e.stateNode,gx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hs(e,t.child,null,i),e.child=hs(e,null,a,i)):Ze(t,e,a,i),e.memoizedState=r.state,s&&Bm(e,n,!0),e.child}function Py(t){var e=t.stateNode;e.pendingContext?zm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zm(t,e.context,!1),wd(t,e.containerInfo)}function sp(t,e,n,r,s){return cs(),pd(s),e.flags|=256,Ze(t,e,n,r),e.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function Xc(t){return{baseLanes:t,cachePool:null,transitions:null}}function ky(t,e,n){var r=e.pendingProps,s=de.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),se(de,s&1),t===null)return jc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dl(o,r,0,null),t=pr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xc(n),e.memoizedState=Yc,t):Rd(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return yx(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$n(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$n(a,i):(i=pr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Xc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Yc,r}return i=t.child,t=i.sibling,r=$n(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rd(t,e){return e=Dl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qo(t,e,n,r){return r!==null&&pd(r),hs(e,t.child,null,n),t=Rd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yx(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=zu(Error(I(422))),Qo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Dl({mode:"visible",children:r.children},s,0,null),i=pr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&hs(e,t.child,null,o),e.child.memoizedState=Xc(o),e.memoizedState=Yc,i);if(!(e.mode&1))return Qo(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=zu(i,r,void 0),Qo(t,e,o,r)}if(a=(o&t.childLanes)!==0,ot||a){if(r=ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gn(t,s),Lt(r,t,s,-1))}return Od(),r=zu(Error(I(421))),Qo(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Px.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,dt=On(s.nextSibling),ft=e,he=!0,bt=null,t!==null&&(vt[_t++]=an,vt[_t++]=ln,vt[_t++]=_r,an=t.id,ln=t.overflow,_r=e),e=Rd(e,r.children),e.flags|=4096,e)}function ip(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hc(t.return,e,n)}function Bu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Dy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ze(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ip(t,n,e);else if(t.tag===19)ip(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(se(de,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Wa(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Wa(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bu(e,!0,n,null,i);break;case"together":Bu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ya(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=$n(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$n(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vx(t,e,n){switch(e.tag){case 3:Py(e),cs();break;case 5:iy(e);break;case 1:lt(e.type)&&Ua(e);break;case 4:wd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;se(ja,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?ky(t,e,n):(se(de,de.current&1),t=yn(t,e,n),t!==null?t.sibling:null);se(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,Cy(t,e,n)}return yn(t,e,n)}var by,Jc,Vy,Oy;by=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jc=function(){};Vy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,cr(Gt.current);var i=null;switch(n){case"input":s=Ec(t,s),r=Ec(t,r),i=[];break;case"select":s=me({},s,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":s=Sc(t,s),r=Sc(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ma)}Ac(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ai.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&oe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Oy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qs(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _x(t,e,n){var r=e.pendingProps;switch(md(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return lt(e.type)&&$a(),ze(e),null;case 3:return r=e.stateNode,ds(),ue(at),ue(Ye),Sd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(oh(bt),bt=null))),Jc(t,e),ze(e),null;case 5:xd(e);var s=cr(Li.current);if(n=e.type,t!==null&&e.stateNode!=null)Vy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return ze(e),null}if(t=cr(Gt.current),Wo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ht]=e,r[Oi]=i,t=(e.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(s=0;s<si.length;s++)oe(si[s],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":mm(r,i),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},oe("invalid",r);break;case"textarea":gm(r,i),oe("invalid",r)}Ac(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&qo(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&qo(r.textContent,a,t),s=["children",""+a]):Ai.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&oe("scroll",r)}switch(n){case"input":Lo(r),pm(r,i,!0);break;case"textarea":Lo(r),ym(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ma)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=l0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ht]=e,t[Oi]=r,by(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ic(n,r),n){case"dialog":oe("cancel",t),oe("close",t),s=r;break;case"iframe":case"object":case"embed":oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<si.length;s++)oe(si[s],t);s=r;break;case"source":oe("error",t),s=r;break;case"img":case"image":case"link":oe("error",t),oe("load",t),s=r;break;case"details":oe("toggle",t),s=r;break;case"input":mm(t,r),s=Ec(t,r),oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=me({},r,{value:void 0}),oe("invalid",t);break;case"textarea":gm(t,r),s=Sc(t,r),oe("invalid",t);break;default:s=r}Ac(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?h0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&u0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ii(t,l):typeof l=="number"&&Ii(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ai.hasOwnProperty(i)?l!=null&&i==="onScroll"&&oe("scroll",t):l!=null&&Zh(t,i,l,o))}switch(n){case"input":Lo(t),pm(t,r,!1);break;case"textarea":Lo(t),ym(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Jr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Jr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ma)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)Oy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=cr(Li.current),cr(Gt.current),Wo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ht]=e,(i=r.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:qo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=e,e.stateNode=r}return ze(e),null;case 13:if(ue(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&dt!==null&&e.mode&1&&!(e.flags&128))J0(),cs(),e.flags|=98560,i=!1;else if(i=Wo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Ht]=e}else cs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),i=!1}else bt!==null&&(oh(bt),bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Ie===0&&(Ie=3):Od())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return ds(),Jc(t,e),t===null&&bi(e.stateNode.containerInfo),ze(e),null;case 10:return vd(e.type._context),ze(e),null;case 17:return lt(e.type)&&$a(),ze(e),null;case 19:if(ue(de),i=e.memoizedState,i===null)return ze(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Qs(i,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wa(t),o!==null){for(e.flags|=128,Qs(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(de,de.current&1|2),e.child}t=t.sibling}i.tail!==null&&ve()>ms&&(e.flags|=128,r=!0,Qs(i,!1),e.lanes=4194304)}else{if(!r)if(t=Wa(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return ze(e),null}else 2*ve()-i.renderingStartTime>ms&&n!==1073741824&&(e.flags|=128,r=!0,Qs(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ve(),e.sibling=null,n=de.current,se(de,r?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return Vd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ht&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function Ex(t,e){switch(md(e),e.tag){case 1:return lt(e.type)&&$a(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ds(),ue(at),ue(Ye),Sd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xd(e),null;case 13:if(ue(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(de),null;case 4:return ds(),null;case 10:return vd(e.type._context),null;case 22:case 23:return Vd(),null;case 24:return null;default:return null}}var Go=!1,He=!1,wx=typeof WeakSet=="function"?WeakSet:Set,V=null;function Gr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function Zc(t,e,n){try{n()}catch(r){ge(t,e,r)}}var op=!1;function xx(t,e){if(Fc=Oa,t=$0(),dd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lc={focusedElem:t,selectionRange:n},Oa=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:kt(e.type,_),x);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){ge(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return y=op,op=!1,y}function gi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zc(e,n,i)}s=s.next}while(s!==r)}}function Pl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function eh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fy(t){var e=t.alternate;e!==null&&(t.alternate=null,Fy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[Oi],delete e[Uc],delete e[sx],delete e[ix])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ly(t){return t.tag===5||t.tag===3||t.tag===4}function ap(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function th(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ma));else if(r!==4&&(t=t.child,t!==null))for(th(t,e,n),t=t.sibling;t!==null;)th(t,e,n),t=t.sibling}function nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nh(t,e,n),t=t.sibling;t!==null;)nh(t,e,n),t=t.sibling}var Ve=null,Dt=!1;function xn(t,e,n){for(n=n.child;n!==null;)My(t,e,n),n=n.sibling}function My(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:He||Gr(n,e);case 6:var r=Ve,s=Dt;Ve=null,xn(t,e,n),Ve=r,Dt=s,Ve!==null&&(Dt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Dt?(t=Ve,n=n.stateNode,t.nodeType===8?Ou(t.parentNode,n):t.nodeType===1&&Ou(t,n),Pi(t)):Ou(Ve,n.stateNode));break;case 4:r=Ve,s=Dt,Ve=n.stateNode.containerInfo,Dt=!0,xn(t,e,n),Ve=r,Dt=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zc(n,e,o),s=s.next}while(s!==r)}xn(t,e,n);break;case 1:if(!He&&(Gr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ge(n,e,a)}xn(t,e,n);break;case 21:xn(t,e,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,xn(t,e,n),He=r):xn(t,e,n);break;default:xn(t,e,n)}}function lp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wx),e.forEach(function(r){var s=kx.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Dt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Dt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(Ve===null)throw Error(I(160));My(i,o,s),Ve=null,Dt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ge(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$y(e,t),e=e.sibling}function $y(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Bt(t),r&4){try{gi(3,t,t.return),Pl(3,t)}catch(_){ge(t,t.return,_)}try{gi(5,t,t.return)}catch(_){ge(t,t.return,_)}}break;case 1:Pt(e,t),Bt(t),r&512&&n!==null&&Gr(n,n.return);break;case 5:if(Pt(e,t),Bt(t),r&512&&n!==null&&Gr(n,n.return),t.flags&32){var s=t.stateNode;try{Ii(s,"")}catch(_){ge(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&o0(s,i),Ic(a,o);var c=Ic(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?h0(s,d):h==="dangerouslySetInnerHTML"?u0(s,d):h==="children"?Ii(s,d):Zh(s,h,d,c)}switch(a){case"input":wc(s,i);break;case"textarea":a0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Jr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Jr(s,!!i.multiple,i.defaultValue,!0):Jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Oi]=i}catch(_){ge(t,t.return,_)}}break;case 6:if(Pt(e,t),Bt(t),r&4){if(t.stateNode===null)throw Error(I(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){ge(t,t.return,_)}}break;case 3:if(Pt(e,t),Bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pi(e.containerInfo)}catch(_){ge(t,t.return,_)}break;case 4:Pt(e,t),Bt(t);break;case 13:Pt(e,t),Bt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dd=ve())),r&4&&lp(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(He=(c=He)||h,Pt(e,t),He=c):Pt(e,t),Bt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(V=t,h=t.child;h!==null;){for(d=V=h;V!==null;){switch(f=V,g=f.child,f.tag){case 0:case 11:case 14:case 15:gi(4,f,f.return);break;case 1:Gr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){ge(r,n,_)}}break;case 5:Gr(f,f.return);break;case 22:if(f.memoizedState!==null){cp(d);continue}}g!==null?(g.return=f,V=g):cp(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=c0("display",o))}catch(_){ge(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){ge(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pt(e,t),Bt(t),r&4&&lp(t);break;case 21:break;default:Pt(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ly(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ii(s,""),r.flags&=-33);var i=ap(t);nh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ap(t);th(t,a,o);break;default:throw Error(I(161))}}catch(l){ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sx(t,e,n){V=t,Uy(t)}function Uy(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Go;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||He;a=Go;var c=He;if(Go=o,(He=l)&&!c)for(V=s;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?hp(s):l!==null?(l.return=o,V=l):hp(s);for(;i!==null;)V=i,Uy(i),i=i.sibling;V=s,Go=a,He=c}up(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):up(t)}}function up(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||Pl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:kt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Wm(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Pi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}He||e.flags&512&&eh(e)}catch(f){ge(e,e.return,f)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function cp(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function hp(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pl(4,e)}catch(l){ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ge(e,s,l)}}var i=e.return;try{eh(e)}catch(l){ge(e,i,l)}break;case 5:var o=e.return;try{eh(e)}catch(l){ge(e,o,l)}}}catch(l){ge(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var Tx=Math.ceil,Ga=wn.ReactCurrentDispatcher,Pd=wn.ReactCurrentOwner,St=wn.ReactCurrentBatchConfig,J=0,ke=null,we=null,Le=0,ht=0,Yr=Jn(0),Ie=0,zi=null,wr=0,kl=0,kd=0,yi=null,it=null,Dd=0,ms=1/0,sn=null,Ya=!1,rh=null,Ln=null,Yo=!1,Rn=null,Xa=0,vi=0,sh=null,va=-1,_a=0;function tt(){return J&6?ve():va!==-1?va:va=ve()}function Mn(t){return t.mode&1?J&2&&Le!==0?Le&-Le:ax.transition!==null?(_a===0&&(_a=S0()),_a):(t=te,t!==0||(t=window.event,t=t===void 0?16:P0(t.type)),t):1}function Lt(t,e,n,r){if(50<vi)throw vi=0,sh=null,Error(I(185));uo(t,n,r),(!(J&2)||t!==ke)&&(t===ke&&(!(J&2)&&(kl|=n),Ie===4&&Nn(t,Le)),ut(t,r),n===1&&J===0&&!(e.mode&1)&&(ms=ve()+500,Nl&&Zn()))}function ut(t,e){var n=t.callbackNode;aw(t,e);var r=Va(t,t===ke?Le:0);if(r===0)n!==null&&Em(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Em(n),e===1)t.tag===0?ox(dp.bind(null,t)):G0(dp.bind(null,t)),nx(function(){!(J&6)&&Zn()}),n=null;else{switch(T0(r)){case 1:n=sd;break;case 4:n=w0;break;case 16:n=ba;break;case 536870912:n=x0;break;default:n=ba}n=Qy(n,zy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zy(t,e){if(va=-1,_a=0,J&6)throw Error(I(327));var n=t.callbackNode;if(rs()&&t.callbackNode!==n)return null;var r=Va(t,t===ke?Le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ja(t,r);else{e=r;var s=J;J|=2;var i=jy();(ke!==t||Le!==e)&&(sn=null,ms=ve()+500,mr(t,e));do try{Nx();break}catch(a){By(t,a)}while(1);yd(),Ga.current=i,J=s,we!==null?e=0:(ke=null,Le=0,e=Ie)}if(e!==0){if(e===2&&(s=kc(t),s!==0&&(r=s,e=ih(t,s))),e===1)throw n=zi,mr(t,0),Nn(t,r),ut(t,ve()),n;if(e===6)Nn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Ax(s)&&(e=Ja(t,r),e===2&&(i=kc(t),i!==0&&(r=i,e=ih(t,i))),e===1))throw n=zi,mr(t,0),Nn(t,r),ut(t,ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:ir(t,it,sn);break;case 3:if(Nn(t,r),(r&130023424)===r&&(e=Dd+500-ve(),10<e)){if(Va(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$c(ir.bind(null,t,it,sn),e);break}ir(t,it,sn);break;case 4:if(Nn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ft(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tx(r/1960))-r,10<r){t.timeoutHandle=$c(ir.bind(null,t,it,sn),r);break}ir(t,it,sn);break;case 5:ir(t,it,sn);break;default:throw Error(I(329))}}}return ut(t,ve()),t.callbackNode===n?zy.bind(null,t):null}function ih(t,e){var n=yi;return t.current.memoizedState.isDehydrated&&(mr(t,e).flags|=256),t=Ja(t,e),t!==2&&(e=it,it=n,e!==null&&oh(e)),t}function oh(t){it===null?it=t:it.push.apply(it,t)}function Ax(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nn(t,e){for(e&=~kd,e&=~kl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ft(e),r=1<<n;t[n]=-1,e&=~r}}function dp(t){if(J&6)throw Error(I(327));rs();var e=Va(t,0);if(!(e&1))return ut(t,ve()),null;var n=Ja(t,e);if(t.tag!==0&&n===2){var r=kc(t);r!==0&&(e=r,n=ih(t,r))}if(n===1)throw n=zi,mr(t,0),Nn(t,e),ut(t,ve()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ir(t,it,sn),ut(t,ve()),null}function bd(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(ms=ve()+500,Nl&&Zn())}}function xr(t){Rn!==null&&Rn.tag===0&&!(J&6)&&rs();var e=J;J|=1;var n=St.transition,r=te;try{if(St.transition=null,te=1,t)return t()}finally{te=r,St.transition=n,J=e,!(J&6)&&Zn()}}function Vd(){ht=Yr.current,ue(Yr)}function mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tx(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(md(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$a();break;case 3:ds(),ue(at),ue(Ye),Sd();break;case 5:xd(r);break;case 4:ds();break;case 13:ue(de);break;case 19:ue(de);break;case 10:vd(r.type._context);break;case 22:case 23:Vd()}n=n.return}if(ke=t,we=t=$n(t.current,null),Le=ht=e,Ie=0,zi=null,kd=kl=wr=0,it=yi=null,ur!==null){for(e=0;e<ur.length;e++)if(n=ur[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ur=null}return t}function By(t,e){do{var n=we;try{if(yd(),pa.current=Qa,Ka){for(var r=fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ka=!1}if(Er=0,Pe=Ae=fe=null,pi=!1,Mi=0,Pd.current=null,n===null||n.return===null){Ie=1,zi=e,we=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Le,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Zm(o);if(g!==null){g.flags&=-257,ep(g,o,a,i,e),g.mode&1&&Jm(i,c,e),e=g,l=c;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){Jm(i,c,e),Od();break e}l=Error(I(426))}}else if(he&&a.mode&1){var x=Zm(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ep(x,o,a,i,e),pd(fs(l,a));break e}}i=l=fs(l,a),Ie!==4&&(Ie=2),yi===null?yi=[i]:yi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Ay(i,l,e);qm(i,p);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ln===null||!Ln.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Iy(i,a,e);qm(i,w);break e}}i=i.return}while(i!==null)}qy(n)}catch(C){e=C,we===n&&n!==null&&(we=n=n.return);continue}break}while(1)}function jy(){var t=Ga.current;return Ga.current=Qa,t===null?Qa:t}function Od(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),ke===null||!(wr&268435455)&&!(kl&268435455)||Nn(ke,Le)}function Ja(t,e){var n=J;J|=2;var r=jy();(ke!==t||Le!==e)&&(sn=null,mr(t,e));do try{Ix();break}catch(s){By(t,s)}while(1);if(yd(),J=n,Ga.current=r,we!==null)throw Error(I(261));return ke=null,Le=0,Ie}function Ix(){for(;we!==null;)Hy(we)}function Nx(){for(;we!==null&&!JE();)Hy(we)}function Hy(t){var e=Ky(t.alternate,t,ht);t.memoizedProps=t.pendingProps,e===null?qy(t):we=e,Pd.current=null}function qy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ex(n,e),n!==null){n.flags&=32767,we=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,we=null;return}}else if(n=_x(n,e,ht),n!==null){we=n;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);Ie===0&&(Ie=5)}function ir(t,e,n){var r=te,s=St.transition;try{St.transition=null,te=1,Cx(t,e,n,r)}finally{St.transition=s,te=r}return null}function Cx(t,e,n,r){do rs();while(Rn!==null);if(J&6)throw Error(I(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(lw(t,i),t===ke&&(we=ke=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yo||(Yo=!0,Qy(ba,function(){return rs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=St.transition,St.transition=null;var o=te;te=1;var a=J;J|=4,Pd.current=null,xx(t,n),$y(n,t),Qw(Lc),Oa=!!Fc,Lc=Fc=null,t.current=n,Sx(n),ZE(),J=a,te=o,St.transition=i}else t.current=n;if(Yo&&(Yo=!1,Rn=t,Xa=s),i=t.pendingLanes,i===0&&(Ln=null),nw(n.stateNode),ut(t,ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ya)throw Ya=!1,t=rh,rh=null,t;return Xa&1&&t.tag!==0&&rs(),i=t.pendingLanes,i&1?t===sh?vi++:(vi=0,sh=t):vi=0,Zn(),null}function rs(){if(Rn!==null){var t=T0(Xa),e=St.transition,n=te;try{if(St.transition=null,te=16>t?16:t,Rn===null)var r=!1;else{if(t=Rn,Rn=null,Xa=0,J&6)throw Error(I(331));var s=J;for(J|=4,V=t.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(V=c;V!==null;){var h=V;switch(h.tag){case 0:case 11:case 15:gi(8,h,i)}var d=h.child;if(d!==null)d.return=h,V=d;else for(;V!==null;){h=V;var f=h.sibling,g=h.return;if(Fy(h),h===c){V=null;break}if(f!==null){f.return=g,V=f;break}V=g}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gi(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,V=p;break e}V=i.return}}var m=t.current;for(V=m;V!==null;){o=V;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,V=v;else e:for(o=m;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pl(9,a)}}catch(C){ge(a,a.return,C)}if(a===o){V=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,V=w;break e}V=a.return}}if(J=s,Zn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(xl,t)}catch{}r=!0}return r}finally{te=n,St.transition=e}}return!1}function fp(t,e,n){e=fs(n,e),e=Ay(t,e,1),t=Fn(t,e,1),e=tt(),t!==null&&(uo(t,1,e),ut(t,e))}function ge(t,e,n){if(t.tag===3)fp(t,t,n);else for(;e!==null;){if(e.tag===3){fp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){t=fs(n,t),t=Iy(e,t,1),e=Fn(e,t,1),t=tt(),e!==null&&(uo(e,1,t),ut(e,t));break}}e=e.return}}function Rx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,ke===t&&(Le&n)===n&&(Ie===4||Ie===3&&(Le&130023424)===Le&&500>ve()-Dd?mr(t,0):kd|=n),ut(t,e)}function Wy(t,e){e===0&&(t.mode&1?(e=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):e=1);var n=tt();t=gn(t,e),t!==null&&(uo(t,e,n),ut(t,n))}function Px(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wy(t,n)}function kx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),Wy(t,n)}var Ky;Ky=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||at.current)ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ot=!1,vx(t,e,n);ot=!!(t.flags&131072)}else ot=!1,he&&e.flags&1048576&&Y0(e,Ba,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ya(t,e),t=e.pendingProps;var s=us(e,Ye.current);ns(e,n),s=Ad(null,e,r,t,s,n);var i=Id();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(i=!0,Ua(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ed(e),s.updater=Cl,e.stateNode=s,s._reactInternals=e,Wc(e,r,t,n),e=Gc(null,e,r,!0,i,n)):(e.tag=0,he&&i&&fd(e),Ze(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ya(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=bx(r),t=kt(r,t),s){case 0:e=Qc(null,e,r,t,n);break e;case 1:e=rp(null,e,r,t,n);break e;case 11:e=tp(null,e,r,t,n);break e;case 14:e=np(null,e,r,kt(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),Qc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),rp(t,e,r,s,n);case 3:e:{if(Py(e),t===null)throw Error(I(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ey(t,e),qa(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fs(Error(I(423)),e),e=sp(t,e,r,n,s);break e}else if(r!==s){s=fs(Error(I(424)),e),e=sp(t,e,r,n,s);break e}else for(dt=On(e.stateNode.containerInfo.firstChild),ft=e,he=!0,bt=null,n=sy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cs(),r===s){e=yn(t,e,n);break e}Ze(t,e,r,n)}e=e.child}return e;case 5:return iy(e),t===null&&jc(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Mc(r,s)?o=null:i!==null&&Mc(r,i)&&(e.flags|=32),Ry(t,e),Ze(t,e,o,n),e.child;case 6:return t===null&&jc(e),null;case 13:return ky(t,e,n);case 4:return wd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hs(e,null,r,n):Ze(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),tp(t,e,r,s,n);case 7:return Ze(t,e,e.pendingProps,n),e.child;case 8:return Ze(t,e,e.pendingProps.children,n),e.child;case 12:return Ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,se(ja,r._currentValue),r._currentValue=o,i!==null)if(Mt(i.value,o)){if(i.children===s.children&&!at.current){e=yn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=cn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hc(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ns(e,n),s=At(s),r=r(s),e.flags|=1,Ze(t,e,r,n),e.child;case 14:return r=e.type,s=kt(r,e.pendingProps),s=kt(r.type,s),np(t,e,r,s,n);case 15:return Ny(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),ya(t,e),e.tag=1,lt(r)?(t=!0,Ua(e)):t=!1,ns(e,n),ny(e,r,s),Wc(e,r,s,n),Gc(null,e,r,!0,t,n);case 19:return Dy(t,e,n);case 22:return Cy(t,e,n)}throw Error(I(156,e.tag))};function Qy(t,e){return E0(t,e)}function Dx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,e,n,r){return new Dx(t,e,n,r)}function Fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bx(t){if(typeof t=="function")return Fd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===td)return 11;if(t===nd)return 14}return 2}function $n(t,e){var n=t.alternate;return n===null?(n=xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ea(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ur:return pr(n.children,s,i,e);case ed:o=8,s|=8;break;case gc:return t=xt(12,n,e,s|2),t.elementType=gc,t.lanes=i,t;case yc:return t=xt(13,n,e,s),t.elementType=yc,t.lanes=i,t;case vc:return t=xt(19,n,e,s),t.elementType=vc,t.lanes=i,t;case r0:return Dl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t0:o=10;break e;case n0:o=9;break e;case td:o=11;break e;case nd:o=14;break e;case Tn:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=xt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function pr(t,e,n,r){return t=xt(7,t,r,e),t.lanes=n,t}function Dl(t,e,n,r){return t=xt(22,t,r,e),t.elementType=r0,t.lanes=n,t.stateNode={isHidden:!1},t}function ju(t,e,n){return t=xt(6,t,null,e),t.lanes=n,t}function Hu(t,e,n){return e=xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vx(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tu(0),this.expirationTimes=Tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ld(t,e,n,r,s,i,o,a,l){return t=new Vx(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(i),t}function Ox(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Gy(t){if(!t)return Wn;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(lt(n))return Q0(t,n,e)}return e}function Yy(t,e,n,r,s,i,o,a,l){return t=Ld(n,r,!0,t,s,i,o,a,l),t.context=Gy(null),n=t.current,r=tt(),s=Mn(n),i=cn(r,s),i.callback=e??null,Fn(n,i,s),t.current.lanes=s,uo(t,s,r),ut(t,r),t}function bl(t,e,n,r){var s=e.current,i=tt(),o=Mn(s);return n=Gy(n),e.context===null?e.context=n:e.pendingContext=n,e=cn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fn(s,e,o),t!==null&&(Lt(t,s,o,i),ma(t,s,o)),o}function Za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Md(t,e){mp(t,e),(t=t.alternate)&&mp(t,e)}function Fx(){return null}var Xy=typeof reportError=="function"?reportError:function(t){console.error(t)};function $d(t){this._internalRoot=t}Vl.prototype.render=$d.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));bl(t,e,null,null)};Vl.prototype.unmount=$d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xr(function(){bl(null,t,null,null)}),e[pn]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=N0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<In.length&&e!==0&&e<In[n].priority;n++);In.splice(n,0,t),n===0&&R0(t)}};function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ol(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pp(){}function Lx(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Za(o);i.call(c)}}var o=Yy(e,r,t,0,null,!1,!1,"",pp);return t._reactRootContainer=o,t[pn]=o.current,bi(t.nodeType===8?t.parentNode:t),xr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Za(l);a.call(c)}}var l=Ld(t,0,!1,null,null,!1,!1,"",pp);return t._reactRootContainer=l,t[pn]=l.current,bi(t.nodeType===8?t.parentNode:t),xr(function(){bl(e,l,n,r)}),l}function Fl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Za(o);a.call(l)}}bl(e,o,t,s)}else o=Lx(n,e,t,s,r);return Za(o)}A0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ri(e.pendingLanes);n!==0&&(id(e,n|1),ut(e,ve()),!(J&6)&&(ms=ve()+500,Zn()))}break;case 13:xr(function(){var r=gn(t,1);if(r!==null){var s=tt();Lt(r,t,1,s)}}),Md(t,1)}};od=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var n=tt();Lt(e,t,134217728,n)}Md(t,134217728)}};I0=function(t){if(t.tag===13){var e=Mn(t),n=gn(t,e);if(n!==null){var r=tt();Lt(n,t,e,r)}Md(t,e)}};N0=function(){return te};C0=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Cc=function(t,e,n){switch(e){case"input":if(wc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Il(r);if(!s)throw Error(I(90));i0(r),wc(r,s)}}}break;case"textarea":a0(t,n);break;case"select":e=n.value,e!=null&&Jr(t,!!n.multiple,e,!1)}};m0=bd;p0=xr;var Mx={usingClientEntryPoint:!1,Events:[ho,Hr,Il,d0,f0,bd]},Gs={findFiberByHostInstance:lr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$x={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=v0(t),t===null?null:t.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||Fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{xl=Xo.inject($x),Qt=Xo}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mx;gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(e))throw Error(I(200));return Ox(t,e,null,n)};gt.createRoot=function(t,e){if(!Ud(t))throw Error(I(299));var n=!1,r="",s=Xy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ld(t,1,!1,null,null,n,!1,r,s),t[pn]=e.current,bi(t.nodeType===8?t.parentNode:t),new $d(e)};gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=v0(e),t=t===null?null:t.stateNode,t};gt.flushSync=function(t){return xr(t)};gt.hydrate=function(t,e,n){if(!Ol(e))throw Error(I(200));return Fl(null,t,e,!0,n)};gt.hydrateRoot=function(t,e,n){if(!Ud(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Xy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Yy(e,null,t,1,n??null,s,!1,i,o),t[pn]=e.current,bi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Vl(e)};gt.render=function(t,e,n){if(!Ol(e))throw Error(I(200));return Fl(null,t,e,!1,n)};gt.unmountComponentAtNode=function(t){if(!Ol(t))throw Error(I(40));return t._reactRootContainer?(xr(function(){Fl(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1};gt.unstable_batchedUpdates=bd;gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ol(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Fl(t,e,n,!1,r)};gt.version="18.2.0-next-9e3b772b8-20220608";function Jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jy)}catch(t){console.error(t)}}Jy(),Yg.exports=gt;var Ux=Yg.exports;const zx=zg(Ux);var Zy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gp=u.createContext&&u.createContext(Zy),Un=globalThis&&globalThis.__assign||function(){return Un=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Un.apply(this,arguments)},Bx=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function ev(t){return t&&t.map(function(e,n){return u.createElement(e.tag,Un({key:n},e.attr),ev(e.child))})}function tn(t){return function(e){return u.createElement(jx,Un({attr:Un({},t.attr)},e),ev(t.child))}}function jx(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,o=Bx(t,["attr","size","title"]),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),u.createElement("svg",Un({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Un(Un({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&u.createElement("title",null,i),t.children)};return gp!==void 0?u.createElement(gp.Consumer,null,function(n){return e(n)}):e(Zy)}function yp(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M193 796c0 17.7 14.3 32 32 32h574c17.7 0 32-14.3 32-32V563c0-176.2-142.8-319-319-319S193 386.8 193 563v233zm72-233c0-136.4 110.6-247 247-247s247 110.6 247 247v193H404V585c0-5.5-4.5-10-10-10h-44c-5.5 0-10 4.5-10 10v171h-75V563zm-48.1-252.5l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3l-67.9-67.9a8.03 8.03 0 0 0-11.3 0l-39.6 39.6a8.03 8.03 0 0 0 0 11.3l67.9 67.9c3.1 3.1 8.1 3.1 11.3 0zm669.6-79.2l-39.6-39.6a8.03 8.03 0 0 0-11.3 0l-67.9 67.9a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l67.9-67.9c3.1-3.2 3.1-8.2 0-11.3zM832 892H192c-17.7 0-32 14.3-32 32v24c0 4.4 3.6 8 8 8h688c4.4 0 8-3.6 8-8v-24c0-17.7-14.3-32-32-32zM484 180h56c4.4 0 8-3.6 8-8V76c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v96c0 4.4 3.6 8 8 8z"}}]})(t)}function Hx(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]})(t)}function zd(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]})(t)}function Bd(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"}}]})(t)}function qx(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 0 0 9.3-35.2l-.9-2.6a443.74 443.74 0 0 0-79.7-137.9l-1.8-2.1a32.12 32.12 0 0 0-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 0 0-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 0 0-25.8 25.7l-15.8 85.4a351.86 351.86 0 0 0-99 57.4l-81.9-29.1a32 32 0 0 0-35.1 9.5l-1.8 2.1a446.02 446.02 0 0 0-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 0 0-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0 0 35.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0 0 25.8 25.7l2.7.5a449.4 449.4 0 0 0 159 0l2.7-.5a32.05 32.05 0 0 0 25.8-25.7l15.7-85a350 350 0 0 0 99.7-57.6l81.3 28.9a32 32 0 0 0 35.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 0 1-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 0 1-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 0 1 624 502c0 29.9-11.7 58-32.8 79.2z"}}]})(t)}function Wx(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]})(t)}function Kx(t){return tn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5"}}]})(t)}function Qx(t){return tn({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M247.63,39.89a8,8,0,0,0-7.52-7.52c-51.76-3-93.32,12.74-111.18,42.22-11.8,19.49-11.78,43.16-.16,65.74a71.34,71.34,0,0,0-14.17,27L98.33,151c7.82-16.33,7.52-33.35-1-47.49-13.2-21.79-43.67-33.47-81.5-31.25a8,8,0,0,0-7.52,7.52c-2.23,37.83,9.46,68.3,31.25,81.5A45.82,45.82,0,0,0,63.44,168,54.58,54.58,0,0,0,87,162.33l25,25V216a8,8,0,0,0,16,0V186.51a55.61,55.61,0,0,1,12.27-35,73.91,73.91,0,0,0,33.31,8.4,60.9,60.9,0,0,0,31.83-8.86C234.89,133.21,250.67,91.65,247.63,39.89ZM47.81,147.6C32.47,138.31,23.79,116.32,24,88c28.32-.24,50.31,8.47,59.6,23.81,4.85,8,5.64,17.33,2.46,26.94L61.65,114.34a8,8,0,0,0-11.31,11.31l24.41,24.41C65.14,153.24,55.82,152.45,47.81,147.6Zm149.31-10.22c-13.4,8.11-29.15,8.73-45.15,2l53.69-53.7a8,8,0,0,0-11.31-11.31L140.65,128c-6.76-16-6.15-31.76,2-45.15,13.94-23,47-35.82,89.33-34.83C232.94,90.34,220.14,123.44,197.12,137.38Z"}}]})(t)}/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bi.apply(this,arguments)}var Pn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pn||(Pn={}));const vp="popstate";function Gx(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return ah("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:el(s)}return Xx(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yx(){return Math.random().toString(36).substr(2,8)}function _p(t,e){return{usr:t.state,key:t.key,idx:e}}function ah(t,e,n,r){return n===void 0&&(n=null),Bi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Cs(e):e,{state:n,key:e&&e.key||r||Yx()})}function el(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Xx(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Pn.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Bi({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Pn.Pop;let x=h(),p=x==null?null:x-c;c=x,l&&l({action:a,location:_.location,delta:p})}function f(x,p){a=Pn.Push;let m=ah(_.location,x,p);n&&n(m,x),c=h()+1;let v=_p(m,c),w=_.createHref(m);try{o.pushState(v,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(w)}i&&l&&l({action:a,location:_.location,delta:1})}function g(x,p){a=Pn.Replace;let m=ah(_.location,x,p);n&&n(m,x),c=h();let v=_p(m,c),w=_.createHref(m);o.replaceState(v,"",w),i&&l&&l({action:a,location:_.location,delta:0})}function y(x){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:el(x);return Se(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let _={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(vp,d),l=x,()=>{s.removeEventListener(vp,d),l=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let p=y(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(x){return o.go(x)}};return _}var Ep;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ep||(Ep={}));function Jx(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Cs(e):e,s=Hd(r.pathname||"/",n);if(s==null)return null;let i=tv(t);Zx(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=l2(i[a],h2(s));return o}function tv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zn([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tv(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:o2(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of nv(i.path))s(i,o,l)}),e}function nv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=nv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Zx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e2=/^:\w+$/,t2=3,n2=2,r2=1,s2=10,i2=-2,wp=t=>t==="*";function o2(t,e){let n=t.split("/"),r=n.length;return n.some(wp)&&(r+=i2),e&&(r+=n2),n.filter(s=>!wp(s)).reduce((s,i)=>s+(e2.test(i)?t2:i===""?r2:s2),r)}function a2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function l2(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=u2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!h)return null;Object.assign(r,h.params);let d=a.route;i.push({params:r,pathname:zn([s,h.pathname]),pathnameBase:p2(zn([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=zn([s,h.pathnameBase]))}return i}function u2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,d)=>{if(h==="*"){let f=a[d]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[h]=d2(a[d]||"",h),c},{}),pathname:i,pathnameBase:o,pattern:t}}function c2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function h2(t){try{return decodeURI(t)}catch(e){return jd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d2(t,e){try{return decodeURIComponent(t)}catch(n){return jd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Hd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function f2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Cs(t):t;return{pathname:n?n.startsWith("/")?n:m2(n,e):e,search:g2(r),hash:y2(s)}}function m2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Cs(t):(s=Bi({},t),Se(!s.pathname||!s.pathname.includes("?"),qu("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),qu("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),qu("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=f2(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),p2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iv=["post","put","patch","delete"];new Set(iv);const _2=["get",...iv];new Set(_2);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}const qd=E.createContext(null),E2=E.createContext(null),Rs=E.createContext(null),Ll=E.createContext(null),Pr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),ov=E.createContext(null);function w2(t,e){let{relative:n}=e===void 0?{}:e;mo()||Se(!1);let{basename:r,navigator:s}=E.useContext(Rs),{hash:i,pathname:o,search:a}=uv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function mo(){return E.useContext(Ll)!=null}function Ml(){return mo()||Se(!1),E.useContext(Ll).location}function av(t){E.useContext(Rs).static||E.useLayoutEffect(t)}function lv(){let{isDataRoute:t}=E.useContext(Pr);return t?V2():x2()}function x2(){mo()||Se(!1);let t=E.useContext(qd),{basename:e,navigator:n}=E.useContext(Rs),{matches:r}=E.useContext(Pr),{pathname:s}=Ml(),i=JSON.stringify(rv(r).map(l=>l.pathnameBase)),o=E.useRef(!1);return av(()=>{o.current=!0}),E.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=sv(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,i,s,t])}function uv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Pr),{pathname:s}=Ml(),i=JSON.stringify(rv(r).map(o=>o.pathnameBase));return E.useMemo(()=>sv(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function S2(t,e){return T2(t,e)}function T2(t,e,n){mo()||Se(!1);let{navigator:r}=E.useContext(Rs),{matches:s}=E.useContext(Pr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Ml(),c;if(e){var h;let _=typeof e=="string"?Cs(e):e;a==="/"||(h=_.pathname)!=null&&h.startsWith(a)||Se(!1),c=_}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",g=Jx(t,{pathname:f}),y=R2(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:zn([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:zn([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n);return e&&y?E.createElement(Ll.Provider,{value:{location:tl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Pn.Pop}},y):y}function A2(){let t=b2(),e=v2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,i)}const I2=E.createElement(A2,null);class N2 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Pr.Provider,{value:this.props.routeContext},E.createElement(ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C2(t){let{routeContext:e,match:n,children:r}=t,s=E.useContext(qd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Pr.Provider,{value:e},r)}function R2(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Se(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let h=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||I2);let f=e.concat(i.slice(0,c+1)),g=()=>{let y;return h?y=d:l.route.Component?y=E.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,E.createElement(C2,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?E.createElement(N2,{location:n.location,revalidation:n.revalidation,component:d,error:h,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var cv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cv||{}),nl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nl||{});function P2(t){let e=E.useContext(qd);return e||Se(!1),e}function k2(t){let e=E.useContext(E2);return e||Se(!1),e}function D2(t){let e=E.useContext(Pr);return e||Se(!1),e}function hv(t){let e=D2(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function b2(){var t;let e=E.useContext(ov),n=k2(nl.UseRouteError),r=hv(nl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function V2(){let{router:t}=P2(cv.UseNavigateStable),e=hv(nl.UseNavigateStable),n=E.useRef(!1);return av(()=>{n.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,tl({fromRouteId:e},i)))},[t,e])}function or(t){Se(!1)}function O2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Pn.Pop,navigator:i,static:o=!1}=t;mo()&&Se(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Cs(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:g="default"}=r,y=E.useMemo(()=>{let _=Hd(c,a);return _==null?null:{location:{pathname:_,search:h,hash:d,state:f,key:g},navigationType:s}},[a,c,h,d,f,g,s]);return y==null?null:E.createElement(Rs.Provider,{value:l},E.createElement(Ll.Provider,{children:n,value:y}))}function F2(t){let{children:e,location:n}=t;return S2(lh(e),n)}new Promise(()=>{});function lh(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,lh(r.props.children,i));return}r.type!==or&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uh.apply(this,arguments)}function L2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function M2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $2(t,e){return t.button===0&&(!e||e==="_self")&&!M2(t)}const U2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],z2="startTransition",xp=FE[z2];function B2(t){let{basename:e,children:n,future:r,window:s}=t,i=E.useRef();i.current==null&&(i.current=Gx({window:s,v5Compat:!0}));let o=i.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=E.useCallback(d=>{c&&xp?xp(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>o.listen(h),[o,h]),E.createElement(O2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const j2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ys=E.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=L2(e,U2),{basename:g}=E.useContext(Rs),y,_=!1;if(typeof c=="string"&&H2.test(c)&&(y=c,j2))try{let v=new URL(window.location.href),w=c.startsWith("//")?new URL(v.protocol+c):new URL(c),C=Hd(w.pathname,g);w.origin===v.origin&&C!=null?c=C+w.search+w.hash:_=!0}catch{}let x=w2(c,{relative:s}),p=q2(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,unstable_viewTransition:d});function m(v){r&&r(v),v.defaultPrevented||p(v)}return E.createElement("a",uh({},f,{href:y||x,onClick:_||i?r:m,ref:n,target:l}))});var Sp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sp||(Sp={}));var Tp;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Tp||(Tp={}));function q2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=lv(),c=Ml(),h=uv(t,{relative:o});return E.useCallback(d=>{if($2(d,n)){d.preventDefault();let f=r!==void 0?r:el(c)===el(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}const dv="/assets/logo-2ad5d534.png";function W2(){const[t,e]=E.useState(!1),n=()=>{e(!t)};return u.createElement("div",{className:"bg-white w-1/6 h-screen fixed shadow-xl"},u.createElement("div",{className:"p-6 mx-auto flex"},u.createElement("img",{className:"w-[60px]",src:dv,alt:""}),u.createElement("span",{className:"mt-4 ml-2 font-semibold text-xl"},"Farmwise")),u.createElement("nav",{className:"flex flex-col items-center"},u.createElement("ul",{className:"mt-5"},u.createElement("li",{className:"mb-2 "},u.createElement(Ys,{to:"/dashboard",className:`flex items-center  whitespace-nowrap py-[10px] px-2 w-52 font-normal\r
              tracking-wide rounded-lg text-[18px] hover:bg-[#AAFF00]  hover:text-white`},u.createElement(Hx,{size:"24",className:"mr-5 ml-3"})," Dashboard")),u.createElement("li",{className:"mb-2"},u.createElement("div",{onClick:n,className:`flex items-center  whitespace-nowrap py-[10px] px-2 w-52 font-normal\r
              tracking-wide rounded-lg text-[18px] hover:bg-[#AAFF00]  hover:text-white`},u.createElement(yp,{size:"24",className:"mr-5 ml-3"})," Alert",u.createElement("span",null,t?"-":"+")),t&&u.createElement("ul",null,u.createElement("li",{className:"mb-2 pl-8"},u.createElement(Ys,{to:"/alert",className:`flex items-center  whitespace-nowrap py-[10px] px-2 font-normal\r
                    tracking-wide rounded-lg text-[18px] hover:bg-[#AAFF00]  hover:text-white`},u.createElement(Kx,{size:"20",className:"mr-3"})," New Alert")),u.createElement("li",{className:"mb-2 pl-8"},u.createElement(Ys,{to:"/alerthistory",className:`flex items-center  whitespace-nowrap py-[10px] px-2 font-normal \r
                    tracking-wide rounded-lg text-[18px] hover:bg-[#AAFF00]  hover:text-white`},u.createElement(yp,{size:"20",className:"mr-3"})," Alert History")))),u.createElement("li",{className:"mb-2"},u.createElement(Ys,{to:"/farmer",className:`flex items-center  whitespace-nowrap py-[10px] px-2 w-52 font-normal\r
              tracking-wide rounded-lg text-[18px] hover:bg-[#AAFF00]  hover:text-white`},u.createElement(Wx,{size:"24",className:"mr-5 ml-3"})," Farmer")),u.createElement("li",{className:"mb-2"},u.createElement(Ys,{to:"/soilmodule",className:`flex items-center  whitespace-nowrap py-[10px] px-2 w-52 font-normal\r
              tracking-wide rounded-lg text-[18px] hover:bg-[#AAFF00]  hover:text-white`},u.createElement(Qx,{size:"24",className:"mr-5 ml-3"})," Soil Module")),u.createElement("li",{className:"mb-2"},u.createElement("a",{href:"#",className:`flex items-center  whitespace-nowrap py-[10px] px-2 w-52 font-normal\r
              tracking-wide rounded-lg text-[18px] hover:bg-[#AAFF00]  hover:text-white`},u.createElement(qx,{size:"24",className:"mr-5 ml-3"})," Setting")))))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},K2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new Q2;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G2=function(t){const e=fv(t);return mv.encodeByteArray(e,!0)},rl=function(t){return G2(t).replace(/\./g,"")},Y2=function(t){try{return mv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=()=>X2().__FIREBASE_DEFAULTS__,Z2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y2(t[1]);return e&&JSON.parse(e)},pv=()=>{try{return J2()||Z2()||eS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tS=t=>{var e,n;return(n=(e=pv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nS=t=>{const e=tS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gv=()=>{var t;return(t=pv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[rl(JSON.stringify(n)),rl(JSON.stringify(o)),a].join(".")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="FirebaseError";class Ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aS,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yv.prototype.create)}}class yv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?lS(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ps(s,a,r)}}function lS(t,e){return t.replace(uS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const uS=/\{\$([^}]+)}/g;function ch(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ap(i)&&Ap(o)){if(!ch(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ap(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){return t&&t._delegate?t._delegate:t}class ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dS(e))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ar){return this.instances.has(e)}getOptions(e=ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ar){return this.component?this.component.multipleInstances?e:ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(t){return t===ar?void 0:t}function dS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Y||(Y={}));const mS={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},pS=Y.INFO,gS={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},yS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=gS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vv{constructor(e){this.name=e,this._logLevel=pS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const vS=(t,e)=>e.some(n=>t instanceof n);let Ip,Np;function _S(){return Ip||(Ip=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return Np||(Np=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,hh=new WeakMap,Ev=new WeakMap,Wu=new WeakMap,Wd=new WeakMap;function wS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Bn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_v.set(n,t)}).catch(()=>{}),Wd.set(e,t),e}function xS(t){if(hh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hh.set(t,e)}let dh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ev.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SS(t){dh=t(dh)}function TS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ku(this),e,...n);return Ev.set(r,e.sort?e.sort():[e]),Bn(r)}:ES().includes(t)?function(...e){return t.apply(Ku(this),e),Bn(_v.get(this))}:function(...e){return Bn(t.apply(Ku(this),e))}}function AS(t){return typeof t=="function"?TS(t):(t instanceof IDBTransaction&&xS(t),vS(t,_S())?new Proxy(t,dh):t)}function Bn(t){if(t instanceof IDBRequest)return wS(t);if(Wu.has(t))return Wu.get(t);const e=AS(t);return e!==t&&(Wu.set(t,e),Wd.set(e,t)),e}const Ku=t=>Wd.get(t);function IS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Bn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bn(o.result),l.oldVersion,l.newVersion,Bn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const NS=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],Qu=new Map;function Cp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qu.get(e))return Qu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||NS.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Qu.set(e,i),i}SS(t=>({...t,get:(e,n,r)=>Cp(e,n)||t.get(e,n,r),has:(e,n)=>!!Cp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",Rp="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new vv("@firebase/app"),kS="@firebase/app-compat",DS="@firebase/analytics-compat",bS="@firebase/analytics",VS="@firebase/app-check-compat",OS="@firebase/app-check",FS="@firebase/auth",LS="@firebase/auth-compat",MS="@firebase/database",$S="@firebase/database-compat",US="@firebase/functions",zS="@firebase/functions-compat",BS="@firebase/installations",jS="@firebase/installations-compat",HS="@firebase/messaging",qS="@firebase/messaging-compat",WS="@firebase/performance",KS="@firebase/performance-compat",QS="@firebase/remote-config",GS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",JS="@firebase/firestore",ZS="@firebase/firestore-compat",eT="firebase",tT="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",nT={[fh]:"fire-core",[kS]:"fire-core-compat",[bS]:"fire-analytics",[DS]:"fire-analytics-compat",[OS]:"fire-app-check",[VS]:"fire-app-check-compat",[FS]:"fire-auth",[LS]:"fire-auth-compat",[MS]:"fire-rtdb",[$S]:"fire-rtdb-compat",[US]:"fire-fn",[zS]:"fire-fn-compat",[BS]:"fire-iid",[jS]:"fire-iid-compat",[HS]:"fire-fcm",[qS]:"fire-fcm-compat",[WS]:"fire-perf",[KS]:"fire-perf-compat",[QS]:"fire-rc",[GS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[JS]:"fire-fst",[ZS]:"fire-fst-compat","fire-js":"fire-js",[eT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Map,ph=new Map;function rT(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function il(t){const e=t.name;if(ph.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;ph.set(e,t);for(const n of sl.values())rT(n,t);return!0}function sT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jn=new yv("app","Firebase",iT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=tT;function wv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw jn.create("bad-app-name",{appName:String(s)});if(n||(n=gv()),!n)throw jn.create("no-options");const i=sl.get(s);if(i){if(ch(n,i.options)&&ch(r,i.config))return i;throw jn.create("duplicate-app",{appName:s})}const o=new fS(s);for(const l of ph.values())o.addComponent(l);const a=new oT(n,r,o);return sl.set(s,a),a}function lT(t=mh){const e=sl.get(t);if(!e&&t===mh&&gv())return wv();if(!e)throw jn.create("no-app",{appName:t});return e}function ss(t,e,n){var r;let s=(r=nT[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}il(new ji(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firebase-heartbeat-database",cT=1,Hi="firebase-heartbeat-store";let Gu=null;function xv(){return Gu||(Gu=IS(uT,cT,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hi)}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),Gu}async function hT(t){try{return await(await xv()).transaction(Hi).objectStore(Hi).get(Sv(t))}catch(e){if(e instanceof Ps)Sr.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function Pp(t,e){try{const r=(await xv()).transaction(Hi,"readwrite");await r.objectStore(Hi).put(e,Sv(t)),await r.done}catch(n){if(n instanceof Ps)Sr.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function Sv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=1024,fT=30*24*60*60*1e3;class mT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=fT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kp(),{heartbeatsToSend:n,unsentEntries:r}=pT(this._heartbeatsCache.heartbeats),s=rl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function kp(){return new Date().toISOString().substring(0,10)}function pT(t,e=dT){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Dp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Dp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?oS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hT(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Dp(t){return rl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){il(new ji("platform-logger",e=>new RS(e),"PRIVATE")),il(new ji("heartbeat",e=>new mT(e),"PRIVATE")),ss(fh,Rp,t),ss(fh,Rp,"esm2017"),ss("fire-js","")}yT("");var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P,Kd=Kd||{},j=vT||self;function $l(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function po(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function _T(t){return Object.prototype.hasOwnProperty.call(t,Yu)&&t[Yu]||(t[Yu]=++ET)}var Yu="closure_uid_"+(1e9*Math.random()>>>0),ET=0;function wT(t,e,n){return t.call.apply(t.bind,arguments)}function xT(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=wT:Ke=xT,Ke.apply(null,arguments)}function Jo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function be(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function er(){this.s=this.s,this.o=this.o}var ST=0;er.prototype.s=!1;er.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ST!=0)&&_T(this)};er.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Qd(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function bp(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($l(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var TT=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{j.addEventListener("test",()=>{},e),j.removeEventListener("test",()=>{},e)}catch{}return t}();function qi(t){return/^[\s\xa0]*$/.test(t)}function Ul(){var t=j.navigator;return t&&(t=t.userAgent)?t:""}function qt(t){return Ul().indexOf(t)!=-1}function Gd(t){return Gd[" "](t),t}Gd[" "]=function(){};function AT(t,e){var n=yA;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var IT=qt("Opera"),gs=qt("Trident")||qt("MSIE"),Av=qt("Edge"),gh=Av||gs,Iv=qt("Gecko")&&!(Ul().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge"))&&!(qt("Trident")||qt("MSIE"))&&!qt("Edge"),NT=Ul().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge");function Nv(){var t=j.document;return t?t.documentMode:void 0}var yh;e:{var Xu="",Ju=function(){var t=Ul();if(Iv)return/rv:([^\);]+)(\)|;)/.exec(t);if(Av)return/Edge\/([\d\.]+)/.exec(t);if(gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(NT)return/WebKit\/(\S+)/.exec(t);if(IT)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ju&&(Xu=Ju?Ju[1]:""),gs){var Zu=Nv();if(Zu!=null&&Zu>parseFloat(Xu)){yh=String(Zu);break e}}yh=Xu}var vh;if(j.document&&gs){var Vp=Nv();vh=Vp||parseInt(yh,10)||void 0}else vh=void 0;var CT=vh;function Wi(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Iv){e:{try{Gd(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:RT[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wi.$.h.call(this)}}be(Wi,Qe);var RT={2:"touch",3:"pen",4:"mouse"};Wi.prototype.h=function(){Wi.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var go="closure_listenable_"+(1e6*Math.random()|0),PT=0;function kT(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++PT,this.fa=this.ia=!1}function zl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Yd(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function DT(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Cv(t){const e={};for(const n in t)e[n]=t[n];return e}const Op="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rv(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Op.length;i++)n=Op[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bl(t){this.src=t,this.g={},this.h=0}Bl.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Eh(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new kT(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function _h(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Tv(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(zl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Eh(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Xd="closure_lm_"+(1e6*Math.random()|0),ec={};function Pv(t,e,n,r,s){if(r&&r.once)return Dv(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Pv(t,e[i],n,r,s);return null}return n=ef(n),t&&t[go]?t.O(e,n,po(r)?!!r.capture:!!r,s):kv(t,e,n,!1,r,s)}function kv(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=po(s)?!!s.capture:!!s,a=Zd(t);if(a||(t[Xd]=a=new Bl(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=bT(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)TT||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Vv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bT(){function t(n){return e.call(t.src,t.listener,n)}const e=VT;return t}function Dv(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Dv(t,e[i],n,r,s);return null}return n=ef(n),t&&t[go]?t.P(e,n,po(r)?!!r.capture:!!r,s):kv(t,e,n,!0,r,s)}function bv(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)bv(t,e[i],n,r,s);else r=po(r)?!!r.capture:!!r,n=ef(n),t&&t[go]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Eh(i,n,r,s),-1<n&&(zl(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Eh(e,n,r,s)),(n=-1<t?e[t]:null)&&Jd(n))}function Jd(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[go])_h(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Vv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zd(e))?(_h(n,t),n.h==0&&(n.src=null,e[Xd]=null)):zl(t)}}}function Vv(t){return t in ec?ec[t]:ec[t]="on"+t}function VT(t,e){if(t.fa)t=!0;else{e=new Wi(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Jd(t),t=n.call(r,e)}return t}function Zd(t){return t=t[Xd],t instanceof Bl?t:null}var tc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ef(t){return typeof t=="function"?t:(t[tc]||(t[tc]=function(e){return t.handleEvent(e)}),t[tc])}function De(){er.call(this),this.i=new Bl(this),this.S=this,this.J=null}be(De,er);De.prototype[go]=!0;De.prototype.removeEventListener=function(t,e,n,r){bv(this,t,e,n,r)};function Me(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var s=e;e=new Qe(r,t),Rv(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Zo(o,r,!0,e)&&s}if(o=e.g=t,s=Zo(o,r,!0,e)&&s,s=Zo(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Zo(o,r,!1,e)&&s}De.prototype.N=function(){if(De.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zl(n[r]);delete t.g[e],t.h--}}this.J=null};De.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};De.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Zo(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&_h(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var tf=j.JSON.stringify;class OT{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function FT(){var t=nf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class LT{constructor(){this.h=this.g=null}add(e,n){const r=Ov.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Ov=new OT(()=>new MT,t=>t.reset());class MT{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $T(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function UT(t){j.setTimeout(()=>{throw t},0)}let Ki,Qi=!1,nf=new LT,Fv=()=>{const t=j.Promise.resolve(void 0);Ki=()=>{t.then(zT)}};var zT=()=>{for(var t;t=FT();){try{t.h.call(t.g)}catch(n){UT(n)}var e=Ov;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qi=!1};function jl(t,e){De.call(this),this.h=t||1,this.g=e||j,this.j=Ke(this.qb,this),this.l=Date.now()}be(jl,De);P=jl.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Me(this,"tick"),this.ga&&(rf(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function rf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}P.N=function(){jl.$.N.call(this),rf(this),delete this.g};function sf(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function Lv(t){t.g=sf(()=>{t.g=null,t.i&&(t.i=!1,Lv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class BT extends er{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Lv(this)}N(){super.N(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(t){er.call(this),this.h=t,this.g={}}be(Gi,er);var Fp=[];function Mv(t,e,n,r){Array.isArray(n)||(n&&(Fp[0]=n.toString()),n=Fp);for(var s=0;s<n.length;s++){var i=Pv(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function $v(t){Yd(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jd(e)},t),t.g={}}Gi.prototype.N=function(){Gi.$.N.call(this),$v(this)};Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hl(){this.g=!0}Hl.prototype.Ea=function(){this.g=!1};function jT(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var d=h.split("_");o=2<=d.length&&d[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function HT(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Xr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WT(t,n)+(r?" "+r:"")})}function qT(t,e){t.info(function(){return"TIMEOUT: "+e})}Hl.prototype.info=function(){};function WT(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return tf(n)}catch{return e}}var kr={},Lp=null;function ql(){return Lp=Lp||new De}kr.Ta="serverreachability";function Uv(t){Qe.call(this,kr.Ta,t)}be(Uv,Qe);function Yi(t){const e=ql();Me(e,new Uv(e))}kr.STAT_EVENT="statevent";function zv(t,e){Qe.call(this,kr.STAT_EVENT,t),this.stat=e}be(zv,Qe);function et(t){const e=ql();Me(e,new zv(e,t))}kr.Ua="timingevent";function Bv(t,e){Qe.call(this,kr.Ua,t),this.size=e}be(Bv,Qe);function yo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){t()},e)}var Wl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function of(){}of.prototype.h=null;function Mp(t){return t.h||(t.h=t.i())}function Hv(){}var vo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function af(){Qe.call(this,"d")}be(af,Qe);function lf(){Qe.call(this,"c")}be(lf,Qe);var wh;function Kl(){}be(Kl,of);Kl.prototype.g=function(){return new XMLHttpRequest};Kl.prototype.i=function(){return{}};wh=new Kl;function _o(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gi(this),this.P=KT,t=gh?125:void 0,this.V=new jl(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qv}function qv(){this.i=null,this.g="",this.h=!1}var KT=45e3,xh={},ol={};P=_o.prototype;P.setTimeout=function(t){this.P=t};function Sh(t,e,n){t.L=1,t.v=Gl(vn(e)),t.s=n,t.S=!0,Wv(t,null)}function Wv(t,e){t.G=Date.now(),Eo(t),t.A=vn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),e1(n.i,"t",r),t.C=0,n=t.l.J,t.h=new qv,t.g=w1(t.l,n?e:null,!t.s),0<t.O&&(t.M=new BT(Ke(t.Pa,t,t.g),t.O)),Mv(t.U,t.g,"readystatechange",t.nb),e=t.I?Cv(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Yi(),jT(t.j,t.u,t.A,t.m,t.W,t.s)}P.nb=function(t){t=t.target;const e=this.M;e&&Wt(t)==3?e.l():this.Pa(t)};P.Pa=function(t){try{if(t==this.g)e:{const h=Wt(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>h)&&(h!=3||gh||this.g&&(this.h.h||this.g.ja()||Bp(this.g)))){this.J||h!=4||e==7||(e==8||0>=d?Yi(3):Yi(2)),Ql(this);var n=this.g.da();this.ca=n;t:if(Kv(this)){var r=Bp(this.g);t="";var s=r.length,i=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),_i(this);var o="";break t}this.h.i=new j.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,HT(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qi(a)){var c=a;break t}}c=null}if(n=c)Xr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Th(this,n);else{this.i=!1,this.o=3,et(12),hr(this),_i(this);break e}}this.S?(Qv(this,h,o),gh&&this.i&&h==3&&(Mv(this.U,this.V,"tick",this.mb),this.V.start())):(Xr(this.j,this.m,o,null),Th(this,o)),h==4&&hr(this),this.i&&!this.J&&(h==4?y1(this.l,this):(this.i=!1,Eo(this)))}else mA(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,et(12)):(this.o=0,et(13)),hr(this),_i(this)}}}catch{}finally{}};function Kv(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Qv(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=QT(t,n),s==ol){e==4&&(t.o=4,et(14),r=!1),Xr(t.j,t.m,null,"[Incomplete Response]");break}else if(s==xh){t.o=4,et(15),Xr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xr(t.j,t.m,s,null),Th(t,s);Kv(t)&&s!=ol&&s!=xh&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,et(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mf(e),e.M=!0,et(11))):(Xr(t.j,t.m,n,"[Invalid Chunked Response]"),hr(t),_i(t))}P.mb=function(){if(this.g){var t=Wt(this.g),e=this.g.ja();this.C<e.length&&(Ql(this),Qv(this,t,e),this.i&&t!=4&&Eo(this))}};function QT(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ol:(n=Number(e.substring(n,r)),isNaN(n)?xh:(r+=1,r+n>e.length?ol:(e=e.slice(r,r+n),t.C=r+n,e)))}P.cancel=function(){this.J=!0,hr(this)};function Eo(t){t.Y=Date.now()+t.P,Gv(t,t.P)}function Gv(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yo(Ke(t.lb,t),e)}function Ql(t){t.B&&(j.clearTimeout(t.B),t.B=null)}P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(qT(this.j,this.A),this.L!=2&&(Yi(),et(17)),hr(this),this.o=2,_i(this)):Gv(this,this.Y-t)};function _i(t){t.l.H==0||t.J||y1(t.l,t)}function hr(t){Ql(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,rf(t.V),$v(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Th(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ah(n.i,t))){if(!t.K&&Ah(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ul(n),Zl(n);else break e;ff(n),et(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=yo(Ke(n.ib,n),6e3));if(1>=r1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else dr(n,11)}else if((t.K||n.g==t)&&ul(n),!qi(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const h=c[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(uf(i,i.h),i.h=null))}if(r.F){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ae(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=E1(r,r.J?r.pa:null,r.Y),o.K){s1(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ql(a),Eo(a)),r.g=o}else p1(r);0<n.j.length&&eu(n)}else c[0]!="stop"&&c[0]!="close"||dr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?dr(n,7):df(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Yi(4)}catch{}}function GT(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function YT(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($l(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Yv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($l(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=YT(t),r=GT(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Xv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XT(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function gr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof gr){this.h=t.h,al(this,t.j),this.s=t.s,this.g=t.g,ll(this,t.m),this.l=t.l;var e=t.i,n=new Xi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$p(this,n),this.o=t.o}else t&&(e=String(t).match(Xv))?(this.h=!1,al(this,e[1]||"",!0),this.s=ii(e[2]||""),this.g=ii(e[3]||"",!0),ll(this,e[4]),this.l=ii(e[5]||"",!0),$p(this,e[6]||"",!0),this.o=ii(e[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}gr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oi(e,Up,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oi(e,Up,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oi(n,n.charAt(0)=="/"?eA:ZT,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oi(n,nA)),t.join("")};function vn(t){return new gr(t)}function al(t,e,n){t.j=n?ii(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ll(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $p(t,e,n){e instanceof Xi?(t.i=e,rA(t.i,t.h)):(n||(e=oi(e,tA)),t.i=new Xi(e,t.h))}function ae(t,e,n){t.i.set(e,n)}function Gl(t){return ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ii(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,JT),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function JT(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Up=/[#\/\?@]/g,ZT=/[#\?:]/g,eA=/[#\?]/g,tA=/[#\?@]/g,nA=/#/g;function Xi(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function tr(t){t.g||(t.g=new Map,t.h=0,t.i&&XT(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}P=Xi.prototype;P.add=function(t,e){tr(this),this.i=null,t=ks(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Jv(t,e){tr(t),e=ks(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Zv(t,e){return tr(t),e=ks(t,e),t.g.has(e)}P.forEach=function(t,e){tr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};P.ta=function(){tr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};P.Z=function(t){tr(this);let e=[];if(typeof t=="string")Zv(this,t)&&(e=e.concat(this.g.get(ks(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};P.set=function(t,e){return tr(this),this.i=null,t=ks(this,t),Zv(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};P.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function e1(t,e,n){Jv(t,e),0<n.length&&(t.i=null,t.g.set(ks(t,e),Qd(n)),t.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function ks(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rA(t,e){e&&!t.j&&(tr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Jv(this,r),e1(this,s,n))},t)),t.j=e}var sA=class{constructor(t,e){this.g=t,this.map=e}};function t1(t){this.l=t||iA,j.PerformanceNavigationTiming?(t=j.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(j.g&&j.g.Ka&&j.g.Ka()&&j.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iA=10;function n1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function r1(t){return t.h?1:t.g?t.g.size:0}function Ah(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uf(t,e){t.g?t.g.add(e):t.h=e}function s1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}t1.prototype.cancel=function(){if(this.i=i1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function i1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Qd(t.i)}var oA=class{stringify(t){return j.JSON.stringify(t,void 0)}parse(t){return j.JSON.parse(t,void 0)}};function aA(){this.g=new oA}function lA(t,e,n){const r=n||"";try{Yv(t,function(s,i){let o=s;po(s)&&(o=tf(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function uA(t,e){const n=new Hl;if(j.Image){const r=new Image;r.onload=Jo(ea,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jo(ea,n,r,"TestLoadImage: error",!1,e),r.onabort=Jo(ea,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jo(ea,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ea(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Yl(t){this.l=t.ec||null,this.j=t.ob||!1}be(Yl,of);Yl.prototype.g=function(){return new Xl(this.l,this.j)};Yl.prototype.i=function(t){return function(){return t}}({});function Xl(t,e){De.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}be(Xl,De);var cf=0;P=Xl.prototype;P.open=function(t,e){if(this.readyState!=cf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ji(this)};P.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||j).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wo(this)),this.readyState=cf};P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof j.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;o1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function o1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wo(this):Ji(this),this.readyState==3&&o1(this)}};P.Za=function(t){this.g&&(this.response=this.responseText=t,wo(this))};P.Ya=function(t){this.g&&(this.response=t,wo(this))};P.ka=function(){this.g&&wo(this)};function wo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ji(t)}P.setRequestHeader=function(t,e){this.v.append(t,e)};P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ji(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var cA=j.JSON.parse;function ye(t){De.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=a1,this.L=this.M=!1}be(ye,De);var a1="",hA=/^https?$/i,dA=["POST","PUT"];P=ye.prototype;P.Oa=function(t){this.M=t};P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wh.g(),this.C=this.u?Mp(this.u):Mp(wh),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){zp(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=j.FormData&&t instanceof j.FormData,!(0<=Tv(dA,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{c1(this),0<this.B&&((this.L=fA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=sf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){zp(this,i)}};function fA(t){return gs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}P.ua=function(){typeof Kd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Me(this,"timeout"),this.abort(8))};function zp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,l1(t),Jl(t)}function l1(t){t.F||(t.F=!0,Me(t,"complete"),Me(t,"error"))}P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Me(this,"complete"),Me(this,"abort"),Jl(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jl(this,!0)),ye.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?u1(this):this.kb())};P.kb=function(){u1(this)};function u1(t){if(t.h&&typeof Kd<"u"&&(!t.C[1]||Wt(t)!=4||t.da()!=2)){if(t.v&&Wt(t)==4)sf(t.La,0,t);else if(Me(t,"readystatechange"),Wt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Xv)[1]||null;!s&&j.self&&j.self.location&&(s=j.self.location.protocol.slice(0,-1)),r=!hA.test(s?s.toLowerCase():"")}n=r}if(n)Me(t,"complete"),Me(t,"success");else{t.m=6;try{var i=2<Wt(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",l1(t)}}finally{Jl(t)}}}}function Jl(t,e){if(t.g){c1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Me(t,"ready");try{n.onreadystatechange=r}catch{}}}function c1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(j.clearTimeout(t.A),t.A=null)}P.isActive=function(){return!!this.g};function Wt(t){return t.g?t.g.readyState:0}P.da=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),cA(e)}};function Bp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case a1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mA(t){const e={};t=(t.g&&2<=Wt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(qi(t[r]))continue;var n=$T(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}DT(e,function(r){return r.join(", ")})}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function h1(t){let e="";return Yd(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function hf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=h1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ae(t,e,n))}function Xs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function d1(t){this.Ga=0,this.j=[],this.l=new Hl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xs("baseRetryDelayMs",5e3,t),this.hb=Xs("retryDelaySeedMs",1e4,t),this.eb=Xs("forwardChannelMaxRetries",2,t),this.xa=Xs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new t1(t&&t.concurrentRequestLimit),this.Ja=new aA,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}P=d1.prototype;P.ra=8;P.H=1;function df(t){if(f1(t),t.H==3){var e=t.W++,n=vn(t.I);if(ae(n,"SID",t.K),ae(n,"RID",e),ae(n,"TYPE","terminate"),xo(t,n),e=new _o(t,t.l,e),e.L=2,e.v=Gl(vn(n)),n=!1,j.navigator&&j.navigator.sendBeacon)try{n=j.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&j.Image&&(new Image().src=e.v,n=!0),n||(e.g=w1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Eo(e)}_1(t)}function Zl(t){t.g&&(mf(t),t.g.cancel(),t.g=null)}function f1(t){Zl(t),t.u&&(j.clearTimeout(t.u),t.u=null),ul(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&j.clearTimeout(t.m),t.m=null)}function eu(t){if(!n1(t.i)&&!t.m){t.m=!0;var e=t.Na;Ki||Fv(),Qi||(Ki(),Qi=!0),nf.add(e,t),t.C=0}}function pA(t,e){return r1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yo(Ke(t.Na,t,e),v1(t,t.C)),t.C++,!0)}P.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new _o(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Cv(i),Rv(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=m1(this,s,e),n=vn(this.I),ae(n,"RID",t),ae(n,"CVER",22),this.F&&ae(n,"X-HTTP-Session-Id",this.F),xo(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(h1(i)))+"&"+e:this.o&&hf(n,this.o,i)),uf(this.i,s),this.bb&&ae(n,"TYPE","init"),this.P?(ae(n,"$req",e),ae(n,"SID","null"),s.aa=!0,Sh(s,n,null)):Sh(s,n,e),this.H=2}}else this.H==3&&(t?jp(this,t):this.j.length==0||n1(this.i)||jp(this))};function jp(t,e){var n;e?n=e.m:n=t.W++;const r=vn(t.I);ae(r,"SID",t.K),ae(r,"RID",n),ae(r,"AID",t.V),xo(t,r),t.o&&t.s&&hf(r,t.o,t.s),n=new _o(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=m1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uf(t.i,n),Sh(n,r,e)}function xo(t,e){t.na&&Yd(t.na,function(n,r){ae(e,r,n)}),t.h&&Yv({},function(n,r){ae(e,r,n)})}function m1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const h=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{lA(h,o,"req"+c+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function p1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ki||Fv(),Qi||(Ki(),Qi=!0),nf.add(e,t),t.A=0}}function ff(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yo(Ke(t.Ma,t),v1(t,t.A)),t.A++,!0)}P.Ma=function(){if(this.u=null,g1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yo(Ke(this.jb,this),t)}};P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,et(10),Zl(this),g1(this))};function mf(t){t.B!=null&&(j.clearTimeout(t.B),t.B=null)}function g1(t){t.g=new _o(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vn(t.wa);ae(e,"RID","rpc"),ae(e,"SID",t.K),ae(e,"AID",t.V),ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ae(e,"TO",t.qa),ae(e,"TYPE","xmlhttp"),xo(t,e),t.o&&t.s&&hf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Gl(vn(e)),n.s=null,n.S=!0,Wv(n,t)}P.ib=function(){this.v!=null&&(this.v=null,Zl(this),ff(this),et(19))};function ul(t){t.v!=null&&(j.clearTimeout(t.v),t.v=null)}function y1(t,e){var n=null;if(t.g==e){ul(t),mf(t),t.g=null;var r=2}else if(Ah(t.i,e))n=e.F,s1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=ql(),Me(r,new Bv(r,n)),eu(t)}else p1(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&pA(t,e)||r==2&&ff(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:dr(t,5);break;case 4:dr(t,10);break;case 3:dr(t,6);break;default:dr(t,2)}}}function v1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function dr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new gr("//www.google.com/images/cleardot.gif"),j.location&&j.location.protocol=="http"||al(n,"https"),Gl(n)),uA(n.toString(),r)}else et(2);t.H=0,t.h&&t.h.za(e),_1(t),f1(t)}P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),et(2)):(this.l.info("Failed to ping google.com"),et(1))};function _1(t){if(t.H=0,t.ma=[],t.h){const e=i1(t.i);(e.length!=0||t.j.length!=0)&&(bp(t.ma,e),bp(t.ma,t.j),t.i.i.length=0,Qd(t.j),t.j.length=0),t.h.ya()}}function E1(t,e,n){var r=n instanceof gr?vn(n):new gr(n);if(r.g!="")e&&(r.g=e+"."+r.g),ll(r,r.m);else{var s=j.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new gr(null);r&&al(i,r),e&&(i.g=e),s&&ll(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&ae(r,n,e),ae(r,"VER",t.ra),xo(t,r),r}function w1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ye(new Yl({ob:!0})):new ye(t.va),e.Oa(t.J),e}P.isActive=function(){return!!this.h&&this.h.isActive(this)};function x1(){}P=x1.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.isActive=function(){return!0};P.Va=function(){};function cl(){if(gs&&!(10<=Number(CT)))throw Error("Environmental error: no available transport.")}cl.prototype.g=function(t,e){return new pt(t,e)};function pt(t,e){De.call(this),this.g=new d1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!qi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ds(this)}be(pt,De);pt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;et(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=E1(t,null,t.Y),eu(t)};pt.prototype.close=function(){df(this.g)};pt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=tf(t),t=n);e.j.push(new sA(e.fb++,t)),e.H==3&&eu(e)};pt.prototype.N=function(){this.g.h=null,delete this.j,df(this.g),delete this.g,pt.$.N.call(this)};function S1(t){af.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}be(S1,af);function T1(){lf.call(this),this.status=1}be(T1,lf);function Ds(t){this.g=t}be(Ds,x1);Ds.prototype.Ba=function(){Me(this.g,"a")};Ds.prototype.Aa=function(t){Me(this.g,new S1(t))};Ds.prototype.za=function(t){Me(this.g,new T1)};Ds.prototype.ya=function(){Me(this.g,"b")};function gA(){this.blockSize=-1}function $t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}be($t,gA);$t.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function nc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}$t.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)nc(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){nc(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){nc(this,r),s=0;break}}this.h=s,this.i+=e};$t.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ne(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var yA={};function pf(t){return-128<=t&&128>t?AT(t,function(e){return new ne([e|0],0>e?-1:0)}):new ne([t|0],0>t?-1:0)}function Kt(t){if(isNaN(t)||!isFinite(t))return is;if(0>t)return Fe(Kt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ih;return new ne(e,0)}function A1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Fe(A1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kt(Math.pow(e,8)),r=is,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Kt(Math.pow(e,i)),r=r.R(i).add(Kt(o))):(r=r.R(n),r=r.add(Kt(o)))}return r}var Ih=4294967296,is=pf(0),Nh=pf(1),Hp=pf(16777216);P=ne.prototype;P.ea=function(){if(Et(this))return-Fe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ih+r)*e,e*=Ih}return t};P.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(un(this))return"0";if(Et(this))return"-"+Fe(this).toString(t);for(var e=Kt(Math.pow(t,6)),n=this,r="";;){var s=dl(n,e).g;n=hl(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,un(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function un(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Et(t){return t.h==-1}P.X=function(t){return t=hl(this,t),Et(t)?-1:un(t)?0:1};function Fe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ne(n,~t.h).add(Nh)}P.abs=function(){return Et(this)?Fe(this):this};P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ne(n,n[n.length-1]&-2147483648?-1:0)};function hl(t,e){return t.add(Fe(e))}P.R=function(t){if(un(this)||un(t))return is;if(Et(this))return Et(t)?Fe(this).R(Fe(t)):Fe(Fe(this).R(t));if(Et(t))return Fe(this.R(Fe(t)));if(0>this.X(Hp)&&0>t.X(Hp))return Kt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,ta(n,2*r+2*s),n[2*r+2*s+1]+=i*l,ta(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,ta(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,ta(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ne(n,0)};function ta(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Js(t,e){this.g=t,this.h=e}function dl(t,e){if(un(e))throw Error("division by zero");if(un(t))return new Js(is,is);if(Et(t))return e=dl(Fe(t),e),new Js(Fe(e.g),Fe(e.h));if(Et(e))return e=dl(t,Fe(e)),new Js(Fe(e.g),e.h);if(30<t.g.length){if(Et(t)||Et(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Nh,r=e;0>=r.X(t);)n=qp(n),r=qp(r);var s=Or(n,1),i=Or(r,1);for(r=Or(r,2),n=Or(n,2);!un(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Or(r,1),n=Or(n,1)}return e=hl(t,s.R(e)),new Js(s,e)}for(s=is;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Kt(n),o=i.R(e);Et(o)||0<o.X(t);)n-=r,i=Kt(n),o=i.R(e);un(i)&&(i=Nh),s=s.add(i),t=hl(t,o)}return new Js(s,t)}P.gb=function(t){return dl(this,t).h};P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ne(n,this.h&t.h)};P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ne(n,this.h|t.h)};P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ne(n,this.h^t.h)};function qp(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ne(n,t.h)}function Or(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ne(s,t.h)}cl.prototype.createWebChannel=cl.prototype.g;pt.prototype.send=pt.prototype.u;pt.prototype.open=pt.prototype.m;pt.prototype.close=pt.prototype.close;Wl.NO_ERROR=0;Wl.TIMEOUT=8;Wl.HTTP_ERROR=6;jv.COMPLETE="complete";Hv.EventType=vo;vo.OPEN="a";vo.CLOSE="b";vo.ERROR="c";vo.MESSAGE="d";De.prototype.listen=De.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;$t.prototype.digest=$t.prototype.l;$t.prototype.reset=$t.prototype.reset;$t.prototype.update=$t.prototype.j;ne.prototype.add=ne.prototype.add;ne.prototype.multiply=ne.prototype.R;ne.prototype.modulo=ne.prototype.gb;ne.prototype.compare=ne.prototype.X;ne.prototype.toNumber=ne.prototype.ea;ne.prototype.toString=ne.prototype.toString;ne.prototype.getBits=ne.prototype.D;ne.fromNumber=Kt;ne.fromString=A1;var vA=function(){return new cl},_A=function(){return ql()},rc=Wl,EA=jv,wA=kr,Wp={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},na=Hv,xA=ye,SA=$t,os=ne;const Kp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new vv("@firebase/firestore");function Zs(){return Tr.logLevel}function M(t,...e){if(Tr.logLevel<=Y.DEBUG){const n=e.map(gf);Tr.debug(`Firestore (${bs}): ${t}`,...n)}}function _n(t,...e){if(Tr.logLevel<=Y.ERROR){const n=e.map(gf);Tr.error(`Firestore (${bs}): ${t}`,...n)}}function ys(t,...e){if(Tr.logLevel<=Y.WARN){const n=e.map(gf);Tr.warn(`Firestore (${bs}): ${t}`,...n)}}function gf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t="Unexpected state"){const e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+t;throw _n(e),new Error(e)}function ce(t,e){t||B()}function q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(je.UNAUTHENTICATED))}shutdown(){}}class AA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IA{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new I1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new je(e)}}class NA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class CA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new NA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.R=n.token,new RA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=kA(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function vs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ne(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.timestamp=e}static fromTimestamp(e){return new H(e)}static min(){return new H(new Ne(0,0))}static max(){return new H(new Ne(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(),r===void 0?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends Zi{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new O(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new le(n)}static emptyPath(){return new le([])}}const DA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Zi{construct(e,n,r){return new We(e,n,r)}static isValidIdentifier(e){return DA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new We(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new O(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new O(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new O(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new O(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(le.fromString(e))}static fromName(e){return new z(le.fromString(e).popFirst(5))}static empty(){return new z(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new le(e.slice()))}}function bA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=H.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Kn(s,z.empty(),e)}function VA(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(H.min(),z.empty(),-1)}static max(){return new Kn(H.max(),z.empty(),-1)}}function OA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==FA)throw t;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(s=>s?A.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new A((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new A((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function To(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yf.ae=-1;function tu(t){return t==null}function fl(t){return t===0&&1/t==-1/0}function MA(t){return typeof t=="number"&&Number.isInteger(t)&&!fl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.comparator=e,this.root=n||Oe.EMPTY}insert(e,n){return new pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oe.BLACK,null,null))}remove(e){return new pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ra(this.root,e,this.comparator,!0)}}class ra{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Oe.RED,this.left=s??Oe.EMPTY,this.right=i??Oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Oe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Oe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Oe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Oe.EMPTY=null,Oe.RED=!0,Oe.BLACK=!1;Oe.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Oe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gp(this.data.getIterator())}getIteratorFrom(e){return new Gp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class Gp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new Vt([])}unionWith(e){let n=new Ge(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new R1("Invalid base64 string: "+i):i}}(e);return new Xe(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Xe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const $A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qn(t){if(ce(!!t),typeof t=="string"){let e=0;const n=$A.exec(t);if(ce(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(t.seconds),nanos:Ee(t.nanos)}}function Ee(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ar(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _f(t){const e=t.mapValue.fields.__previous_value__;return vf(e)?_f(e):e}function eo(t){const e=Qn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class to{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new to("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vf(t)?4:zA(t)?9007199254740991:10:B()}function Zt(t,e){if(t===e)return!0;const n=Ir(t);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eo(t).isEqual(eo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Qn(s.timestampValue),a=Qn(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ar(s.bytesValue).isEqual(Ar(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ee(s.geoPointValue.latitude)===Ee(i.geoPointValue.latitude)&&Ee(s.geoPointValue.longitude)===Ee(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ee(s.integerValue)===Ee(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ee(s.doubleValue),a=Ee(i.doubleValue);return o===a?fl(o)===fl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return vs(t.arrayValue.values||[],e.arrayValue.values||[],Zt);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Qp(o)!==Qp(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zt(o[l],a[l])))return!1;return!0}(t,e);default:return B()}}function no(t,e){return(t.values||[]).find(n=>Zt(n,e))!==void 0}function _s(t,e){if(t===e)return 0;const n=Ir(t),r=Ir(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ee(i.integerValue||i.doubleValue),l=Ee(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Yp(t.timestampValue,e.timestampValue);case 4:return Yp(eo(t),eo(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ar(i),l=Ar(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ee(a[c],l[c]);if(h!==0)return h}return ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ee(Ee(i.latitude),Ee(o.latitude));return a!==0?a:ee(Ee(i.longitude),Ee(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=_s(a[c],l[c]);if(h)return h}return ee(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===sa.mapValue&&o===sa.mapValue)return 0;if(i===sa.mapValue)return 1;if(o===sa.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=ee(l[d],h[d]);if(f!==0)return f;const g=_s(a[l[d]],c[h[d]]);if(g!==0)return g}return ee(l.length,h.length)}(t.mapValue,e.mapValue);default:throw B()}}function Yp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=Qn(t),r=Qn(e),s=ee(n.seconds,r.seconds);return s!==0?s:ee(n.nanos,r.nanos)}function Es(t){return Ch(t)}function Ch(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ar(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ch(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ch(n.fields[o])}`;return s+"}"}(t.mapValue):B()}function Xp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rh(t){return!!t&&"integerValue"in t}function Ef(t){return!!t&&"arrayValue"in t}function Jp(t){return!!t&&"nullValue"in t}function Zp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wa(t){return!!t&&"mapValue"in t}function Ei(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ei(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ei(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.value=e}static empty(){return new wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ei(n)}setAll(e){let n=We.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ei(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wa(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new wt(Ei(this.value))}}function P1(t){const e=[];return Vs(t.fields,(n,r)=>{const s=new We([n]);if(wa(r)){const i=P1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Vt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,H.min(),H.min(),H.min(),wt.empty(),0)}static newFoundDocument(e,n,r,s){return new qe(e,1,n,H.min(),r,s,0)}static newNoDocument(e,n){return new qe(e,2,n,H.min(),H.min(),wt.empty(),0)}static newUnknownDocument(e,n){return new qe(e,3,n,H.min(),H.min(),wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.position=e,this.inclusive=n}}function eg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=_s(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n="asc"){this.field=e,this.dir=n}}function BA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{}class xe extends k1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HA(e,n,r):n==="array-contains"?new KA(e,r):n==="in"?new QA(e,r):n==="not-in"?new GA(e,r):n==="array-contains-any"?new YA(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qA(e,r):new WA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_s(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ut extends k1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ut(e,n)}matches(e){return D1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function D1(t){return t.op==="and"}function b1(t){return jA(t)&&D1(t)}function jA(t){for(const e of t.filters)if(e instanceof Ut)return!1;return!0}function Ph(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+Es(t.value);if(b1(t))return t.filters.map(e=>Ph(e)).join(",");{const e=t.filters.map(n=>Ph(n)).join(",");return`${t.op}(${e})`}}function V1(t,e){return t instanceof xe?function(r,s){return s instanceof xe&&r.op===s.op&&r.field.isEqual(s.field)&&Zt(r.value,s.value)}(t,e):t instanceof Ut?function(r,s){return s instanceof Ut&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&V1(o,s.filters[a]),!0):!1}(t,e):void B()}function O1(t){return t instanceof xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Es(n.value)}`}(t):t instanceof Ut?function(n){return n.op.toString()+" {"+n.getFilters().map(O1).join(" ,")+"}"}(t):"Filter"}class HA extends xe{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class qA extends xe{constructor(e,n){super(e,"in",n),this.keys=F1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WA extends xe{constructor(e,n){super(e,"not-in",n),this.keys=F1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function F1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class KA extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ef(n)&&no(n.arrayValue,this.value)}}class QA extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&no(this.value.arrayValue,n)}}class GA extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!no(this.value.arrayValue,n)}}class YA extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>no(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function ng(t,e=null,n=[],r=[],s=null,i=null,o=null){return new XA(t,e,n,r,s,i,o)}function wf(t){const e=q(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ph(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Es(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Es(r)).join(",")),e.he=n}return e.he}function xf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tg(t.startAt,e.startAt)&&tg(t.endAt,e.endAt)}function kh(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function JA(t,e,n,r,s,i,o,a){return new Ao(t,e,n,r,s,i,o,a)}function Sf(t){return new Ao(t)}function rg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Tf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function M1(t){return t.collectionGroup!==null}function xi(t){const e=q(t);if(e.Pe===null){e.Pe=[];const n=Tf(e),r=L1(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new wi(n)),e.Pe.push(new wi(We.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new wi(We.keyField(),i))}}}return e.Pe}function Yt(t){const e=q(t);return e.Ie||(e.Ie=ZA(e,xi(t))),e.Ie}function ZA(t,e){if(t.limitType==="F")return ng(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wi(s.field,i)});const n=t.endAt?new ml(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ml(t.startAt.position,t.startAt.inclusive):null;return ng(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dh(t,e){e.getFirstInequalityField(),Tf(t);const n=t.filters.concat([e]);return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bh(t,e,n){return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nu(t,e){return xf(Yt(t),Yt(e))&&t.limitType===e.limitType}function $1(t){return`${wf(Yt(t))}|lt:${t.limitType}`}function Fr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>O1(s)).join(", ")}]`),tu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Es(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Es(s)).join(",")),`Target(${r})`}(Yt(t))}; limitType=${t.limitType})`}function ru(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=eg(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xi(r),s)||r.endAt&&!function(o,a,l){const c=eg(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xi(r),s))}(t,e)}function eI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function U1(t){return(e,n)=>{let r=!1;for(const s of xi(t)){const i=tI(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function tI(t,e,n){const r=t.field.isKeyField()?z.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?_s(l,c):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new pe(z.comparator);function En(){return nI}const z1=new pe(z.comparator);function ai(...t){let e=z1;for(const n of t)e=e.insert(n.key,n);return e}function B1(t){let e=z1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fr(){return Si()}function j1(){return Si()}function Si(){return new Os(t=>t.toString(),(t,e)=>t.isEqual(e))}const rI=new pe(z.comparator),sI=new Ge(z.comparator);function K(...t){let e=sI;for(const n of t)e=e.add(n);return e}const iI=new Ge(ee);function oI(){return iI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function q1(t){return{integerValue:""+t}}function aI(t,e){return MA(e)?q1(e):H1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this._=void 0}}function lI(t,e,n){return t instanceof ro?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&vf(i)&&(i=_f(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof so?K1(t,e):t instanceof io?Q1(t,e):function(s,i){const o=W1(s,i),a=sg(o)+sg(s.Te);return Rh(o)&&Rh(s.Te)?q1(a):H1(s.serializer,a)}(t,e)}function uI(t,e,n){return t instanceof so?K1(t,e):t instanceof io?Q1(t,e):n}function W1(t,e){return t instanceof pl?function(r){return Rh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ro extends su{}class so extends su{constructor(e){super(),this.elements=e}}function K1(t,e){const n=G1(e);for(const r of t.elements)n.some(s=>Zt(s,r))||n.push(r);return{arrayValue:{values:n}}}class io extends su{constructor(e){super(),this.elements=e}}function Q1(t,e){let n=G1(e);for(const r of t.elements)n=n.filter(s=>!Zt(s,r));return{arrayValue:{values:n}}}class pl extends su{constructor(e,n){super(),this.serializer=e,this.Te=n}}function sg(t){return Ee(t.integerValue||t.doubleValue)}function G1(t){return Ef(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.field=e,this.transform=n}}function hI(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof so&&s instanceof so||r instanceof io&&s instanceof io?vs(r.elements,s.elements,Zt):r instanceof pl&&s instanceof pl?Zt(r.Te,s.Te):r instanceof ro&&s instanceof ro}(t.transform,e.transform)}class dI{constructor(e,n){this.version=e,this.transformResults=n}}class Xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class iu{}function Y1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Af(t.key,Xt.none()):new Io(t.key,t.data,Xt.none());{const n=t.data,r=wt.empty();let s=new Ge(We.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Dr(t.key,r,new Vt(s.toArray()),Xt.none())}}function fI(t,e,n){t instanceof Io?function(s,i,o){const a=s.value.clone(),l=og(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dr?function(s,i,o){if(!xa(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=og(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(X1(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ti(t,e,n,r){return t instanceof Io?function(i,o,a,l){if(!xa(i.precondition,o))return a;const c=i.value.clone(),h=ag(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dr?function(i,o,a,l){if(!xa(i.precondition,o))return a;const c=ag(i.fieldTransforms,l,o),h=o.data;return h.setAll(X1(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return xa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function mI(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=W1(r.transform,s||null);i!=null&&(n===null&&(n=wt.empty()),n.set(r.field,i))}return n||null}function ig(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&vs(r,s,(i,o)=>hI(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Io extends iu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Dr extends iu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function X1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function og(t,e,n){const r=new Map;ce(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,uI(o,a,n[s]))}return r}function ag(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,lI(i,o,e))}return r}class Af extends iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pI extends iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fI(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ti(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ti(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=j1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Y1(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(n,r)=>ig(n,r))&&vs(this.baseMutations,e.baseMutations,(n,r)=>ig(n,r))}}class If{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ce(e.mutations.length===r.length);let s=function(){return rI}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new If(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,G;function _I(t){switch(t){default:return B();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function J1(t){if(t===void 0)return _n("GRPC error has no .code"),T.UNKNOWN;switch(t){case _e.OK:return T.OK;case _e.CANCELLED:return T.CANCELLED;case _e.UNKNOWN:return T.UNKNOWN;case _e.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case _e.INTERNAL:return T.INTERNAL;case _e.UNAVAILABLE:return T.UNAVAILABLE;case _e.UNAUTHENTICATED:return T.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case _e.NOT_FOUND:return T.NOT_FOUND;case _e.ALREADY_EXISTS:return T.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return T.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case _e.ABORTED:return T.ABORTED;case _e.OUT_OF_RANGE:return T.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return T.UNIMPLEMENTED;case _e.DATA_LOSS:return T.DATA_LOSS;default:return B()}}(G=_e||(_e={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new os([4294967295,4294967295],0);function lg(t){const e=EI().encode(t),n=new SA;return n.update(e),new Uint8Array(n.digest())}function ug(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new os([n,r],0),new os([s,i],0)]}class Nf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new li(`Invalid padding: ${n}`);if(r<0)throw new li(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new li(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new li(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=os.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(os.fromNumber(r)));return s.compare(wI)===1&&(s=new os([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=lg(e),[r,s]=ug(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Nf(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=lg(e),[r,s]=ug(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class li extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,No.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ou(H.min(),s,new pe(ee),En(),K())}}class No{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new No(r,n,K(),K(),K())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class Z1{constructor(e,n){this.targetId=e,this.ye=n}}class e_{constructor(e,n,r=Xe.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cg{constructor(){this.we=0,this.Se=dg(),this.be=Xe.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=K(),n=K(),r=K();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:B()}}),new No(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=dg()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class xI{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=En(),this.Ue=hg(),this.We=new pe(ee)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){const n=e.targetId,r=e.ye.count,s=this.et(n);if(s){const i=s.target;if(kh(i))if(r===0){const o=new z(i.path);this.je(n,o,qe.newNoDocument(o,H.min()))}else ce(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,c)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ar(r).toUint8Array()}catch(l){if(l instanceof R1)return ys("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Nf(o,s,i)}catch(l){return ys(l instanceof li?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}_t(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&kh(a.target)){const l=new z(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,qe.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=K();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new ou(e,n,this.We,this.$e,r);return this.$e=En(),this.Ue=hg(),this.We=new pe(ee),s}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this.ut(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new cg,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ge(ee),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||M("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new cg),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function hg(){return new pe(z.comparator)}function dg(){return new pe(z.comparator)}const SI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),TI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AI=(()=>({and:"AND",or:"OR"}))();class II{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vh(t,e){return t.useProto3Json||tu(e)?e:{value:e}}function gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NI(t,e){return gl(t,e.toTimestamp())}function Jt(t){return ce(!!t),H.fromTimestamp(function(n){const r=Qn(n);return new Ne(r.seconds,r.nanos)}(t))}function Cf(t,e){return function(r){return new le(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function n_(t){const e=le.fromString(t);return ce(o_(e)),e}function Oh(t,e){return Cf(t.databaseId,e.path)}function sc(t,e){const n=n_(e);if(n.get(1)!==t.databaseId.projectId)throw new O(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(r_(n))}function Fh(t,e){return Cf(t.databaseId,e)}function CI(t){const e=n_(t);return e.length===4?le.emptyPath():r_(e)}function Lh(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r_(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fg(t,e,n){return{name:Oh(t,e),fields:n.value.mapValue.fields}}function RI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:B()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ce(h===void 0||typeof h=="string"),Xe.fromBase64String(h||"")):(ce(h===void 0||h instanceof Uint8Array),Xe.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?T.UNKNOWN:J1(c.code);return new O(h,c.message||"")}(o);n=new e_(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sc(t,r.document.name),i=Jt(r.document.updateTime),o=r.document.createTime?Jt(r.document.createTime):H.min(),a=new wt({mapValue:{fields:r.document.fields}}),l=qe.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Sa(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sc(t,r.document),i=r.readTime?Jt(r.readTime):H.min(),o=qe.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Sa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sc(t,r.document),i=r.removedTargetIds||[];n=new Sa([],i,s,null)}else{if(!("filter"in e))return B();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new vI(s,i),a=r.targetId;n=new Z1(a,o)}}return n}function PI(t,e){let n;if(e instanceof Io)n={update:fg(t,e.key,e.value)};else if(e instanceof Af)n={delete:Oh(t,e.key)};else if(e instanceof Dr)n={update:fg(t,e.key,e.data),updateMask:$I(e.fieldMask)};else{if(!(e instanceof pI))return B();n={verify:Oh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof so)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof io)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pl)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:NI(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:B()}(t,e.precondition)),n}function kI(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Jt(s.updateTime):Jt(i);return o.isEqual(H.min())&&(o=Jt(i)),new dI(o,s.transformResults||[])}(n,e))):[]}function DI(t,e){return{documents:[Fh(t,e.path)]}}function bI(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Fh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return i_(Ut.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Lr(d.field),direction:FI(d.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Vh(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function VI(t){let e=CI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ce(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const f=s_(d);return f instanceof Ut&&b1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new wi(Mr(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,tu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new ml(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new ml(g,f)}(n.endAt)),JA(e,s,o,i,a,"F",l,c)}function OI(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mr(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mr(n.unaryFilter.field);return xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mr(n.unaryFilter.field);return xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mr(n.unaryFilter.field);return xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):t.fieldFilter!==void 0?function(n){return xe.create(Mr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ut.create(n.compositeFilter.filters.map(r=>s_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return B()}}(n.compositeFilter.op))}(t):B()}function FI(t){return SI[t]}function LI(t){return TI[t]}function MI(t){return AI[t]}function Lr(t){return{fieldPath:t.canonicalString()}}function Mr(t){return We.fromServerFormat(t.fieldPath)}function i_(t){return t instanceof xe?function(n){if(n.op==="=="){if(Zp(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NAN"}};if(Jp(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zp(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NOT_NAN"}};if(Jp(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lr(n.field),op:LI(n.op),value:n.value}}}(t):t instanceof Ut?function(n){const r=n.getFilters().map(s=>i_(s));return r.length===1?r[0]:{compositeFilter:{op:MI(n.op),filters:r}}}(t):B()}function $I(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function o_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,r,s,i=H.min(),o=H.min(),a=Xe.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.ht=e}}function zI(t){const e=VI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.an=new jI}addToCollectionParentIndex(e,n){return this.an.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Kn.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class jI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ge(le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ge(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new ws(0)}static Ln(){return new ws(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.changes=new Os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ti(r.mutation,s,Vt.empty(),Ne.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,K()).next(()=>r))}getLocalViewOfDocuments(e,n,r=K()){const s=fr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ai();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,K()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=En();const o=Si(),a=function(){return Si()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Dr)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ti(h.mutation,c,h.mutation.getFieldMask(),Ne.now())):o.set(c.key,Vt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new qI(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Si();let s=new pe((o,a)=>o-a),i=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Vt.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(s.get(a.batchId)||K()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=j1();h.forEach(f=>{if(!i.has(f)){const g=Y1(n.get(f),r.get(f));g!==null&&d.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):A.resolve(fr());let a=-1,l=i;return o.next(c=>A.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?A.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,K())).next(h=>({batchId:a,changes:B1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let s=ai();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ai();return this.indexManager.getCollectionParents(e,i).next(a=>A.forEach(a,l=>{const c=function(d,f){return new Ao(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,qe.newInvalidDocument(h)))});let a=ai();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Ti(h.mutation,c,Vt.empty(),Ne.now()),ru(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return A.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Jt(s.createTime)}}(n)),A.resolve()}getNamedQuery(e,n){return A.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(s){return{name:s.name,query:zI(s.bundledQuery),readTime:Jt(s.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.overlays=new pe(z.comparator),this.Pr=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fr();return A.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.It(e,n,i)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Pr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Pr.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const s=fr(),i=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return A.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=fr(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=fr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return A.resolve(a)}It(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Pr.get(s.largestBatchId).delete(r.key);this.Pr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new yI(n,r));let i=this.Pr.get(n);i===void 0&&(i=K(),this.Pr.set(n,i)),this.Pr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.Ir=new Ge(Re.dr),this.Tr=new Ge(Re.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Re(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Re(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new z(new le([])),r=new Re(n,e),s=new Re(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Rr(o),i.push(o.key)}),i}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new z(new le([])),r=new Re(n,e),s=new Re(n,e+1);let i=K();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Re(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Re{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return z.comparator(e.key,n.key)||ee(e.yr,n.yr)}static Er(e,n){return ee(e.yr,n.yr)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Ge(Re.dr)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gI(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Sr=this.Sr.add(new Re(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Dr(r),i=s<0?0:s;return A.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Re(n,0),s=new Re(n,Number.POSITIVE_INFINITY),i=[];return this.Sr.forEachInRange([r,s],o=>{const a=this.br(o.yr);i.push(a)}),A.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(ee);return n.forEach(s=>{const i=new Re(s,0),o=new Re(s,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([i,o],a=>{r=r.add(a.yr)})}),A.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;z.isDocumentKey(i)||(i=i.child(""));const o=new Re(new z(i),0);let a=new Ge(ee);return this.Sr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.yr)),!0)},o),A.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.br(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ce(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return A.forEach(n.mutations,s=>{const i=new Re(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Re(n,0),s=this.Sr.firstAfterOrEqual(r);return A.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.Fr=e,this.docs=function(){return new pe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(n))}getEntries(e,n){let r=En();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qe.newInvalidDocument(s))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=En();const o=n.path,a=new z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||OA(VA(h),r)<=0||(s.has(h.key)||ru(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return A.resolve(i)}getAllFromCollectionGroup(e,n,r,s){B()}Mr(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XI(this)}getSize(e){return A.resolve(this.size)}}class XI extends HI{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ur.addEntry(e,s)):this.ur.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.persistence=e,this.Or=new Os(n=>wf(n),xf),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Rf,this.targetCount=0,this.Lr=ws.Bn()}forEachTarget(e,n){return this.Or.forEach((r,s)=>n(s)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),A.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ws(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Qn(n),A.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),A.waitFor(i).next(()=>s)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),A.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.kr={},this.overlays={},this.qr=new yf(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new JI(this),this.indexManager=new BI,this.remoteDocumentCache=function(s){return new YI(s)}(r=>this.referenceDelegate.$r(r)),this.serializer=new UI(n),this.Ur=new KI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new GI(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const s=new eN(this.qr.next());return this.referenceDelegate.Wr(),r(s).next(i=>this.referenceDelegate.Gr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}zr(e,n){return A.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class eN extends LA{constructor(e){super(),this.currentSequenceNumber=e}}class Pf{constructor(e){this.persistence=e,this.jr=new Rf,this.Hr=null}static Jr(e){return new Pf(e)}get Yr(){if(this.Hr)return this.Hr;throw B()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),A.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(s=>this.Yr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Yr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Yr,r=>{const s=z.fromPath(r);return this.Zr(e,s).next(i=>{i||n.removeEntry(s,H.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return A.or([()=>A.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=s}static $i(e,n){let r=K(),s=K();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new kf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Hi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new tN;return this.Yi(e,n,o).next(a=>{if(i.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>i.result)}Zi(e,n,r,s){return r.documentReadCount<this.Gi?(Zs()<=Y.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",Fr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),A.resolve()):(Zs()<=Y.DEBUG&&M("QueryEngine","Query:",Fr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.zi*s?(Zs()<=Y.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",Fr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yt(n))):A.resolve())}Hi(e,n){if(rg(n))return A.resolve(null);let r=Yt(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=bh(n,null,"F"),r=Yt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=K(...i);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Xi(n,a);return this.es(n,c,o,l.readTime)?this.Hi(e,bh(n,null,"F")):this.ts(e,c,n,l)}))})))}Ji(e,n,r,s){return rg(n)||s.isEqual(H.min())?A.resolve(null):this.ji.getDocuments(e,r).next(i=>{const o=this.Xi(n,i);return this.es(n,o,r,s)?A.resolve(null):(Zs()<=Y.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fr(n)),this.ts(e,o,n,bA(s,-1)).next(a=>a))})}Xi(e,n){let r=new Ge(U1(e));return n.forEach((s,i)=>{ru(e,i)&&(r=r.add(i))}),r}es(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Yi(e,n,r){return Zs()<=Y.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",Fr(n)),this.ji.getDocumentsMatchingQuery(e,n,Kn.min(),r)}ts(e,n,r,s){return this.ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,s){this.persistence=e,this.ns=n,this.serializer=s,this.rs=new pe(ee),this.ss=new Os(i=>wf(i),xf),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WI(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function sN(t,e,n,r){return new rN(t,e,n,r)}async function a_(t,e){const n=q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=K();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({cs:c,removedBatchIds:o,addedBatchIds:a}))})})}function iN(t,e){const n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=A.resolve();return f.forEach(y=>{g=g.next(()=>h.getEntry(l,y)).next(_=>{const x=c.docVersions.get(y);ce(x!==null),_.version.compareTo(x)<0&&(d.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),h.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=K();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function l_(t){const e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function oN(t,e){const n=q(t),r=e.snapshotVersion;let s=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n._s.newChangeBuffer({trackRemovals:!0});s=n.rs;const a=[];e.targetChanges.forEach((h,d)=>{const f=s.get(d);if(!f)return;a.push(n.Kr.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(i,h.addedDocuments,d)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Xe.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),function(_,x,p){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,g,h)&&a.push(n.Kr.updateTargetData(i,g))});let l=En(),c=K();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(aN(i,o,e.documentUpdates).next(h=>{l=h.ls,c=h.hs})),!r.isEqual(H.min())){const h=n.Kr.getLastRemoteSnapshotVersion(i).next(d=>n.Kr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return A.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.rs=s,i))}function aN(t,e,n){let r=K(),s=K();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=En();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(H.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ls:o,hs:s}})}function lN(t,e){const n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uN(t,e){const n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Kr.getTargetData(r,e).next(i=>i?(s=i,A.resolve(s)):n.Kr.allocateTargetId(r).next(o=>(s=new kn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.rs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function Mh(t,e,n){const r=q(t),s=r.rs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!To(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(s.target)}function mg(t,e,n){const r=q(t);let s=H.min(),i=K();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=q(l),f=d.ss.get(h);return f!==void 0?A.resolve(d.rs.get(f)):d.Kr.getTargetData(c,h)}(r,o,Yt(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?s:H.min(),n?i:K())).next(a=>(cN(r,eI(e),a),{documents:a,Ps:i})))}function cN(t,e,n){let r=t.os.get(e)||H.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.os.set(e,r)}class pg{constructor(){this.activeTargetIds=oI()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hN{constructor(){this.ro=new pg,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new pg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia=null;function ic(){return ia===null?ia=function(){return 268435456+Math.round(2147483648*Math.random())}():ia++,"0x"+ia.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be="WebChannelConnection";class pN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${s}/databases/${i}`,this.wo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get So(){return!1}bo(n,r,s,i,o){const a=ic(),l=this.Do(n,r);M("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(c,i,o),this.vo(n,l,c,s).then(h=>(M("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ys("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Fo(n,r,s,i,o,a){return this.bo(n,r,s,i,o)}Co(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}Do(n,r){const s=fN[n];return`${this.po}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=ic();return new Promise((o,a)=>{const l=new xA;l.setWithCredentials(!0),l.listenOnce(EA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rc.NO_ERROR:const h=l.getResponseJson();M(Be,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case rc.TIMEOUT:M(Be,`RPC '${e}' ${i} timed out`),a(new O(T.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const d=l.getStatus();if(M(Be,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const y=function(x){const p=x.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(p)>=0?p:T.UNKNOWN}(g.status);a(new O(y,g.message))}else a(new O(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(T.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{M(Be,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);M(Be,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Mo(e,n,r){const s=ic(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vA(),a=_A(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");M(Be,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const y=new mN({ho:x=>{g?M(Be,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(f||(M(Be,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),M(Be,`RPC '${e}' stream ${s} sending:`,x),d.send(x))},Po:()=>d.close()}),_=(x,p,m)=>{x.listen(p,v=>{try{m(v)}catch(w){setTimeout(()=>{throw w},0)}})};return _(d,na.EventType.OPEN,()=>{g||M(Be,`RPC '${e}' stream ${s} transport opened.`)}),_(d,na.EventType.CLOSE,()=>{g||(g=!0,M(Be,`RPC '${e}' stream ${s} transport closed`),y.mo())}),_(d,na.EventType.ERROR,x=>{g||(g=!0,ys(Be,`RPC '${e}' stream ${s} transport errored:`,x),y.mo(new O(T.UNAVAILABLE,"The operation could not be completed")))}),_(d,na.EventType.MESSAGE,x=>{var p;if(!g){const m=x.data[0];ce(!!m);const v=m,w=v.error||((p=v[0])===null||p===void 0?void 0:p.error);if(w){M(Be,`RPC '${e}' stream ${s} received error:`,w);const C=w.status;let k=function(F){const $=_e[F];if($!==void 0)return J1($)}(C),D=w.message;k===void 0&&(k=T.INTERNAL,D="Unknown error status: "+C+" with message "+w.message),g=!0,y.mo(new O(k,D)),d.close()}else M(Be,`RPC '${e}' stream ${s} received:`,m),y.fo(m)}}),_(a,wA.STAT_EVENT,x=>{x.stat===Wp.PROXY?M(Be,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Wp.NOPROXY&&M(Be,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.Vo()},0),y}}function oc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){return new II(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r=1e3,s=1.5,i=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=s,this.No=i,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),s=Math.max(0,n-r);s>0&&M("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,s,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,s,i,o,a,l){this._i=e,this.Uo=r,this.Wo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new u_(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(_n(n.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Go===n&&this.__(r,s)},r=>{e(()=>{const s=new O(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(s)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(s=>{r(()=>this.a_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gN extends c_{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=RI(this.serializer,e),r=function(i){if(!("targetChange"in i))return H.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?H.min():o.readTime?Jt(o.readTime):H.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Lh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=kh(l)?{documents:DI(i,l)}:{query:bI(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=t_(i,o.resumeToken);const c=Vh(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(H.min())>0){a.readTime=gl(i,o.snapshotVersion.toTimestamp());const c=Vh(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=OI(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Lh(this.serializer),n.removeTarget=e,this.n_(n)}}class yN extends c_{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=kI(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.T_(r,n)}return ce(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Lh(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PI(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.R_=!1}V_(){if(this.R_)throw new O(T.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.bo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(T.UNKNOWN,s.toString())})}Fo(e,n,r,s){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Fo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(T.UNKNOWN,i.toString())})}terminate(){this.R_=!0}}class _N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(_n(n),this.p_=!1):M("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=i,this.x_.so(o=>{r.enqueueAndForget(async()=>{br(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=q(l);c.F_.add(4),await Co(c),c.O_.set("Unknown"),c.F_.delete(4),await lu(c)}(this))})}),this.O_=new _N(r,s)}}async function lu(t){if(br(t))for(const e of t.M_)await e(!0)}async function Co(t){for(const e of t.M_)await e(!1)}function h_(t,e){const n=q(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),Vf(n)?bf(n):Fs(n).Yo()&&Df(n,e))}function d_(t,e){const n=q(t),r=Fs(n);n.v_.delete(e),r.Yo()&&f_(n,e),n.v_.size===0&&(r.Yo()?r.e_():br(n)&&n.O_.set("Unknown"))}function Df(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fs(t).l_(e)}function f_(t,e){t.N_.Le(e),Fs(t).h_(e)}function bf(t){t.N_=new xI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Fs(t).start(),t.O_.y_()}function Vf(t){return br(t)&&!Fs(t).Jo()&&t.v_.size>0}function br(t){return q(t).F_.size===0}function m_(t){t.N_=void 0}async function wN(t){t.v_.forEach((e,n)=>{Df(t,e)})}async function xN(t,e){m_(t),Vf(t)?(t.O_.b_(e),bf(t)):t.O_.set("Unknown")}async function SN(t,e,n){if(t.O_.set("Online"),e instanceof e_&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.v_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.v_.delete(a),s.N_.removeTarget(a))}(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yl(t,r)}else if(e instanceof Sa?t.N_.Ge(e):e instanceof Z1?t.N_.Xe(e):t.N_.He(e),!n.isEqual(H.min()))try{const r=await l_(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.N_._t(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.v_.get(c);h&&i.v_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.v_.get(l);if(!h)return;i.v_.set(l,h.withResumeToken(Xe.EMPTY_BYTE_STRING,h.snapshotVersion)),f_(i,l);const d=new kn(h.target,l,c,h.sequenceNumber);Df(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){M("RemoteStore","Failed to raise snapshot:",r),await yl(t,r)}}async function yl(t,e,n){if(!To(e))throw e;t.F_.add(1),await Co(t),t.O_.set("Offline"),n||(n=()=>l_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await lu(t)})}function p_(t,e){return e().catch(n=>yl(t,n,e))}async function uu(t){const e=q(t),n=Gn(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;TN(e);)try{const s=await lN(e.localStore,r);if(s===null){e.C_.length===0&&n.e_();break}r=s.batchId,AN(e,s)}catch(s){await yl(e,s)}g_(e)&&y_(e)}function TN(t){return br(t)&&t.C_.length<10}function AN(t,e){t.C_.push(e);const n=Gn(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function g_(t){return br(t)&&!Gn(t).Jo()&&t.C_.length>0}function y_(t){Gn(t).start()}async function IN(t){Gn(t).A_()}async function NN(t){const e=Gn(t);for(const n of t.C_)e.d_(n.mutations)}async function CN(t,e,n){const r=t.C_.shift(),s=If.from(r,e,n);await p_(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await uu(t)}async function RN(t,e){e&&Gn(t).I_&&await async function(r,s){if(function(o){return _I(o)&&o!==T.ABORTED}(s.code)){const i=r.C_.shift();Gn(r).Xo(),await p_(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await uu(r)}}(t,e),g_(t)&&y_(t)}async function yg(t,e){const n=q(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=br(n);n.F_.add(3),await Co(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await lu(n)}async function PN(t,e){const n=q(t);e?(n.F_.delete(2),await lu(n)):e||(n.F_.add(2),await Co(n),n.O_.set("Unknown"))}function Fs(t){return t.B_||(t.B_=function(n,r,s){const i=q(n);return i.V_(),new gN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Io:wN.bind(null,t),Eo:xN.bind(null,t),c_:SN.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),Vf(t)?bf(t):t.O_.set("Unknown")):(await t.B_.stop(),m_(t))})),t.B_}function Gn(t){return t.L_||(t.L_=function(n,r,s){const i=q(n);return i.V_(),new yN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Io:IN.bind(null,t),Eo:RN.bind(null,t),E_:NN.bind(null,t),T_:CN.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await uu(t)):(await t.L_.stop(),t.C_.length>0&&(M("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Of(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ff(t,e){if(_n("AsyncQueue",`${e}: ${t}`),To(t))return new O(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=ai(),this.sortedSet=new pe(this.comparator)}static emptySet(e){return new as(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new as;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.k_=new pe(z.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):B():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xs{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xs(e,n,as.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Q_=void 0,this.listeners=[]}}class DN{constructor(){this.queries=new Os(e=>$1(e),nu),this.onlineState="Unknown",this.K_=new Set}}async function v_(t,e){const n=q(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new kN),s)try{i.Q_=await n.onListen(r)}catch(o){const a=Ff(o,`Initialization of query '${Fr(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.U_(n.onlineState),i.Q_&&e.W_(i.Q_)&&Lf(n)}async function __(t,e){const n=q(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function bN(t,e){const n=q(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.W_(s)&&(r=!0);o.Q_=s}}r&&Lf(n)}function VN(t,e,n){const r=q(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function Lf(t){t.K_.forEach(e=>{e.next()})}class E_{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.key=e}}class x_{constructor(e){this.key=e}}class ON{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=K(),this.mutatedKeys=K(),this.ua=U1(e),this.ca=new as(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new vg,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const f=s.get(h),g=ru(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;f&&g?f.data.isEqual(g.data)?y!==_&&(r.track({type:3,doc:g}),x=!0):this.Ia(f,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.ua(g,l)>0||c&&this.ua(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),x=!0):f&&!g&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(g?(o=o.add(g),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{ca:o,Pa:r,es:a,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const i=e.Pa.q_();i.sort((c,h)=>function(f,g){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return y(f)-y(g)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,i.length!==0||l?{snapshot:new xs(this.query,e.ca,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new vg,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=K(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new x_(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new w_(r))}),n}Ra(e){this.oa=e.Ps,this.aa=K();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return xs.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class FN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LN{constructor(e){this.key=e,this.ma=!1}}class MN{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Os(a=>$1(a),nu),this.pa=new Map,this.ya=new Set,this.wa=new pe(z.comparator),this.Sa=new Map,this.ba=new Rf,this.Da={},this.Ca=new Map,this.va=ws.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function $N(t,e){const n=GN(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await uN(n.localStore,Yt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await UN(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&h_(n.remoteStore,o)}return s}async function UN(t,e,n,r,s){t.Ma=(d,f,g)=>async function(_,x,p,m){let v=x.view.ha(p);v.es&&(v=await mg(_.localStore,x.query,!1).then(({documents:k})=>x.view.ha(k,v)));const w=m&&m.targetChanges.get(x.targetId),C=x.view.applyChanges(v,_.isPrimaryClient,w);return Eg(_,x.targetId,C.Ea),C.snapshot}(t,d,f,g);const i=await mg(t.localStore,e,!0),o=new ON(e,i.Ps),a=o.ha(i.documents),l=No.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Eg(t,n,c.Ea);const h=new FN(e,n,o);return t.ga.set(e,h),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function zN(t,e){const n=q(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!nu(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Mh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),d_(n.remoteStore,r.targetId),$h(n,r.targetId)}).catch(So)):($h(n,r.targetId),await Mh(n.localStore,r.targetId,!0))}async function BN(t,e,n){const r=YN(t);try{const s=await function(o,a){const l=q(o),c=Ne.now(),h=a.reduce((g,y)=>g.add(y.key),K());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=En(),_=K();return l._s.getEntries(g,h).next(x=>{y=x,y.forEach((p,m)=>{m.isValidDocument()||(_=_.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(x=>{d=x;const p=[];for(const m of a){const v=mI(m,d.get(m.key).overlayedDocument);v!=null&&p.push(new Dr(m.key,v,P1(v.value.mapValue),Xt.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,p,a)}).next(x=>{f=x;const p=x.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(g,x.batchId,p)})}).then(()=>({batchId:f.batchId,changes:B1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new pe(ee)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ro(r,s.changes),await uu(r.remoteStore)}catch(s){const i=Ff(s,"Failed to persist write");n.reject(i)}}async function S_(t,e){const n=q(t);try{const r=await oN(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?ce(o.ma):s.removedDocuments.size>0&&(ce(o.ma),o.ma=!1))}),await Ro(n,r,e)}catch(r){await So(r)}}function _g(t,e,n){const r=q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const a=o.view.U_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=q(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.listeners)f.U_(a)&&(c=!0)}),c&&Lf(l)}(r.eventManager,e),s.length&&r.fa.c_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jN(t,e,n){const r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let o=new pe(z.comparator);o=o.insert(i,qe.newNoDocument(i,H.min()));const a=K().add(i),l=new ou(H.min(),new Map,new pe(ee),o,a);await S_(r,l),r.wa=r.wa.remove(i),r.Sa.delete(e),Mf(r)}else await Mh(r.localStore,e,!1).then(()=>$h(r,e,n)).catch(So)}async function HN(t,e){const n=q(t),r=e.batch.batchId;try{const s=await iN(n.localStore,e);A_(n,r,null),T_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ro(n,s)}catch(s){await So(s)}}async function qN(t,e,n){const r=q(t);try{const s=await function(o,a){const l=q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ce(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);A_(r,e,n),T_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ro(r,s)}catch(s){await So(s)}}function T_(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function A_(t,e,n){const r=q(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function $h(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||I_(t,r)})}function I_(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(d_(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Mf(t))}function Eg(t,e,n){for(const r of n)r instanceof w_?(t.ba.addReference(r.key,e),WN(t,r)):r instanceof x_?(M("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||I_(t,r.key)):B()}function WN(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(M("SyncEngine","New document in limbo: "+n),t.ya.add(r),Mf(t))}function Mf(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new z(le.fromString(e)),r=t.va.next();t.Sa.set(r,new LN(n)),t.wa=t.wa.insert(n,r),h_(t.remoteStore,new kn(Yt(Sf(n.path)),r,"TargetPurposeLimboResolution",yf.ae))}}async function Ro(t,e,n){const r=q(t),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const h=kf.$i(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.fa.c_(s),await async function(l,c){const h=q(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(c,f=>A.forEach(f.Qi,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>A.forEach(f.Ki,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!To(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.rs.get(f),y=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(y);h.rs=h.rs.insert(f,_)}}}(r.localStore,i))}async function KN(t,e){const n=q(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=await a_(n.localStore,e);n.currentUser=e,function(i,o){i.Ca.forEach(a=>{a.forEach(l=>{l.reject(new O(T.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ro(n,r.cs)}}function QN(t,e){const n=q(t),r=n.Sa.get(e);if(r&&r.ma)return K().add(r.key);{let s=K();const i=n.pa.get(e);if(!i)return s;for(const o of i){const a=n.ga.get(o);s=s.unionWith(a.view.la)}return s}}function GN(t){const e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=S_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jN.bind(null,e),e.fa.c_=bN.bind(null,e.eventManager),e.fa.xa=VN.bind(null,e.eventManager),e}function YN(t){const e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qN.bind(null,e),e}class wg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=au(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sN(this.persistence,new nN,e.initialUser,this.serializer)}createPersistence(e){return new ZI(Pf.Jr,this.serializer)}createSharedClientState(e){return new hN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_g(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KN.bind(null,this.syncEngine),await PN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DN}()}createDatastore(e){const n=au(e.databaseInfo.databaseId),r=function(i){return new pN(i)}(e.databaseInfo);return function(i,o,a,l){return new vN(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new EN(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_g(this.syncEngine,n,0),function(){return gg.C()?new gg:new dN}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const d=new MN(s,i,o,a,l,c);return h&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=q(n);M("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Co(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):_n("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=je.UNAUTHENTICATED,this.clientId=N1.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{M("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(M("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ff(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ac(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await a_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eC(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>yg(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>yg(e.remoteStore,i)),t._onlineComponents=e}function ZN(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function eC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{await ac(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ZN(n))throw n;ys("Error using user provided cache. Falling back to memory cache: "+n),await ac(t,new wg)}}else M("FirestoreClient","Using default OfflineComponentProvider"),await ac(t,new wg);return t._offlineComponents}async function C_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),await xg(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),await xg(t,new XN))),t._onlineComponents}function tC(t){return C_(t).then(e=>e.syncEngine)}async function R_(t){const e=await C_(t),n=e.eventManager;return n.onListen=$N.bind(null,e.syncEngine),n.onUnlisten=zN.bind(null,e.syncEngine),n}function nC(t,e,n={}){const r=new hn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new N_({next:f=>{o.enqueueAndForget(()=>__(i,d));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new O(T.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new O(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new E_(Sf(a.path),h,{includeMetadataChanges:!0,Z_:!0});return v_(i,d)}(await R_(t),t.asyncQueue,e,n,r)),r.promise}function rC(t,e,n={}){const r=new hn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new N_({next:f=>{o.enqueueAndForget(()=>__(i,d)),f.fromCache&&l.source==="server"?c.reject(new O(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new E_(a,h,{includeMetadataChanges:!0,Z_:!0});return v_(i,d)}(await R_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t,e,n){if(!n)throw new O(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sC(t,e,n,r){if(e===!0&&r===!0)throw new O(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tg(t){if(!z.isDocumentKey(t))throw new O(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ag(t){if(z.isDocumentKey(t))throw new O(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cu(t);throw new O(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ig({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ig(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TA;switch(r.type){case"firstParty":return new CA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Sg.get(n);r&&(M("ComponentProvider","Removing Datastore"),Sg.delete(n),r.terminate())}(this),Promise.resolve()}}function iC(t,e,n,r={}){var s;const i=(t=Yn(t,hu))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=je.MOCK_USER;else{a=sS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new O(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new je(c)}t._authCredentials=new AA(new I1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}}class Hn extends Ls{constructor(e,n,r){super(e,n,Sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new z(e))}withConverter(e){return new Hn(this.firestore,e,this._path)}}function nr(t,e,...n){if(t=ps(t),k_("collection","path",e),t instanceof hu){const r=le.fromString(e,...n);return Ag(r),new Hn(t,null,r)}{if(!(t instanceof ct||t instanceof Hn))throw new O(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return Ag(r),new Hn(t.firestore,null,r)}}function Nr(t,e,...n){if(t=ps(t),arguments.length===1&&(e=N1.V()),k_("doc","path",e),t instanceof hu){const r=le.fromString(e,...n);return Tg(r),new ct(t,null,new z(r))}{if(!(t instanceof ct||t instanceof Hn))throw new O(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return Tg(r),new ct(t.firestore,t instanceof Hn?t.converter:null,new z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new u_(this,"async_queue_retry"),this.ou=()=>{const n=oc();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=oc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=oc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new hn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!To(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw _n("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const s=Of.createAndSchedule(this,e,n,r,i=>this.cu(i));return this.tu.push(s),s}_u(){this.nu&&B()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Po extends hu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new oC}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||D_(this),this._firestoreClient.terminate()}}function Ms(t,e){const n=typeof t=="object"?t:lT(),r=typeof t=="string"?t:e||"(default)",s=sT(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nS("firestore");i&&iC(s,...i)}return s}function $f(t){return t._firestoreClient||D_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function D_(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new UA(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,P_(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new JN(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(Xe.fromBase64String(e))}catch(n){throw new O(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ss(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=/^__.*__$/;class lC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Io(e,this.data,n,this.fieldTransforms)}}function b_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class jf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.du(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Eu({path:r,Ru:!1});return s.Vu(e),s}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Eu({path:r,Ru:!1});return s.du(),s}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return vl(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(b_(this.Tu)&&aC.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class uC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||au(e)}wu(e,n,r,s=!1){return new jf({Tu:e,methodName:n,yu:r,path:We.emptyPath(),Ru:!1,pu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V_(t){const e=t._freezeSettings(),n=au(t._databaseId);return new uC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cC(t,e,n,r,s,i={}){const o=t.wu(i.merge||i.mergeFields?2:0,e,n,s);L_("Data must be an object, but it was:",o,r);const a=O_(r,o);let l,c;if(i.merge)l=new Vt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const f=dC(e,d,n);if(!o.contains(f))throw new O(T.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);mC(h,f)||h.push(f)}l=new Vt(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new lC(new wt(a),l,c)}class Hf extends zf{_toFieldTransform(e){return new cI(e.path,new ro)}isEqual(e){return e instanceof Hf}}function hC(t,e,n,r=!1){return qf(n,t.wu(r?4:3,e))}function qf(t,e){if(F_(t=ps(t)))return L_("Unsupported field value:",e,t),O_(t,e);if(t instanceof zf)return function(r,s){if(!b_(s.Tu))throw s.gu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=qf(a,s.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ps(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ne.fromDate(r);return{timestampValue:gl(s.serializer,i)}}if(r instanceof Ne){const i=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gl(s.serializer,i)}}if(r instanceof Bf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ss)return{bytesValue:t_(s.serializer,r._byteString)};if(r instanceof ct){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cf(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.gu(`Unsupported field value: ${cu(r)}`)}(t,e)}function O_(t,e){const n={};return C1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(t,(r,s)=>{const i=qf(s,e.Au(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function F_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof Bf||t instanceof Ss||t instanceof ct||t instanceof zf)}function L_(t,e,n){if(!F_(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=cu(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function dC(t,e,n){if((e=ps(e))instanceof Uf)return e._internalPath;if(typeof e=="string")return M_(t,e);throw vl("Field path arguments must be of type string or ",t,!1,void 0,n)}const fC=new RegExp("[~\\*/\\[\\]]");function M_(t,e,n){if(e.search(fC)>=0)throw vl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uf(...e.split("."))._internalPath}catch{throw vl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new O(T.INVALID_ARGUMENT,a+t+l)}function mC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pC extends $_{data(){return super.data()}}function Wf(t,e){return typeof e=="string"?M_(t,e):e instanceof Uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kf{}class yC extends Kf{}function _l(t,e,...n){let r=[];e instanceof Kf&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Qf).length,a=i.filter(l=>l instanceof du).length;if(o>1||o>0&&a>0)throw new O(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class du extends yC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new du(e,n,r)}_apply(e){const n=this._parse(e);return U_(e._query,n),new Ls(e.firestore,e.converter,Dh(e._query,n))}_parse(e){const n=V_(e.firestore);return function(i,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Cg(d,h);const g=[];for(const y of d)g.push(Ng(l,i,y));f={arrayValue:{values:g}}}else f=Ng(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Cg(d,h),f=hC(a,o,d,h==="in"||h==="not-in");return xe.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function El(t,e,n){const r=e,s=Wf("where",t);return du._create(s,r,n)}class Qf extends Kf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ut.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)U_(o,l),o=Dh(o,l)}(e._query,n),new Ls(e.firestore,e.converter,Dh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ng(t,e,n){if(typeof(n=ps(n))=="string"){if(n==="")throw new O(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(e)&&n.indexOf("/")!==-1)throw new O(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(le.fromString(n));if(!z.isDocumentKey(r))throw new O(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xp(t,new z(r))}if(n instanceof ct)return Xp(t,n._key);throw new O(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cu(n)}.`)}function Cg(t,e){if(!Array.isArray(t)||t.length===0)throw new O(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U_(t,e){if(e.isInequality()){const r=Tf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new O(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=L1(t);i!==null&&vC(t,s,i)}const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new O(T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(T.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function vC(t,e,n){if(!n.isEqual(e))throw new O(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class _C{convertValue(e,n="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Bf(Ee(e.latitude),Ee(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_f(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const n=Qn(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);ce(o_(r));const s=new to(r.get(1),r.get(3)),i=new z(r.popFirst(5));return s.isEqual(n)||_n(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class z_ extends $_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ta extends z_{data(e={}){return super.data(e)}}class wC{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ui(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ta(this._firestore,this._userDataWriter,r.key,r,new ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ta(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ui(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Ta(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ui(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:xC(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){t=Yn(t,ct);const e=Yn(t.firestore,Po);return nC($f(e),t._key).then(n=>AC(e,t,n))}class B_ extends _C{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function en(t){t=Yn(t,Ls);const e=Yn(t.firestore,Po),n=$f(e),r=new B_(e);return gC(t._query),rC(n,t._query).then(s=>new wC(e,r,t,s))}function ko(t,e,n){t=Yn(t,ct);const r=Yn(t.firestore,Po),s=EC(t.converter,e,n);return j_(r,[cC(V_(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xt.none())])}function TC(t){return j_(Yn(t.firestore,Po),[new Af(t._key,Xt.none())])}function j_(t,e){return function(r,s){const i=new hn;return r.asyncQueue.enqueueAndForget(async()=>BN(await tC(r),s,i)),i.promise}($f(t),e)}function AC(t,e,n){const r=n.docs.get(e._key),s=new B_(t);return new z_(t,s,e._key,r,new ui(n.hasPendingWrites,n.fromCache),e.converter)}function Gf(){return new Hf("serverTimestamp")}(function(e,n=!0){(function(s){bs=s})(aT),il(new ji("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Po(new IA(r.getProvider("auth-internal")),new PA(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new O(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ss(Kp,"4.2.0",e),ss(Kp,"4.2.0","esm2017")})();var IC="firebase",NC="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(IC,NC,"app");const CC={apiKey:"AIzaSyDriFS6tFVdIE43tVjlMbfufp5C9Weknjc",authDomain:"farmwise-vitereact.firebaseapp.com",projectId:"farmwise-vitereact",storageBucket:"farmwise-vitereact.appspot.com",messagingSenderId:"606182611461",appId:"1:606182611461:web:995c3e7af5dae381fcda6c"},$s=wv(CC);function H_(t,e){return function(){return t.apply(e,arguments)}}const{toString:RC}=Object.prototype,{getPrototypeOf:Yf}=Object,fu=(t=>e=>{const n=RC.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nn=t=>(t=t.toLowerCase(),e=>fu(e)===t),mu=t=>e=>typeof e===t,{isArray:Us}=Array,oo=mu("undefined");function PC(t){return t!==null&&!oo(t)&&t.constructor!==null&&!oo(t.constructor)&&Tt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const q_=nn("ArrayBuffer");function kC(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&q_(t.buffer),e}const DC=mu("string"),Tt=mu("function"),W_=mu("number"),pu=t=>t!==null&&typeof t=="object",bC=t=>t===!0||t===!1,Aa=t=>{if(fu(t)!=="object")return!1;const e=Yf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},VC=nn("Date"),OC=nn("File"),FC=nn("Blob"),LC=nn("FileList"),MC=t=>pu(t)&&Tt(t.pipe),$C=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tt(t.append)&&((e=fu(t))==="formdata"||e==="object"&&Tt(t.toString)&&t.toString()==="[object FormData]"))},UC=nn("URLSearchParams"),zC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Do(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Us(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function K_(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Q_=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),G_=t=>!oo(t)&&t!==Q_;function Uh(){const{caseless:t}=G_(this)&&this||{},e={},n=(r,s)=>{const i=t&&K_(e,s)||s;Aa(e[i])&&Aa(r)?e[i]=Uh(e[i],r):Aa(r)?e[i]=Uh({},r):Us(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Do(arguments[r],n);return e}const BC=(t,e,n,{allOwnKeys:r}={})=>(Do(e,(s,i)=>{n&&Tt(s)?t[i]=H_(s,n):t[i]=s},{allOwnKeys:r}),t),jC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),HC=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qC=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Yf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},WC=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},KC=t=>{if(!t)return null;if(Us(t))return t;let e=t.length;if(!W_(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},QC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yf(Uint8Array)),GC=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},YC=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},XC=nn("HTMLFormElement"),JC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Rg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ZC=nn("RegExp"),Y_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Do(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},e4=t=>{Y_(t,(e,n)=>{if(Tt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Tt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},t4=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Us(t)?r(t):r(String(t).split(e)),n},n4=()=>{},r4=(t,e)=>(t=+t,Number.isFinite(t)?t:e),lc="abcdefghijklmnopqrstuvwxyz",Pg="0123456789",X_={DIGIT:Pg,ALPHA:lc,ALPHA_DIGIT:lc+lc.toUpperCase()+Pg},s4=(t=16,e=X_.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function i4(t){return!!(t&&Tt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const o4=t=>{const e=new Array(10),n=(r,s)=>{if(pu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Us(r)?[]:{};return Do(r,(o,a)=>{const l=n(o,s+1);!oo(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},a4=nn("AsyncFunction"),l4=t=>t&&(pu(t)||Tt(t))&&Tt(t.then)&&Tt(t.catch),S={isArray:Us,isArrayBuffer:q_,isBuffer:PC,isFormData:$C,isArrayBufferView:kC,isString:DC,isNumber:W_,isBoolean:bC,isObject:pu,isPlainObject:Aa,isUndefined:oo,isDate:VC,isFile:OC,isBlob:FC,isRegExp:ZC,isFunction:Tt,isStream:MC,isURLSearchParams:UC,isTypedArray:QC,isFileList:LC,forEach:Do,merge:Uh,extend:BC,trim:zC,stripBOM:jC,inherits:HC,toFlatObject:qC,kindOf:fu,kindOfTest:nn,endsWith:WC,toArray:KC,forEachEntry:GC,matchAll:YC,isHTMLForm:XC,hasOwnProperty:Rg,hasOwnProp:Rg,reduceDescriptors:Y_,freezeMethods:e4,toObjectSet:t4,toCamelCase:JC,noop:n4,toFiniteNumber:r4,findKey:K_,global:Q_,isContextDefined:G_,ALPHABET:X_,generateString:s4,isSpecCompliantForm:i4,toJSONObject:o4,isAsyncFn:a4,isThenable:l4};function X(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}S.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const J_=X.prototype,Z_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Z_[t]={value:t}});Object.defineProperties(X,Z_);Object.defineProperty(J_,"isAxiosError",{value:!0});X.from=(t,e,n,r,s,i)=>{const o=Object.create(J_);return S.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),X.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const u4=null;function zh(t){return S.isPlainObject(t)||S.isArray(t)}function eE(t){return S.endsWith(t,"[]")?t.slice(0,-2):t}function kg(t,e,n){return t?t.concat(e).map(function(s,i){return s=eE(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function c4(t){return S.isArray(t)&&!t.some(zh)}const h4=S.toFlatObject(S,{},null,function(e){return/^is[A-Z]/.test(e)});function gu(t,e,n){if(!S.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=S.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,x){return!S.isUndefined(x[_])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(e);if(!S.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(S.isDate(y))return y.toISOString();if(!l&&S.isBlob(y))throw new X("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(y)||S.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,_,x){let p=y;if(y&&!x&&typeof y=="object"){if(S.endsWith(_,"{}"))_=r?_:_.slice(0,-2),y=JSON.stringify(y);else if(S.isArray(y)&&c4(y)||(S.isFileList(y)||S.endsWith(_,"[]"))&&(p=S.toArray(y)))return _=eE(_),p.forEach(function(v,w){!(S.isUndefined(v)||v===null)&&e.append(o===!0?kg([_],w,i):o===null?_:_+"[]",c(v))}),!1}return zh(y)?!0:(e.append(kg(x,_,i),c(y)),!1)}const d=[],f=Object.assign(h4,{defaultVisitor:h,convertValue:c,isVisitable:zh});function g(y,_){if(!S.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(y),S.forEach(y,function(p,m){(!(S.isUndefined(p)||p===null)&&s.call(e,p,S.isString(m)?m.trim():m,_,f))===!0&&g(p,_?_.concat(m):[m])}),d.pop()}}if(!S.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Dg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xf(t,e){this._pairs=[],t&&gu(t,this,e)}const tE=Xf.prototype;tE.append=function(e,n){this._pairs.push([e,n])};tE.toString=function(e){const n=e?function(r){return e.call(this,r,Dg)}:Dg;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function d4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nE(t,e,n){if(!e)return t;const r=n&&n.encode||d4,s=n&&n.serialize;let i;if(s?i=s(e,n):i=S.isURLSearchParams(e)?e.toString():new Xf(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class f4{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){S.forEach(this.handlers,function(r){r!==null&&e(r)})}}const bg=f4,rE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m4=typeof URLSearchParams<"u"?URLSearchParams:Xf,p4=typeof FormData<"u"?FormData:null,g4=typeof Blob<"u"?Blob:null,y4=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),v4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ot={isBrowser:!0,classes:{URLSearchParams:m4,FormData:p4,Blob:g4},isStandardBrowserEnv:y4,isStandardBrowserWebWorkerEnv:v4,protocols:["http","https","file","blob","url","data"]};function _4(t,e){return gu(t,new Ot.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Ot.isNode&&S.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function E4(t){return S.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function w4(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function sE(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&S.isArray(s)?s.length:o,l?(S.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!S.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&S.isArray(s[o])&&(s[o]=w4(s[o])),!a)}if(S.isFormData(t)&&S.isFunction(t.entries)){const n={};return S.forEachEntry(t,(r,s)=>{e(E4(r),s,n,0)}),n}return null}function x4(t,e,n){if(S.isString(t))try{return(e||JSON.parse)(t),S.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Jf={transitional:rE,adapter:Ot.isNode?"http":"xhr",transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=S.isObject(e);if(i&&S.isHTMLForm(e)&&(e=new FormData(e)),S.isFormData(e))return s&&s?JSON.stringify(sE(e)):e;if(S.isArrayBuffer(e)||S.isBuffer(e)||S.isStream(e)||S.isFile(e)||S.isBlob(e))return e;if(S.isArrayBufferView(e))return e.buffer;if(S.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _4(e,this.formSerializer).toString();if((a=S.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return gu(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),x4(e)):e}],transformResponse:[function(e){const n=this.transitional||Jf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&S.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?X.from(a,X.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],t=>{Jf.headers[t]={}});const Zf=Jf,S4=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T4=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&S4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Vg=Symbol("internals");function ei(t){return t&&String(t).trim().toLowerCase()}function Ia(t){return t===!1||t==null?t:S.isArray(t)?t.map(Ia):String(t)}function A4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const I4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uc(t,e,n,r,s){if(S.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!S.isString(e)){if(S.isString(r))return e.indexOf(r)!==-1;if(S.isRegExp(r))return r.test(e)}}function N4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function C4(t,e){const n=S.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class yu{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const h=ei(l);if(!h)throw new Error("header name must be a non-empty string");const d=S.findKey(s,h);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Ia(a))}const o=(a,l)=>S.forEach(a,(c,h)=>i(c,h,l));return S.isPlainObject(e)||e instanceof this.constructor?o(e,n):S.isString(e)&&(e=e.trim())&&!I4(e)?o(T4(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=ei(e),e){const r=S.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return A4(s);if(S.isFunction(n))return n.call(this,s,r);if(S.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ei(e),e){const r=S.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||uc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=ei(o),o){const a=S.findKey(r,o);a&&(!n||uc(r,r[a],a,n))&&(delete r[a],s=!0)}}return S.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||uc(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return S.forEach(this,(s,i)=>{const o=S.findKey(r,i);if(o){n[o]=Ia(s),delete n[i];return}const a=e?N4(i):String(i).trim();a!==i&&delete n[i],n[a]=Ia(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return S.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&S.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Vg]=this[Vg]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ei(o);r[a]||(C4(s,o),r[a]=!0)}return S.isArray(e)?e.forEach(i):i(e),this}}yu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(yu.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});S.freezeMethods(yu);const dn=yu;function cc(t,e){const n=this||Zf,r=e||n,s=dn.from(r.headers);let i=r.data;return S.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function iE(t){return!!(t&&t.__CANCEL__)}function bo(t,e,n){X.call(this,t??"canceled",X.ERR_CANCELED,e,n),this.name="CanceledError"}S.inherits(bo,X,{__CANCEL__:!0});function R4(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const P4=Ot.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),S.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),S.isString(i)&&l.push("path="+i),S.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function k4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function D4(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function oE(t,e){return t&&!k4(e)?D4(t,e):e}const b4=Ot.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=S.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function V4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function O4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[i];o||(o=c),n[s]=l,r[s]=c;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const g=h&&c-h;return g?Math.round(f*1e3/g):void 0}}function Og(t,e){let n=0;const r=O4(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};h[e?"download":"upload"]=!0,t(h)}}const F4=typeof XMLHttpRequest<"u",L4=F4&&function(t){return new Promise(function(n,r){let s=t.data;const i=dn.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}S.isFormData(s)&&(Ot.isStandardBrowserEnv||Ot.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(g+":"+y))}const h=oE(t.baseURL,t.url);c.open(t.method.toUpperCase(),nE(h,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const g=dn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:g,config:t,request:c};R4(function(p){n(p),l()},function(p){r(p),l()},_),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new X("Request aborted",X.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new X("Network Error",X.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||rE;t.timeoutErrorMessage&&(y=t.timeoutErrorMessage),r(new X(y,_.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,c)),c=null},Ot.isStandardBrowserEnv){const g=(t.withCredentials||b4(h))&&t.xsrfCookieName&&P4.read(t.xsrfCookieName);g&&i.set(t.xsrfHeaderName,g)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&S.forEach(i.toJSON(),function(y,_){c.setRequestHeader(_,y)}),S.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Og(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Og(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=g=>{c&&(r(!g||g.type?new bo(null,t,c):g),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=V4(h);if(f&&Ot.protocols.indexOf(f)===-1){r(new X("Unsupported protocol "+f+":",X.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Na={http:u4,xhr:L4};S.forEach(Na,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const aE={getAdapter:t=>{t=S.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=S.isString(n)?Na[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new X(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(S.hasOwnProp(Na,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!S.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Na};function hc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bo(null,t)}function Fg(t){return hc(t),t.headers=dn.from(t.headers),t.data=cc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aE.getAdapter(t.adapter||Zf.adapter)(t).then(function(r){return hc(t),r.data=cc.call(t,t.transformResponse,r),r.headers=dn.from(r.headers),r},function(r){return iE(r)||(hc(t),r&&r.response&&(r.response.data=cc.call(t,t.transformResponse,r.response),r.response.headers=dn.from(r.response.headers))),Promise.reject(r)})}const Lg=t=>t instanceof dn?t.toJSON():t;function Ts(t,e){e=e||{};const n={};function r(c,h,d){return S.isPlainObject(c)&&S.isPlainObject(h)?S.merge.call({caseless:d},c,h):S.isPlainObject(h)?S.merge({},h):S.isArray(h)?h.slice():h}function s(c,h,d){if(S.isUndefined(h)){if(!S.isUndefined(c))return r(void 0,c,d)}else return r(c,h,d)}function i(c,h){if(!S.isUndefined(h))return r(void 0,h)}function o(c,h){if(S.isUndefined(h)){if(!S.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,d){if(d in e)return r(c,h);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>s(Lg(c),Lg(h),!0)};return S.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=l[h]||s,f=d(t[h],e[h],h);S.isUndefined(f)&&d!==a||(n[h]=f)}),n}const lE="1.5.0",em={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{em[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Mg={};em.transitional=function(e,n,r){function s(i,o){return"[Axios v"+lE+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new X(s(o," has been removed"+(n?" in "+n:"")),X.ERR_DEPRECATED);return n&&!Mg[o]&&(Mg[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function M4(t,e,n){if(typeof t!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new X("option "+i+" must be "+l,X.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new X("Unknown option "+i,X.ERR_BAD_OPTION)}}const Bh={assertOptions:M4,validators:em},Sn=Bh.validators;class wl{constructor(e){this.defaults=e,this.interceptors={request:new bg,response:new bg}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ts(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Bh.assertOptions(r,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),s!=null&&(S.isFunction(s)?n.paramsSerializer={serialize:s}:Bh.assertOptions(s,{encode:Sn.function,serialize:Sn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&S.merge(i.common,i[n.method]);i&&S.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=dn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let h,d=0,f;if(!l){const y=[Fg.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),f=y.length,h=Promise.resolve(n);d<f;)h=h.then(y[d++],y[d++]);return h}f=a.length;let g=n;for(d=0;d<f;){const y=a[d++],_=a[d++];try{g=y(g)}catch(x){_.call(this,x);break}}try{h=Fg.call(this,g)}catch(y){return Promise.reject(y)}for(d=0,f=c.length;d<f;)h=h.then(c[d++],c[d++]);return h}getUri(e){e=Ts(this.defaults,e);const n=oE(e.baseURL,e.url);return nE(n,e.params,e.paramsSerializer)}}S.forEach(["delete","get","head","options"],function(e){wl.prototype[e]=function(n,r){return this.request(Ts(r||{},{method:e,url:n,data:(r||{}).data}))}});S.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Ts(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}wl.prototype[e]=n(),wl.prototype[e+"Form"]=n(!0)});const Ca=wl;class tm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new bo(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new tm(function(s){e=s}),cancel:e}}}const $4=tm;function U4(t){return function(n){return t.apply(null,n)}}function z4(t){return S.isObject(t)&&t.isAxiosError===!0}const jh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jh).forEach(([t,e])=>{jh[e]=t});const B4=jh;function uE(t){const e=new Ca(t),n=H_(Ca.prototype.request,e);return S.extend(n,Ca.prototype,e,{allOwnKeys:!0}),S.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return uE(Ts(t,s))},n}const Te=uE(Zf);Te.Axios=Ca;Te.CanceledError=bo;Te.CancelToken=$4;Te.isCancel=iE;Te.VERSION=lE;Te.toFormData=gu;Te.AxiosError=X;Te.Cancel=Te.CanceledError;Te.all=function(e){return Promise.all(e)};Te.spread=U4;Te.isAxiosError=z4;Te.mergeConfig=Ts;Te.AxiosHeaders=dn;Te.formToJSON=t=>sE(S.isHTMLForm(t)?new FormData(t):t);Te.getAdapter=aE.getAdapter;Te.HttpStatusCode=B4;Te.default=Te;const Ra=Te,cE=Ms($s);let $g="10000001";const j4=async()=>{const t="X1H49c4zAPW8fBIednZuPMhDviAl3qQi";try{const e=await Ra.get(`https://api.tomorrow.io/v4/weather/realtime?location=batangas%20city&apikey=${t}`),n=await Ra.get(`https://api.tomorrow.io/v4/weather/forecast?location=batangas%20city&timesteps=1h&apikey=${t}`),r=await Ra.get(`https://api.tomorrow.io/v4/weather/forecast?location=batangas%20city&timesteps=1d&apikey=${t}`),s=e.data,i=n.data,o=r.data,a=Nr(cE,"Weather",$g);await ko(a,{wID:$g,current:s,hourly:i,weekly:o,created_at:Gf()})}catch(e){throw console.error("Error fetching or saving weather data:",e),e}},H4=async()=>{try{const t=await zs();if(t.length>0){const n=t[0].created_at.toDate(),r=new Date;r.getDate()!==n.getDate()||r.getMonth()!==n.getMonth()||r.getFullYear()!==n.getFullYear()?(await j4(),console.log("Weather data updated.")):console.log("Weather data is up to date.")}else console.log("No weather data found.")}catch(t){throw console.error("Error checking or updating weather data:",t),t}},zs=async()=>{const t=nr(cE,"Weather"),e=await en(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n},q4="/assets/clear_day-2dc0bd1c.svg",W4="/assets/cloudy-4182bc3c.svg",K4="/assets/mostly_clear_day-8a0f0d3d.svg",Q4="/assets/partly_cloudy_day-f55ecb47.svg",G4="/assets/mostly_cloudy-e5e8af90.svg",Y4="/assets/fog-fb877334.svg",X4="/assets/fog_light-8ec303e7.svg",J4="/assets/drizzle-a4c8d929.svg",Z4="/assets/rain-e4452510.svg",eR="/assets/rain_light-b9cca633.svg",tR="/assets/rain_heavy-42c598a9.svg",nR="/assets/snow-b5e35f58.svg",rR="/assets/flurries-c3a9904f.svg",sR="/assets/snow_light-b44142b4.svg",iR="/assets/snow_heavy-64dba043.svg",oR="/assets/freezing_drizzle-abde4ecb.svg",aR="/assets/freezing_rain-b8c71bc5.svg",lR="/assets/freezing_rain_light-94c1243a.svg",uR="/assets/freezing_rain_heavy-c0edd025.svg",cR="/assets/ice_pellets-59c92e90.svg",hR="/assets/ice_pellets_heavy-86e5d541.svg",dR="/assets/ice_pellets_light-f92d1fea.svg",fR="/assets/tstorm-3e71780d.svg";function hE(t){return{1e3:q4,1001:W4,1100:K4,1101:Q4,1102:G4,2e3:Y4,2100:X4,4e3:J4,4001:Z4,4200:eR,4201:tR,5e3:nR,5001:rR,5100:sR,5101:iR,6e3:oR,6001:aR,6200:lR,6201:uR,7e3:cR,7101:hR,7102:dR,8e3:fR}[t]}function vu(t){return{0:"Unknown",1e3:"Clear",1001:"Cloudy",1100:"Mostly Clear",1101:"Partly Cloudy",1102:"Mostly Cloudy",2e3:"Fog",2100:"Light Fog",3e3:"Light Wind",3001:"Wind",3002:"Strong Wind",4e3:"Drizzle",4001:"Rain",4200:"Light Rain",4201:"Heavy Rain",5e3:"Snow",5001:"Flurries",5100:"Light Snow",5101:"Heavy Snow",6e3:"Freezing Drizzle",6001:"Freezing Rain",6200:"Light Freezing Rain",6201:"Heavy Freezing Rain",7e3:"Ice Pellets",7101:"Heavy Ice Pellets",7102:"Light Ice Pellets",8e3:"Thunderstorm"}[t]}const mR=()=>{const[t,e]=E.useState();if(E.useEffect(()=>{(async()=>{const s=await zs();e(s)})()},[]),!t||t.length===0)return u.createElement("div",null,"Loading...");const n=t[0].current.data.values;return u.createElement("div",{className:"text-gray-800 h-full p-5 rounded-l-[20px]"},u.createElement("h2",{className:"text-base text-gray"},"Batangas City"),u.createElement("h1",{className:"text-6xl font-bold mt-4"},parseFloat(n.temperature).toFixed(0),"C"),u.createElement("div",{className:" mt-8 "},u.createElement("p",{className:"text-gray-400 font-medium"},"Today"),u.createElement("p",{className:"text-xl mb-2 font-bold"},vu(n.weatherCode))))},pR=()=>{const[t,e]=E.useState();if(E.useEffect(()=>{(async()=>{const a=await zs();e(a)})()},[]),!t||t.length===0)return u.createElement("div",null,"Loading...");const n=t[0].weekly.timelines.daily,r=o=>{const a={weekday:"long"};return new Date(o).toLocaleDateString("en-US",a)};function s(o){const a={year:"numeric",month:"long",day:"numeric"};return new Date(o).toLocaleDateString("en-US",a)}const i=n.slice(1,6);return u.createElement("div",{className:"grid h-full grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 "},i.map((o,a)=>u.createElement("div",{key:a,className:"bg-white rounded-3xl p-4 h-48 m-auto mx-2 shadow-md"},u.createElement("div",{className:"flex flex-col items-center mt-1"},u.createElement("img",{className:"w-12 h-12 mb-2 ",src:hE(o.values.weatherCodeMax),alt:o.values.weatherCodemax}),u.createElement("p",{className:"text-gray-600 text-center w-48 mb-2 "},vu(o.values.weatherCodeMax)),u.createElement("span",{className:"text-blue-600 text-md font-semibold "},parseFloat(o.values.temperatureMax).toFixed(0),"C")),u.createElement("h2",{className:"text-center font-semibold mb-1"},r(o.time)),u.createElement("h2",{className:"text-[12px] text-center text-gray-500 "},s(o.time)))))},gR="/assets/windspeed-b1f71168.png",yR="/assets/humidity-3b343685.png",vR="/assets/temperature-801f9ffc.png",_R="/assets/cloudcover-c8661c66.png",ER="/assets/sunset-078f9381.png",wR="/assets/sunrise-920e5694.png",xR=()=>{const[t,e]=E.useState();if(E.useEffect(()=>{(async()=>{const o=await zs();e(o)})()},[]),!t||t.length===0)return u.createElement("div",null,"Loading...");function n(i){const o=new Date(i),a=o.getHours(),l=o.getMinutes(),c=a>=12?"PM":"AM";return`${(a%12||12).toString().padStart(2,"0")}:${l.toString().padStart(2,"0")} ${c}`}const r=t[0].current.data.values,s=t[0].weekly.timelines.daily[0].values;return u.createElement("div",{className:" w-full h-full grid grid-cols-3 grid-rows-2 flex-wrap "},u.createElement("div",{className:`hover:-translate-y-1 hover:scale-110 hover:bg-gradient-to-r from-sky-200 to-rose-300\r
       hover:text-white duration-300 h-48 mr-2 mb-2 bg-white rounded-[20px] shadow-lg`},u.createElement("div",{className:"flex m-auto p-4"},u.createElement("img",{src:vR,alt:"humidity",className:"w-12 h-12"}),u.createElement("h2",{className:"text-xl font-bold  p-2"},"Temperature")),u.createElement("p",{className:"text-white:base text-center text-4xl font-bold"},parseFloat(r.temperature).toFixed(0),"C")),u.createElement("div",{className:`hover:-translate-y-1 hover:scale-110 hover:bg-blue-200 hover:text-white  \r
      duration-300 h-48  ml-2 mr-2 mb-2  rounded-[20px] text-center shadow-lg bg-white`},u.createElement("div",{className:"flex m-auto p-4"},u.createElement("img",{src:gR,alt:"humidity",className:"w-12 h-12"}),u.createElement("h2",{className:"text-xl font-bold  p-2"},"WindSpeed")),u.createElement("p",{className:"text-white:base text-center text-4xl font-bold"},r.windSpeed)),u.createElement("div",{className:`hover:-translate-y-1 hover:scale-110 hover:bg-yellow-300 hover:text-white duration-300 \r
      h-48 ml-2 mr-2 mb-2 rounded-[20px] text-center shadow-lg bg-white`},u.createElement("div",{className:"flex m-auto p-4"},u.createElement("img",{src:wR,alt:"humidity",className:"w-12 h-12"}),u.createElement("h2",{className:"text-xl font-bold  p-2"},"Sunrise")),u.createElement("p",{className:"text-white:base text-center text-4xl font-bold"},n(s.sunriseTime))),u.createElement("div",{className:`hover:-translate-y-1 hover:scale-110 hover:bg-violet-200 duration-200\r
       hover:shadow-violet-100 hover:shadow-blur-lg hover:text-white h-48 mr-2 mt-2 \r
       bg-white rounded-[20px]  shadow-lg`},u.createElement("div",{className:"flex m-auto p-4"},u.createElement("img",{src:yR,alt:"humidity",className:"w-12 h-12"}),u.createElement("h2",{className:"text-xl font-bold  p-2"},"Humidity")),u.createElement("p",{className:"text-white:base text-center text-4xl font-bold"},r.humidity,"%")),u.createElement("div",{className:`hover:-translate-y-1 hover:scale-110 hover:bg-yellow-400 hover:text-white duration-200  \r
      h-48 mx-2 mt-2 bg-white rounded-[20px] shadow-lg `},u.createElement("div",{className:"flex m-auto p-4"},u.createElement("img",{src:_R,alt:"humidity",className:"w-12 h-12"}),u.createElement("h2",{className:"text-xl font-bold  p-2"},"CloudCover")),u.createElement("p",{className:"text-center text-white:base text-4xl font-bold"},r.cloudCover,"%")),u.createElement("div",{className:`hover:-translate-y-1 hover:scale-110 hover:bg-gray-900 hover:text-white duration-200  \r
      h-48 mr-2 mt-2 bg-white rounded-[20px]  shadow-lg`},u.createElement("div",{className:"flex m-auto p-4"},u.createElement("img",{src:ER,alt:"humidity",className:"w-12 h-12"}),u.createElement("h2",{className:"text-xl font-bold  p-2"},"Sunset")),u.createElement("p",{className:" text-center text-white:base text-4xl font-bold"},n(s.sunsetTime))))},SR=()=>{const[t,e]=E.useState();if(E.useEffect(()=>{(async()=>{const o=await zs();e(o)})()},[]),!t||t.length===0)return u.createElement("div",null,"Loading...");function n(i){const a=new Date(i).getHours(),l=a>=12?"PM":"AM";return`${a%12||12} ${l}`}const s=t[0].hourly.timelines.hourly.slice(0,10);return u.createElement("div",{className:"flex"},s.map((i,o)=>u.createElement("div",{key:o,className:"bg-white my-4 flex flex-row justify-center"},u.createElement("div",{className:"flex flex-col items-center justify-center w-28 text-center "},u.createElement("div",{className:""},u.createElement("h2",{className:" font-bold text-center text-black "},n(i.time))),u.createElement("div",null,u.createElement("img",{className:"w-10 mb-1 ",src:hE(i.values.weatherCode),alt:i.values.weatherCode})),u.createElement("div",{className:"mb-1"},u.createElement("p",{className:"text-gray-600 text-center text-sm "},vu(i.values.weatherCode))),u.createElement("div",null,u.createElement("span",{className:"text-blue-600 text-sm font-semibold text-center "},parseFloat(i.values.temperature).toFixed(0),"C"))))))},TR="/assets/bglines-0c3741ef.png";function AR(){return E.useEffect(()=>{H4()},[]),u.createElement("div",{className:"absolute right-0 bg-bglines w-5/6 h-[100vh"},u.createElement("img",{className:" absolute",src:TR,alt:""}),u.createElement("div",{className:"container mx-auto p-7"},u.createElement("div",{className:`bg-gradient-to-r from-[#F5FAD1] via-teal-100 to-cyan-100 flex items-center \r
        justify-center relative  rounded-[20px] `},u.createElement("div",{className:"h-60 w-1/6 ml-2"},u.createElement(mR,null)),u.createElement("div",{className:"h-60 w-5/6 mr-6"},u.createElement(pR,null))),u.createElement("div",{className:" flex relative mt-4 justify-between"},u.createElement("p",{className:"text-xl font-bold"},"Today's Highlight")),u.createElement("div",{className:"flex items-center justify-center relative mt-4"},u.createElement(xR,null)),u.createElement("div",{className:" flex relative mt-4"},u.createElement("p",{className:"text-xl font-bold"},"Today's Temperature Prediction")),u.createElement("div",{className:`bg-white rounded-lg border-r-4 border-r-sky-200 border-l-4 border-l-sky-200 sm:shadow-lg  \r
        flex items-center  justify-center relative mt-4`},u.createElement(SR,null))))}const IR=Ms($s),NR=async()=>{const t=nr(IR,"Farmer"),e=await en(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n},Hh=Ms($s);let oa=1,dc=dE();const CR=async(t,e,n,r)=>{try{const s=dE();s!==dc&&(oa=1,dc=s);let i,o=!1;for(;!o;){i=`${dc}${oa}`;const l=Nr(Hh,"Alert",i);(await SC(l)).exists()?oa++:o=!0}const a=Nr(Hh,"Alert",i);return await ko(a,{alert_id:i,alert_type:t,recipientInfo:e,message:n,messageData:r,created_at:Gf()}),oa++,i}catch(s){return console.error("Error adding message: ",s),null}};function dE(){const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}${n}${r}`}const RR=async()=>{const t=nr(Hh,"Alert"),e=await en(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n},Vo="/assets/addData-8c40156d.png",fn="/assets/edit-acdf11a4.png";function PR({isOpen:t,toggleModal:e,selectedItems:n,filteredData:r,handleSelectAllChange:s,handleCheckboxChange:i,searchQuery:o,setSearchQuery:a,handleItemHover:l,handleItemLeave:c,selectAll:h}){return u.createElement("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${t?"":"hidden"}`},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{className:"modal-container bg-white  w-[500px]  mx-auto rounded-3xl shadow-lg z-50 p-6"},u.createElement("div",{className:"modal-content "},u.createElement("div",{className:"flex justify-center"},u.createElement("div",{className:"w-12"},u.createElement("img",{src:Vo,alt:""})),u.createElement("span",{className:"text-center text-xl font-medium mt-3 ml-2"},"Add Recipient")),u.createElement("div",{className:"flex flex-col"},u.createElement("div",{className:"mt-4 flex"},u.createElement("input",{type:"checkbox",checked:h,onChange:s,className:` border rounded border-gray-400 mr-2\r
                  focus:outline-none`,required:!0}),u.createElement("label",{className:"text-sm font-semibold text-black"},"Select All")),u.createElement("div",{className:"mt-1"},u.createElement("input",{type:"text",placeholder:"Search by name",className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0,value:o,onChange:d=>a(d.target.value)}))),u.createElement("div",{className:"mt-2"},u.createElement("label",{className:" font-semibold text-black"},"List of Recipient"),u.createElement("div",{className:"px-6 pt-2 border mt-2 overflow-auto h-80"},r.map((d,f)=>u.createElement("label",{key:f,className:"block mb-2",onMouseEnter:()=>l(d),onMouseLeave:c},u.createElement("input",{type:"checkbox",value:f,onChange:i,checked:n.includes(`${d.first_name} ${d.last_name}`),className:"mr-2"}),u.createElement("span",{className:"inline-block relative"},`${d.first_name} ${d.last_name}`))))),u.createElement("div",{className:"flex flex-col justify-center mt-4 ml-2"},u.createElement("button",{type:"button",onClick:e,className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px] ml-44"},"CLOSE"),u.createElement("img",{className:"w-6 ml-36",src:fn,alt:""}))))))}const kR="/assets/male-e6c585cb.png",DR="/assets/female-c90424bf.png";function nm(t){return{1:kR,2:DR}[t]}function bR({selectedItems:t,filteredData:e,handleRemoveItem:n}){const[r,s]=E.useState(null),i=a=>{s(a)},o=()=>{s(null)};return u.createElement("div",{className:"bg-gray-100 w-[500px] h-28 flex flex-wrap border-2 overflow-y-auto p-2"},t.map((a,l)=>{const c=e.find(d=>`${d.first_name} ${d.last_name}`===a),h=c?c.farmer_profile:rimg;return u.createElement("div",{key:l,className:"flex h-11 border-2 border-gray-300 rounded-xl p-1 mx-1 mt-1",onMouseEnter:()=>i(a),onMouseLeave:o},u.createElement("div",{className:"bg-white rounded-full"},u.createElement("img",{src:nm(h),alt:"recipient-profile",className:"w-8 h-8"})),u.createElement("div",{className:"flex items-center justify-center mx-1"},a),u.createElement("div",{className:"flex items-center justify-center"},u.createElement("button",{className:"text-red-500",onClick:()=>n(a)},"Remove"),r===a&&u.createElement("span",{className:"text-blue-600 ml-2"},c.contact_number)))}))}const yr="/assets/add-7ad3370e.png",VR="/assets/failed-deabcee4.png",fE=({message:t,onClose:e})=>{const n=E.useRef(null);return E.useEffect(()=>{const{current:r}=n;if(r)return r.classList.add("scale-100"),()=>{r.classList.remove("scale-100")}},[]),u.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50"},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{ref:n,className:`modal-container bg-white w-96 mx-auto rounded-3xl z-50 border-2\r
       border-red-500 shadow-2xl shadow-red-500/40 transform scale-0 transition-transform duration-300`},u.createElement("div",{className:"bg-white rounded-3xl shadow-lg p-6"},u.createElement("div",{className:"flex flex-col justify-center items-center"},u.createElement("img",{className:"w-48",src:VR,alt:""}),u.createElement("label",{className:"text-[27px] font-bold my-3"},"Sorry ")),u.createElement("div",{className:"mt-1 text-center"},u.createElement("p",{className:"text-[16px]"},t)),u.createElement("div",{className:"flex flex-col justify-center items-center mt-4"},u.createElement("button",{onClick:e,className:`bg-white w-32 text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-2 rounded-3xl  shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105 justify-center`},u.createElement("span",{className:"font-semibold text-[14px]"},"CLOSE"))))))},OR="/assets/success-24a46822.png",rm=({message:t,onClose:e})=>{const n=E.useRef(null);return E.useEffect(()=>{const{current:r}=n;if(r)return r.classList.add("scale-100"),()=>{r.classList.remove("scale-100")}},[]),u.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50"},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{ref:n,className:`modal-container bg-white w-96 mx-auto rounded-3xl z-50 border-2\r
       border-green-500 shadow-2xl shadow-green-500/40 transform scale-0 transition-transform duration-300`},u.createElement("div",{className:"bg-white rounded-3xl shadow-lg p-6"},u.createElement("div",{className:"flex flex-col justify-center items-center"},u.createElement("img",{className:"w-48",src:OR,alt:""}),u.createElement("label",{className:"text-[27px] font-bold my-3"},"Success (  )")),u.createElement("div",{className:"mt-1 text-center"},u.createElement("p",{className:"text-[16px]"},t)),u.createElement("div",{className:"flex flex-col justify-center items-center mt-4"},u.createElement("button",{onClick:e,className:`bg-white w-32 text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-2 rounded-3xl  shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105 justify-center`},u.createElement("span",{className:"font-semibold text-[14px]"},"CLOSE"))))))};function FR(){const[t,e]=E.useState(),[n,r]=E.useState([]),[s,i]=E.useState(!1),[o,a]=E.useState(""),[l,c]=E.useState(!1),[h,d]=E.useState([]),[f,g]=E.useState([]),[y,_]=E.useState(""),[x,p]=E.useState(""),[m,v]=E.useState([]),[w,C]=E.useState([]),[k,D]=E.useState(""),[L,F]=E.useState(!1),[$,re]=E.useState(!1);E.useEffect(()=>{(async()=>{const Z=await zs();e(Z)})()},[]),E.useEffect(()=>{(async()=>{const Z=await NR();d(Z)})()},[]),E.useEffect(()=>{g(h.filter(Z=>`${Z.first_name} ${Z.last_name}`.toLowerCase().includes(o.toLowerCase()))),n.length===f.length?c(!0):c(!1);const W=n.map(Z=>{const Je=f.find(Ce=>`${Ce.first_name} ${Ce.last_name}`===Z);return Je?Je.contact_number:""});p(W.join(", "))},[n,o,h]),E.useEffect(()=>{const Z=n.map(Je=>{const Ce=f.find(Rt=>`${Rt.first_name} ${Rt.last_name}`===Je);return Ce?{name:Je,contactNumber:Ce.contact_number}:null}).filter(Je=>Je!==null);v(Z)},[n,f]);const st=W=>{D(W.target.value)},Nt=W=>{const{first_name:Z,last_name:Je}=f[W.target.value],Ce=`${Z} ${Je}`;W.target.checked?r([...n,Ce]):r(n.filter(Rt=>Rt!==Ce))},Ct=W=>{setHoveredItem(W)},rr=()=>{setHoveredItem(null)},zt=W=>{r(n.filter(Z=>Z!==W))},rn=()=>{if(l)r([]);else{const W=f.map(Z=>`${Z.first_name} ${Z.last_name}`);r(W)}c(!l)},b=W=>{const Z=W.target.value;Z.length<=300&&_(Z)},R=()=>{i(!s),a("")},N=()=>{const W=new Date,Je=["January","February","March","April","May","June","July","August","September","October","November","December"][W.getMonth()],Ce=W.getDate(),Rt=W.getFullYear(),im=W.getHours(),mE=W.getMinutes(),pE=im>=12?"pm":"am",gE=im%12||12,yE=mE.toString().padStart(2,"0"),om=`${Je} ${Ce}, ${Rt}, at ${gE}:${yE} ${pE}`;console.log(om);const am=t[0].current.data.values,vE=vu(am.weatherCode),_E=`Good Day! As of ${om}, The weather in your farm area is currently ${vE} with a temperature of ${parseFloat(am.temperature).toFixed(0)}C.`;_(_E)},U=async()=>{const W=await Ra.post("https://farmwise-backend.onrender.com",{number:x,message:y});W.status===200?(console.log("Message sent successfully:",W.data),C(W.data)):console.error("Error sending message. Status:",W.status)},ie=async W=>{W.preventDefault(),U(),k===""||m===""||y===""||w===""?re(!0):await CR(k,m,y,w)?(F(!0),F(!0),D(""),v(""),_(""),C([]),r([])):alert("Failed to add Alert. Please try again.")};return u.createElement("div",{className:"mx-8 py-6 "},u.createElement("div",{className:"mb-4"},u.createElement("span",{className:"text-3xl font-bold"},"DASHBOARD")),u.createElement("div",{className:"flex justify-center"},u.createElement("div",{className:" bg-white p-5 rounded-2xl shadow-lg"},u.createElement("div",{className:"flex flex-col justify-center"},u.createElement("div",null,u.createElement("div",{className:"flex items-center space-x-4 mb-4"},u.createElement("label",{className:"text-sm font-semibold text-black mt-2"},"Recipient:"),u.createElement("button",{onClick:W=>R(),className:`bg-white text-green-500 border-[1px]  border-green-400 hover:bg-green-500\r
                     flex hover:text-white font-sm py-1 pl-8 pr-2  rounded-3xl shadow-md shadow-green-500/40\r
                     transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[13px] mt-[2px] "},"ADD NEW RECIPIENT"),u.createElement("img",{className:"w-5 ml-4 mt-[2px]",src:yr,alt:""}))),u.createElement(bR,{selectedItems:n,filteredData:f,handleRemoveItem:zt,handleItemHover:Ct}))),u.createElement("div",{className:"flex flex-col"},u.createElement("div",{className:"mt-4"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Alert Type:"),u.createElement("select",{className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                focus:outline-none focus:ring focus:border-blue-300`,value:k,onChange:st},u.createElement("option",{value:""},"Select alert type"),u.createElement("option",{value:"weather"},"Weather"),u.createElement("option",{value:"announcement"},"Announcement"))),u.createElement("div",{className:"mt-4"},u.createElement("div",{className:"flex items-center space-x-4 mb-4"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Message:"),u.createElement("button",{onClick:W=>N(),className:`bg-white text-green-500 border-[1px]  border-green-400 hover:bg-green-500\r
                     flex hover:text-white font-sm py-1 pl-8 pr-2  rounded-3xl shadow-md shadow-green-500/40\r
                     transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[13px] mt-[2px] "},"GENERATE WEATHER MESSAGE"),u.createElement("img",{className:"w-5 ml-4 mt-[2px]",src:yr,alt:""}))),u.createElement("textarea",{className:`w-full h-32 border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,value:y,onChange:b,required:!0}),u.createElement("div",{className:"text-right text-sm"},"Character Count: ",y.length,"/300"))),u.createElement("div",{className:"flex flex-col justify-center mt-4 ml-2"},u.createElement("button",{onClick:ie,className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[3px] ml-44"},"SEND MESSAGE"),u.createElement("img",{className:"w-6 ml-36",src:yr,alt:""}))))),u.createElement(PR,{isOpen:s,toggleModal:R,selectedItems:n,filteredData:f,handleSelectAllChange:rn,handleCheckboxChange:Nt,searchQuery:o,setSearchQuery:a,handleItemHover:Ct,handleItemLeave:rr}),L&&u.createElement(rm,{message:"Alert Created Succesfully",onClose:()=>{F(!1)}}),$&&u.createElement(fE,{message:"Please fill in all required fields.",onClose:()=>{re(!1)}}))}function LR(){return u.createElement("div",{className:"bg-bglines  absolute right-0 w-5/6 h-screen"},u.createElement(FR,null))}const ao=Ms($s);let aa=101;const MR=async(t,e,n,r,s,i)=>{try{let o=String(aa);const a=nr(ao,"Farmer"),l=_l(a,El("farmer_id","==",o));let c=await en(l);for(;c.size>0;)aa++,o=String(aa),c=await en(_l(a,El("farmer_id","==",o)));let h;r==="male"?h=1:r==="female"?h=2:h=3;const d=Nr(ao,"Farmer",o);return await ko(d,{farmer_id:o,farmer_profile:h,first_name:t,last_name:e,birthdate:n,gender:r,contact_number:s,farmer_address:i}),aa++,o}catch(o){return console.error("Error adding farmer: ",o),null}},$R=async(t,e)=>{try{if(!t)throw new Error("Invalid farmer ID");console.log("Updating Farmer with ID:",t);const n=Nr(ao,"Farmer",t);await ko(n,e),console.log(`Successfully updated farmer with ID: ${t}`)}catch(n){throw console.error("Error updating farmer: ",n),n}},UR=async t=>{try{const e=Nr(ao,"Farmer",t);await TC(e),console.log(`Successfully deleted farmer with ID: ${t}`)}catch(e){throw console.error("Error deleting farmer: ",e),e}},la=async()=>{const t=nr(ao,"Farmer"),e=await en(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n},zR=({onClose:t,farmerData:e,farmerId:n})=>{const r=e.find(s=>s.farmer_id===n);return r?u.createElement("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75"},u.createElement("div",{className:"w-1/3 rounded-tl-3xl rounded-tr-3xl rounded-bl-3xl rounded-br-3xl shadow-xl "},u.createElement("div",{className:`bg-no-repeat bg-cover bg-farmer-preview\r
        rounded-tl-3xl rounded-tr-3xl h-28 px-8 flex items-center`},u.createElement("img",{className:"w-16 h-16 object-cover rounded-full",src:nm(r.farmer_profile),alt:r.farmer_profile}),u.createElement("div",{className:"flex"},u.createElement("div",{className:"flex flex-col items-center"},u.createElement("p",{className:"ml-4 text-2xl font-semibold"},`${r.first_name} ${r.last_name}`),u.createElement("div",{className:"bg-gradient-to-t from-slate-900 via-slate-900 to-slate-800 text-white rounded-lg px-2"},u.createElement("p",{className:"text-[14px] font-semibold"},"Farmer"))))),u.createElement("div",{className:"bg-white px-8 pt-4 pb-4 rounded-bl-3xl rounded-br-3xl "},u.createElement("h2",{className:"text-[16px] font-bold text-gray-500"},"INFORMATION"),u.createElement("div",{className:"text-[18px] font-semibold "},u.createElement("table",{className:"w-full h-80 mt-2"},u.createElement("tbody",null,u.createElement("tr",null,u.createElement("td",{className:"w-1/2 text-[16px] text-gray-500"},"Farmer ID"),u.createElement("td",{className:"w-1/2"},n)),u.createElement("tr",null,u.createElement("td",{className:"w-1/2 text-[16px] text-gray-500"},"First Name"),u.createElement("td",{className:"w-1/2"},r.first_name)),u.createElement("tr",null,u.createElement("td",{className:"w-1/2 text-[16px] text-gray-500"},"Last Name"),u.createElement("td",{className:"w-1/2"},r.last_name)),u.createElement("tr",null,u.createElement("td",{className:"w-1/2 text-[16px] text-gray-500"},"Birthdate"),u.createElement("td",{className:"w-1/2"},r.birthdate)),u.createElement("tr",null,u.createElement("td",{className:"w-1/2 text-[16px] text-gray-500"},"Gender"),u.createElement("td",{className:"w-1/2"},r.gender)),u.createElement("tr",null,u.createElement("td",{className:"w-1/2 text-[16px] text-gray-500"},"Contact Number"),u.createElement("td",{className:"w-1/2"},r.contact_number)),u.createElement("tr",null,u.createElement("td",{className:"w-1/2 text-[16px] text-gray-500"},"Address"),u.createElement("td",{className:"w-1/2"},r.farmer_address))))),u.createElement("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4"},"Close")))):u.createElement("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-75"},u.createElement("div",{className:"bg-white p-8 rounded-lg shadow-lg"},u.createElement("p",{className:"text-xl font-semibold text-red-600"},"Selected farmer not found."),u.createElement("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4"},"Close")))},BR="/assets/update-1547bb00.png",sm="/assets/cancel-536cbdc3.png",jR=({selectedFarmer:t,onSubmit:e,onClose:n})=>{const[r,s]=E.useState({farmer_id:t.farmer_id,farmer_profile:1,first_name:t.first_name,last_name:t.last_name,birthdate:t.birthdate,gender:t.gender,contact_number:t.contact_number,farmer_address:t.farmer_address});E.useEffect(()=>{r.gender==="male"?s(l=>({...l,farmer_profile:1})):r.gender==="female"?s(l=>({...l,farmer_profile:2})):s(l=>({...l,farmer_profile:3}))},[r.gender]);const i=l=>{const{name:c,value:h}=l.target;if(c==="first_name"||c==="last_name"){const d=h.charAt(0).toUpperCase()+h.slice(1);s(f=>({...f,[c]:d}))}else if(c==="contact_number"){const d=h.replace(/\D/g,"").slice(0,11);s(f=>({...f,[c]:d}))}else s(d=>({...d,[c]:h}))},o=async l=>{if(l.preventDefault(),r.first_name.trim()===""||r.last_name.trim()===""||r.birthdate.trim()===""||r.gender.trim()===""||r.contact_number.trim()===""||r.farmer_address.trim()===""){console.error("All fields are required.");return}try{await $R(t.farmer_id,r),console.log("Farmer data updated successfully."),e()}catch(c){console.error("Error updating farmer data: ",c)}},a=()=>{n()};return u.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50"},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{className:"modal-container bg-white  w-96 mx-auto rounded-3xl shadow-lg z-50 p-6"},u.createElement("div",{className:"modal-content "},u.createElement("div",{className:"flex justify-center"},u.createElement("div",{className:"w-12"},u.createElement("img",{src:BR,alt:""})),u.createElement("span",{className:"text-center text-xl font-medium mt-3 ml-2"},"Update Farmer Data")),u.createElement("div",{className:"mt-4"},u.createElement("form",{onSubmit:o},u.createElement("div",{className:"flex space-x-4"},u.createElement("div",null,u.createElement("label",{className:"text-sm font-semibold text-black"},"First Name:"),u.createElement("input",{type:"text",name:"first_name",value:r.first_name,onChange:i,className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0})),u.createElement("div",null,u.createElement("label",{className:"text-sm font-semibold text-black"},"Last Name:"),u.createElement("input",{type:"text",name:"last_name",value:r.last_name,onChange:i,className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0}))),u.createElement("div",{className:"flex space-x-4 mt-4"},u.createElement("div",null,u.createElement("label",{className:"text-sm font-semibold text-black"},"Birthdate:"),u.createElement("input",{type:"date",name:"birthdate",value:r.birthdate,onChange:i,className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0})),u.createElement("div",null,u.createElement("label",{className:"text-sm font-semibold text-black"},"Gender:"),u.createElement("select",{name:"gender",value:r.gender,onChange:i,className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0},u.createElement("option",{value:"male"},"Male"),u.createElement("option",{value:"female"},"Female")))),u.createElement("div",{className:"flex flex-col"},u.createElement("div",{className:"mt-4"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Contact Number:"),u.createElement("input",{type:"text",name:"contact_number",value:r.contact_number,onChange:i,className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0})),u.createElement("div",{className:"mt-4"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Farmer Address:"),u.createElement("textarea",{name:"farmer_address",value:r.farmer_address,onChange:i,className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0}))),u.createElement("div",{className:"flex flex-col justify-center mt-4 ml-2"},u.createElement("button",{type:"submit",className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px] ml-28"},"UPDATE"),u.createElement("img",{className:"w-5 mt-[1.5px] ml-24",src:fn,alt:""})),u.createElement("button",{type:"button",onClick:a,className:` text-white border-[1px]  border-red-400 bg-red-500 mt-2\r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px] ml-28"},"CANCEL"),u.createElement("img",{className:"w-5 mt-[1.5px] ml-24",src:sm,alt:""}))))))))},HR="/assets/delete-9ed09993.png",qR=({onSubmit:t,onClose:e})=>{const[n,r]=E.useState(""),[s,i]=E.useState(""),[o,a]=E.useState(""),[l,c]=E.useState(""),[h,d]=E.useState(""),[f,g]=E.useState(""),y=async p=>{if(p.preventDefault(),h.length!==11){alert("Contact number must be 11 characters long.");return}try{const m=await MR(n,s,o,l,h,f);m?(console.log(`Farmer added with ID: ${m}`),r(""),i(""),a(""),c(""),d(""),g(""),t()):console.error("Error adding farmer.")}catch(m){console.error("Error adding farmer: ",m)}},_=p=>p.charAt(0).toUpperCase()+p.slice(1),x=()=>{e()};return u.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50"},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{className:"modal-container bg-white  w-96 mx-auto rounded-3xl shadow-lg z-50 p-6"},u.createElement("div",{className:"modal-content "},u.createElement("div",{className:"flex justify-center"},u.createElement("div",{className:"w-12"},u.createElement("img",{src:Vo,alt:""})),u.createElement("span",{className:"text-center text-xl font-medium mt-3 ml-2"},"Add Farmer Data")),u.createElement("div",{className:"mt-4"},u.createElement("form",{onSubmit:y},u.createElement("div",{className:"flex space-x-4"},u.createElement("div",null,u.createElement("label",{className:"text-sm font-semibold text-black"},"First Name:"),u.createElement("input",{type:"text",name:"first_name",value:n,onChange:p=>r(_(p.target.value)),className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0})),u.createElement("div",null,u.createElement("label",{className:"text-sm font-semibold text-black"},"Last Name:"),u.createElement("input",{type:"text",name:"last_name",value:s,onChange:p=>i(_(p.target.value)),className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0}))),u.createElement("div",{className:"flex space-x-4 mt-4"},u.createElement("div",null,u.createElement("label",{className:"text-sm font-semibold text-black"},"Birthdate:"),u.createElement("input",{type:"date",name:"birthdate",value:o,onChange:p=>a(p.target.value),className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0})),u.createElement("div",null,u.createElement("label",{className:"text-sm font-semibold text-black"},"Gender:"),u.createElement("select",{name:"gender",value:l,onChange:p=>c(p.target.value),className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0},u.createElement("option",{value:""},"Select Gender")," ",u.createElement("option",{value:"male"},"Male"),u.createElement("option",{value:"female"},"Female"),u.createElement("option",{value:"other"},"Other")))),u.createElement("div",{className:"flex flex-col"},u.createElement("div",{className:"mt-4"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Contact Number:"),u.createElement("input",{type:"text",name:"contact_number",value:h,onChange:p=>{const m=p.target.value.replace(/\D/g,"");d(m.slice(0,11))},className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0})),u.createElement("div",{className:"mt-4"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Farmer Address:"),u.createElement("textarea",{name:"farmer_address",value:f,onChange:p=>g(p.target.value),className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0}))),u.createElement("div",{className:"flex flex-col justify-center mt-4 ml-2"},u.createElement("button",{type:"submit",className:`bg-white text-green-500 border-[1px]  border-green-400 hover:bg-green-500 \r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-green-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px] ml-24"},"ADD_FARMER"),u.createElement("img",{className:"w-5 mt-[1.5px] ml-[70px]",src:yr,alt:""})),u.createElement("button",{type:"button",onClick:x,className:` text-white border-[1px]  border-red-400 bg-red-500 mt-2\r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px] ml-28"},"CANCEL"),u.createElement("img",{className:"w-5 mt-[1.5px] ml-24",src:sm,alt:""}))))))))},WR="/assets/warning-01e6b67b.png",KR=({message:t,onYes:e,onNo:n})=>{const r=E.useRef(null);return E.useEffect(()=>{const{current:s}=r;if(s)return s.classList.add("scale-100"),()=>{s.classList.remove("scale-100")}},[]),u.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50"},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{ref:r,className:`modal-container bg-white w-96 mx-auto rounded-3xl z-50 border-2\r
       border-yellow-500 shadow-2xl shadow-yellow-500/40 transform scale-0 transition-transform duration-300`},u.createElement("div",{className:"bg-white rounded-3xl shadow-lg p-6"},u.createElement("div",{className:"flex flex-col justify-center items-center"},u.createElement("img",{className:"w-48",src:WR,alt:""}),u.createElement("label",{className:"text-[27px] font-bold my-3"},"Warning (  )")),u.createElement("div",{className:"mt-1 text-center"},u.createElement("p",{className:"text-[16px]"},t)),u.createElement("div",{className:"flex flex-row justify-center items-center mt-4 space-x-2"},u.createElement("button",{onClick:e,className:`bg-white w-32 text-red-500 border-[1px]  border-red-400 hover:bg-red-500 \r
                        flex hover:text-white font-sm py-2 rounded-3xl  shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105 justify-center`},u.createElement("span",{className:"font-semibold text-[14px]"},"YES")),u.createElement("button",{onClick:n,className:`bg-white w-32 text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-2 rounded-3xl  shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105 justify-center`},u.createElement("span",{className:"font-semibold text-[14px]"},"NO"))))))},QR=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(""),[s,i]=E.useState([]),[o,a]=E.useState(!1),[l,c]=E.useState(null),[h,d]=E.useState(!1),[f,g]=E.useState(!1),[y,_]=E.useState(!1),[x,p]=E.useState(!1),[m,v]=E.useState(1),w=10,C=(m-1)*w,k=C+w;E.useEffect(()=>{(async()=>{try{const U=await la();e(U),i(U)}catch(U){console.error("Error fetching data:",U)}})()},[]);const D=()=>{m<Math.ceil(s.length/w)&&v(m+1)},L=()=>{m>1&&v(m-1)},F=()=>{const N=Math.ceil(s.length/w);return Array.from({length:N},(U,ie)=>ie+1)},$=N=>{const U=new Date(N);return new Date().getFullYear()-U.getFullYear()},re=(N,U)=>{d(!0)},st=async()=>{d(!1);const N=await la();e(N),i(N)},Nt=(N,U)=>{U.stopPropagation(),c(N),g(!0)},Ct=async()=>{g(!1),c(null);const N=await la();e(N),i(N)},rr=async(N,U)=>{U.stopPropagation(),c(N),p(!0)},zt=async N=>{try{await UR(N);const U=await la();e(U),i(U)}catch(U){console.error("Error deleting farmer:",U)}},rn=N=>{const U=N.target.value.toLowerCase();r(U);const ie=t.filter(W=>`${W.first_name} ${W.last_name}`.toLowerCase().includes(U));i(ie)},b=N=>{c(N),a(!0)},R=()=>{a(!1)};return u.createElement("div",{className:"mx-8 py-6 "},u.createElement("div",{className:" flex justify-between items-center"},u.createElement("div",{className:"flex flex-row "},u.createElement("input",{type:"text",placeholder:"Search by Full Name",className:"border rounded-lg py-2 px-3 w-64 focus:outline-none focus:ring focus:border-blue-300",value:n,onChange:rn}),u.createElement("button",{onClick:N=>re(),className:`bg-white text-green-500 border-[1px]  border-green-400 hover:bg-green-500 ml-8\r
                        flex hover:text-white font-sm py-1 pl-8 pr-2  rounded-3xl shadow-md shadow-green-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[6.5px]"},"ADD NEW FARMER")," ",u.createElement("img",{className:"w-6 ml-4 mt-[4px]",src:yr,alt:""}))),u.createElement("div",{class:"flex justify-center scale-90 space-x-1"},u.createElement("button",{class:"px-2  border rounded-lg bg-white",onClick:L,disabled:m===1},u.createElement(zd,null)),F().map(N=>u.createElement("button",{key:N,class:`px-4 py-2 rounded-xl ${m===N?"bg-blue-500 text-white":"bg-white"} border`,onClick:()=>v(N)},N)),u.createElement("button",{class:"px-2 border rounded-lg bg-white",onClick:D,disabled:m===Math.ceil(s.length/w)},u.createElement(Bd,null)))),u.createElement("div",{className:"mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto "},u.createElement("div",{className:"inline-block min-w-full shadow rounded-xl overflow-hidden"},u.createElement("table",{className:"min-w-full leading-normal bg-white"},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Profile"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Full Name"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Age"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Contact Number"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Action"))),u.createElement("tbody",null,s.slice(C,k).map(N=>u.createElement("tr",{key:N.farmer_id,className:"hover:bg-gray-200 cursor-pointer",onClick:()=>b(N)},u.createElement("td",{className:"flex justify-center py-3"},u.createElement("img",{className:"w-12 h-12 rounded-full",src:nm(N.farmer_profile),alt:N.farmer_profile})),u.createElement("td",{className:"text-center"},`${N.first_name} ${N.last_name}`),u.createElement("td",{className:"text-center"},$(N.birthdate)),u.createElement("td",{className:"text-center"},N.contact_number),u.createElement("td",{className:"text-center py-4 px-6"},u.createElement("div",{className:"flex flex-row justify-center"},u.createElement("button",{onClick:U=>Nt(N,U),className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-1 pl-6 pr-2  rounded-3xl mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px]"},"UPDATE")," ",u.createElement("img",{className:"w-5 ml-2 mt-[1.5px]",src:fn,alt:""})),u.createElement("button",{onClick:U=>rr(N,U),className:`bg-white text-red-500 border-[1px]  border-red-400 hover:bg-red-500 \r
                        flex hover:text-white font-sm py-1 pl-6 pr-2  rounded-3xl mr-2 shadow-md shadow-red-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px]"},"DELETE")," ",u.createElement("img",{className:"w-5 ml-2 mt-[1.5px]",src:HR,alt:""})))))))))),o&&u.createElement(zR,{selectedFarmer:l,onClose:R,farmerData:t,farmerId:l==null?void 0:l.farmer_id}),h&&u.createElement(qR,{onSubmit:()=>{st(),_(!0)},onClose:()=>{st()}}),f&&u.createElement(jR,{selectedFarmer:l,onSubmit:N=>{console.log("Updated Farmer Data:",N),Ct(),_(!0)},onClose:Ct}),y&&u.createElement(rm,{message:"",onClose:()=>{_(!1)}}),x&&u.createElement(KR,{message:"Are you sure you want to delete this farmer?",onYes:()=>{p(!1),zt(l==null?void 0:l.farmer_id),_(!0)},onNo:()=>{p(!1)}}))};function GR(){return u.createElement("div",{className:"absolute right-0 bg-bglines  w-5/6 h-[100vh"},u.createElement(QR,null))}const qh=Ms($s);let Wh=[],fc=10001;function YR(t,e){return(Math.random()*(e-t)+t).toFixed(3)}function XR(t,e,n){return((t-e)/(n-e)*4+1).toFixed(3)}function JR(t){let e=0;for(const r of t)e+=parseFloat(r.score);return(t.length>0?e/t.length:0).toFixed(1)}async function ZR(){try{const t=await fetch("../../../src/res/json/nutrients.json");if(!t.ok)throw new Error("Failed to fetch nutrientsData");Wh=await t.json()}catch(t){console.error("Error fetching nutrientsData: ",t)}}ZR();const eP=async(t,e)=>{const n=[];if(!Array.isArray(Wh))return console.error("nutrientsData is not an array"),!1;try{let r=String(fc);const s=nr(qh,"Soil"),i=_l(s,El("fland_id","==",r));let o=await en(i);for(;o.size>0;)fc++,r=String(fc),o=await en(_l(s,El("fland_id","==",r)));for(const c of Wh){const h=YR(c.op_r_min,c.op_r_max),d=XR(h,c.op_r_min,c.op_r_max);n.push({n_id:c.n_id,name:c.name,function:c.function,op_r_min:c.op_r_min,op_r_max:c.op_r_max,concentration:h,score:d})}const a=JR(n),l=Nr(qh,"Soil",r);return await ko(l,{fland_id:r,nutrient:n,fland_name:t,fland_location:e,soil_quality:a,soil_test_date:Gf()}),console.log(a),!0}catch(r){return console.error("Error adding nutrients: ",r),!1}},Ug=async()=>{const t=nr(qh,"Soil"),e=await en(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n};function tP({nutrientData:t,soilLandName:e,soilTestDate:n,onClose:r}){return u.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50"},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{className:"modal-container bg-white mx-auto rounded-3xl shadow-lg z-50 p-6"},u.createElement("div",{className:"modal-content "},u.createElement("div",{className:"flex justify-left mx-4"},u.createElement("div",{className:"w-12"},u.createElement("img",{src:Vo,alt:""})),u.createElement("span",{className:"text-center text-xl font-medium mt-3 ml-2"},"Nutrient Details"),u.createElement("div",{className:"ml-80"},u.createElement("button",{onClick:r,className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 ml-8\r
               flex hover:text-white font-sm py-1 pl-20  rounded-3xl shadow-md shadow-blue-500/40 w-56\r
               transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[3.5px]"},"CLOSE")," ",u.createElement("img",{className:"w-7 ml-12 ",src:fn,alt:""})))),u.createElement("div",{className:"flex space-x-16 mt-3 mb-4 mx-4 "},u.createElement("div",{className:"flex items-center"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Land Name: "),u.createElement("div",{className:`text-black border-[1px] border-[#AAFF00] bg-[#AAFF00] \r
               hover:text-white rounded-3xl shadow-md shadow-[#AAFF00]\r
               transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mx-4"},e))),u.createElement("div",{className:"flex items-center"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Soil Test Date:  "),u.createElement("div",{className:`text-black border-[1px] border-[#AAFF00] bg-[#AAFF00] \r
               hover:text-white rounded-3xl shadow-md shadow-[#AAFF00]\r
               transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mx-4"},n)))),u.createElement("div",{className:"mx-4"},u.createElement("div",{className:"inline-block min-w-full shadow rounded-3xl overflow-hidden"},u.createElement("table",{className:"min-w-full border-2  leading-normal bg-white"},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Name"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Function"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Concentration"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Score"))),u.createElement("tbody",null,t.map(s=>u.createElement("tr",{key:s.n_id,className:"hover:bg-gray-200 cursor-pointer"},u.createElement("td",{className:"text-center py-2"}," ",s.name),u.createElement("td",{className:"text-center py-2"},s.function),u.createElement("td",{className:"text-center py-2"},s.concentration),u.createElement("td",{className:"text-center py-2 text-red-500"},parseFloat(s.score).toFixed(1)))))))))))}function nP({onClose:t}){const[e,n]=E.useState(""),[r,s]=E.useState(""),i=async a=>{a.preventDefault(),await eP(e,r)?(alert("Nutrients added successfully."),n(""),s(""),t()):alert("Failed to add nutrients. Please try again.")},o=()=>{t()};return u.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50"},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{className:"modal-container bg-white  w-96 mx-auto rounded-3xl shadow-lg z-50 p-6"},u.createElement("div",{className:"modal-content "},u.createElement("div",{className:"flex justify-center"},u.createElement("div",{className:"w-12"},u.createElement("img",{src:Vo,alt:""})),u.createElement("span",{className:"text-center text-xl font-medium mt-3 ml-2"},"Add Farmer Data")),u.createElement("div",{className:"mt-4"},u.createElement("form",{onSubmit:i},u.createElement("div",{className:"flex flex-col"},u.createElement("div",{className:"mt-4"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Fland Name:"),u.createElement("input",{type:"text",value:e,onChange:a=>n(a.target.value),className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0})),u.createElement("div",{className:"mt-4"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Fland Location:"),u.createElement("input",{type:"text",value:r,onChange:a=>s(a.target.value),className:`w-full border rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0}))),u.createElement("div",{className:"flex flex-col justify-center mt-4 ml-2"},u.createElement("button",{type:"submit",className:`bg-white text-green-500 border-[1px]  border-green-400 hover:bg-green-500 \r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-green-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px] ml-24"},"ADD_FARMER"),u.createElement("img",{className:"w-5 mt-[1.5px] ml-[70px]",src:yr,alt:""})),u.createElement("button",{type:"button",onClick:o,className:` text-white border-[1px]  border-red-400 bg-red-500 mt-2\r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px] ml-28"},"CANCEL"),u.createElement("img",{className:"w-5 mt-[1.5px] ml-24",src:sm,alt:""}))))))))}function rP(){const[t,e]=E.useState([]),[n,r]=E.useState(null),[s,i]=E.useState(null),[o,a]=E.useState(null),[l,c]=E.useState(!1),[h,d]=E.useState(""),[f,g]=E.useState(""),[y,_]=E.useState(""),[x,p]=E.useState(1),m=10;E.useEffect(()=>{async function R(){const N=await Ug();e(N)}R()},[]);const v=()=>{x>1&&p(x-1)},w=()=>{const R=Math.ceil(F.length/m);x<R&&p(x+1)},C=()=>{const R=Math.ceil(F.length/m);return Array.from({length:R},(N,U)=>U+1)},k=R=>{d(R.target.value)},D=R=>{g(R.target.value)},L=R=>{_(R.target.value)},F=t.filter(R=>{const N=R.fland_name.toLowerCase().includes(h.toLowerCase()),U=(!f||new Date(R.soil_test_date.toDate()).setHours(0,0,0,0)>=new Date(f).setHours(0,0,0,0))&&(!y||new Date(R.soil_test_date.toDate()).setHours(23,59,59,999)<=new Date(y+"T23:59:59.999Z"));return N&&U});F.sort((R,N)=>f||y||h?R.soil_test_date.toDate()-N.soil_test_date.toDate():N.soil_test_date.toDate()-R.soil_test_date.toDate());const $=()=>{g(""),_(""),d("")},re=(R,N,U)=>{r(R),i(N),a(U)},st=()=>{r(null),i(null),a(null)},Nt=()=>{c(!0)},Ct=async()=>{c(!1);const R=await Ug();e(R)},rr=Math.ceil(F.length/m),zt=(x-1)*m,rn=zt+m,b=F.slice(zt,rn);return u.createElement("div",{className:"mx-8 py-6"},u.createElement("div",{className:"flex justify-between items-center"},u.createElement("div",{className:"flex flex-row"},u.createElement("input",{type:"text",placeholder:"Search by Land Name",className:"border rounded-lg py-2 px-3 w-64 focus:outline-none focus:ring focus:border-blue-300",value:h,onChange:k}),u.createElement("button",{onClick:Nt,className:`bg-white text-green-500 border-[1px]  border-green-400 hover:bg-green-500 ml-8\r
                          flex hover:text-white font-sm py-1 pl-8 pr-2  rounded-3xl shadow-md shadow-green-500/40\r
                          transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[6.5px]"},"ADD SOIL DATA")," ",u.createElement("img",{className:"w-6 ml-4 mt-[4px]",src:yr,alt:""}))),u.createElement("div",{className:"flex justify-center space-x-1"},u.createElement("button",{className:"px-2 border rounded-lg bg-white",onClick:v,disabled:x===1},u.createElement(zd,null)),C().map(R=>u.createElement("button",{key:R,className:`px-4 py-2 rounded-xl ${x===R?"bg-blue-500 text-white":"bg-white"} border`,onClick:()=>p(R)},R)),u.createElement("button",{className:"px-2 border rounded-lg bg-white",onClick:w,disabled:x===rr},u.createElement(Bd,null)))),u.createElement("div",{className:"flex flex-row space-x-6 mt-4"},u.createElement("div",{className:"space-x-2"},u.createElement("label",{className:"text-sm font-semibold text-black"},"From Date:"),u.createElement("input",{type:"date",placeholder:"From Date",className:"border rounded-lg py-2 px-3 w-40 focus:outline-none focus:ring focus:border-blue-300",value:f,onChange:D})),u.createElement("div",{className:"space-x-2"},u.createElement("label",{className:"text-sm font-semibold text-black"},"To Date:"),u.createElement("input",{type:"date",placeholder:"To Date",className:"border rounded-lg py-2 px-3 w-40 focus:outline-none focus:ring focus:border-blue-300",value:y,onChange:L})),u.createElement("div",null,u.createElement("button",{onClick:$,className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 ml-8\r
                          flex hover:text-white font-sm py-1 pl-8 pr-2  rounded-3xl shadow-md shadow-blue-500/40\r
                          transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[3.5px]"},"Clear Filters")," ",u.createElement("img",{className:"w-6 ml-4 mt-[2.4px]",src:fn,alt:""})))),u.createElement("div",{className:"mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},u.createElement("div",{className:"inline-block min-w-full shadow rounded-xl overflow-hidden"},u.createElement("table",{className:"min-w-full leading-normal bg-white"},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Land Name"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Location"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Soil Quality"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Soil Test Date"),u.createElement("th",{className:"py-3 px-6 text-center bg-[#AAFF00] text-[#333333] font-semibold uppercase tracking-wider"},"Nutrient"))),u.createElement("tbody",{className:"divide-y divide-gray-100"},b.map(R=>u.createElement("tr",{className:"hover:bg-gray-200 cursor-pointer",key:R.id},u.createElement("td",{className:"text-center py-2"},R.fland_name),u.createElement("td",{className:"text-center py-2"},R.fland_location),u.createElement("td",{className:"text-center py-2"},R.soil_quality),u.createElement("td",{className:"text-center py-2"},R.soil_test_date.toDate().toLocaleDateString()),u.createElement("td",{className:"text-center py-2"},u.createElement("button",{onClick:()=>re(R.nutrient,R.fland_name,R.soil_test_date.toDate().toLocaleDateString()),className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-1 pl-6 pr-2  rounded-3xl mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px]"},"VIEW")," ",u.createElement("img",{className:"w-5 ml-2 mt-[1.5px]",src:fn,alt:""})))))))),n&&u.createElement(tP,{nutrientData:n,soilLandName:s,soilTestDate:o,onClose:st}),l&&u.createElement(nP,{onSubmit:R=>{console.log("Updated Farmer Data:",R),Ct()},onClose:Ct})))}const mc=[{nutrient_name:"Nitrogen",nutrient_info:"Nitrogen is an essential macronutrient for plant function and is a key component of amino acids, which form the building blocks of plant proteins and enzymes.",soilNCode:1},{nutrient_name:"Phosphorus",nutrient_info:"Phosphorus is an essential nutrient for plants. It plays a critical role in cell development and is a key component of molecules that store energy. Insufficient phosphorus in the soil can result in a decreased crop yield.",soilNCode:2},{nutrient_name:"Potassium",nutrient_info:"Potassium also helps regulate the opening and closing of the stomata. If it is deficient or not supplied in adequate amounts, it stunts plant growth and reduces yield.",soilNCode:3},{nutrient_name:"Calcium",nutrient_info:"Calcium is an essential plant nutrient. It is required for structural roles in the cell wall and membranes, as a countercation for inorganic and organic anions in the vacuole, and as an intracellular messenger in the cytosol",soilNCode:4},{nutrient_name:"Magnesium",nutrient_info:"Magnesium fulfills several functions within the plant. It is a central component of chlorophyll which is supporting the function to absorb sunlight during photosynthesis.",soilNCode:5},{nutrient_name:"Sulphur",nutrient_info:"Sulphur is essential for many growth functions in plants. Sulphur-deficient plants have short and/or spindly stems and yellowing of the young (top) leaves. With nitrogen deficiency, yellowing affects the older, lower leaves first.",soilNCode:6},{nutrient_name:"Iron",nutrient_info:"Iron is involved in the synthesis of chlorophyll, and it is essential for the maintenance of chloroplast structure and function.",soilNCode:7},{nutrient_name:"Manganese",nutrient_info:"Manganese is an important micronutrient for plant growth and development and sustains metabolic roles within different plant cell compartments.",soilNCode:8},{nutrient_name:"Zinc",nutrient_info:"Zinc is required for the metabolism of plants, enzyme function, and ion transport. Inadequate Zn availability in soil is a main consideration for plant nutrition, resulting in a significant loss in production and grain nutrient content.",soilNCode:9},{nutrient_name:"Copper",nutrient_info:"Copper is required for many enzymatic activities in plants and for chlorophyll and seed production. Deficiency of copper can lead to increased susceptibility to diseases like ergot, which can cause significant yield loss in small grains.",soilNCode:10},{nutrient_name:"Boron",nutrient_info:"Boron is related to cell wall development and resistance, cell division, fruit and seed development, sugar transport and hormone development.",soilNCode:11},{nutrient_name:"Molybdenum",nutrient_info:"Molybdenum primarily used in the production of molybdoenzymes that regulate various plant functions. It regulate nitrogen nutrition. In non-legumes, Mo-enzymes regulate the conversion of nitrate into proteins.",soilNCode:12}],sP="/assets/nitrogen-687cc895.png",iP="/assets/boron-f8ac7024.png",oP="/assets/calcium-6364b2eb.png",aP="/assets/copper-2a707d16.png",lP="/assets/iron-c4475f68.png",uP="/assets/magnesium-07b7b815.png",cP="/assets/manganese-0bd75998.png",hP="/assets/molybdenum-8bd9c95b.png",dP="/assets/phosphorus-0097037f.png",fP="/assets/potassium-42bee7f4.png",mP="/assets/sulfur-22d181eb.png",pP="/assets/zinc-fc218158.png";function gP(t){return{1:sP,2:dP,3:fP,4:oP,5:uP,6:mP,7:lP,8:cP,9:pP,10:aP,11:iP,12:hP}[t]}function yP(){const[t,e]=E.useState(0),n=()=>{e(i=>i===0?mc.length-1:i-1)},r=()=>{e(i=>i===mc.length-1?0:i+1)},s=mc[t];return u.createElement("div",{className:"mt-4"},u.createElement("div",{className:"flex items-center justify-center"},u.createElement("div",{className:"bg-gray-200 w-80 h-80 rounded-full"},u.createElement("img",{className:"w-80 rounded-full",src:gP(s.soilNCode),alt:s.nutrient_name}))),u.createElement("div",{className:"px-4"},u.createElement("div",{className:"mt-8"},u.createElement("h2",{className:"text-2xl font-bold"},s.nutrient_name)),u.createElement("div",{className:"mt-2 "},u.createElement("div",{className:"h-48"},u.createElement("p",{className:"text-lg"},s.nutrient_info)))),u.createElement("div",{className:"mt-6 flex space-x-3 justify-center"},u.createElement("button",{onClick:n,className:"bg-white py-2 px-4 rounded-lg border border-black"},u.createElement(zd,null)),u.createElement("div",{className:"bg-black text-white py-2 px-4 rounded-lg"},"Nutrients"),u.createElement("button",{onClick:r,className:"bg-white py-2 px-4 rounded-lg border border-black"},u.createElement(Bd,null))))}function vP(){return u.createElement("div",{className:"absolute right-0 w-5/6 h-screen"},u.createElement("div",{className:"flex"},u.createElement("div",{className:"bg-bglines h-screen w-4/6"},u.createElement(rP,null)),u.createElement("div",{className:"bg-white h-screen w-2/6 p-4"},u.createElement(yP,null))))}const _P={width:"calc(33.33% - 20px)",marginRight:"20px"};function EP(){const[t,e]=E.useState([]),[n,r]=E.useState("all"),[s,i]=E.useState(""),[o,a]=E.useState(""),[l,c]=E.useState(!1),[h,d]=E.useState({}),[f,g]=E.useState("latest");E.useEffect(()=>{(async()=>{const $=await RR();e($)})()},[]);const y=F=>{const $={year:"numeric",month:"long",day:"numeric"};return new Date(F.seconds*1e3+F.nanoseconds/1e6).toLocaleDateString("en-US",$)},_=F=>{r(F.target.value)},x=F=>{i(F.target.value)},p=F=>{a(F.target.value)},m=()=>{i(""),a(""),r("all")},v=()=>{g(f==="latest"?"oldest":"latest")},w=t.sort((F,$)=>f==="latest"?$.created_at.toDate()-F.created_at.toDate():F.created_at.toDate()-$.created_at.toDate()),C=F=>{d(F),c(!0)},k=()=>{c(!1)},D=w.filter(F=>(n==="all"||F.alert_type===n)&&(!s||new Date(F.created_at.toDate())>=new Date(s))&&(!o||new Date(F.created_at.toDate())<=new Date(`${o}T23:59:59.999Z`))),L=[];for(let F=0;F<D.length;F+=3){const $=D.slice(F,F+3);L.push($)}return u.createElement("div",{className:"mx-8 py-6 "},u.createElement("div",{className:"mb-4"},u.createElement("span",{className:"text-3xl font-bold"},"DASHBOARD")),u.createElement("div",{className:"flex flex-col"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Filters:"),u.createElement("div",{className:"w-full flex flex-row space-x-2 py-3 justify-center rounded-3xl"},u.createElement("div",{className:"space-x-2 mr-8"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Filter by Alert Type:"),u.createElement("select",{className:`border rounded-lg py-2 px-3 w-48\r
          focus:outline-none focus:ring focus:border-blue-300`,value:n,onChange:_},u.createElement("option",{value:"all"},"Select alert type"),u.createElement("option",{value:"weather"},"Weather"),u.createElement("option",{value:"announcement"},"Announcement"))),u.createElement("div",{className:"space-x-2"},u.createElement("label",{className:"text-sm font-semibold text-black"},"From Date:"),u.createElement("input",{type:"date",value:s,onChange:x,placeholder:"From Date",className:"border rounded-lg py-2 px-3 w-40 focus:outline-none focus:ring focus:border-blue-300"})),u.createElement("div",{className:"space-x-2"},u.createElement("label",{className:"text-sm font-semibold text-black"},"To Date:"),u.createElement("input",{value:o,onChange:p,type:"date",placeholder:"To Date",className:"border rounded-lg py-2 px-3 w-40 focus:outline-none focus:ring focus:border-blue-300"})),u.createElement("div",{className:"flex flex-col"},u.createElement("button",{onClick:m,className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 ml-8\r
                          flex hover:text-white font-sm py-1 pl-8 pr-2  rounded-3xl shadow-md shadow-blue-500/40\r
                          transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[3.5px]"},"Clear Filters")," ",u.createElement("img",{className:"w-6 ml-4 mt-[2.4px]",src:fn,alt:""}))))),u.createElement("div",{className:"flex mt-2"},u.createElement("button",{onClick:v,className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500\r
                          flex hover:text-white font-sm py-1 pl-8 pr-2  rounded-3xl shadow-md shadow-blue-500/40\r
                          transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[3.5px]"},"SORT ",f==="latest"?"OLDEST FIRST":"LATEST FIRST")," ",u.createElement("img",{className:"w-6 ml-4 mt-[2.4px]",src:fn,alt:""}))),u.createElement("div",{className:"flex justify-center mt-4 h-[495px]"},u.createElement("div",{className:" bg-white w-full rounded-2xl shadow-lg p-4 overflow-auto"},L.map((F,$)=>u.createElement("div",{key:$,className:"flex justify-center "},F.map(re=>u.createElement("div",{key:re.alert_id,className:"border  border-gray-300  rounded-2xl p-4 mb-4 cursor-pointer",onClick:()=>C(re),style:_P},u.createElement("div",{className:"flex items-center "},u.createElement("label",{className:"text-sm font-semibold text-black mr-2"},"Alert Type:"),u.createElement("div",null,u.createElement("span",{className:"text-[14px]"},re.alert_type))),u.createElement("div",{className:"flex items-center  "},u.createElement("label",{className:"text-sm font-semibold text-black mr-2"},"Created Date:"),u.createElement("div",null,u.createElement("span",{className:"text-[14px]"},y(re.created_at)))),u.createElement("div",{className:"flex items-center "},u.createElement("label",{className:"text-sm font-semibold text-black mr-2"},"Recipient:"),u.createElement("div",null,u.createElement("span",{className:"text-[14px]"},y(re.created_at)))),u.createElement("div",{className:"flex items-center "},u.createElement("div",{className:"flex flex-col"},u.createElement("label",{className:"text-sm font-semibold text-black mr-2"},"Recipient Info Names:"),u.createElement("div",null,u.createElement("span",{className:" text-[14px]"},re.recipientInfo.map(st=>st.name).join(", ")))))))))),l&&u.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50"},u.createElement("div",{className:"modal-overlay fixed inset-0 bg-black opacity-50"}),u.createElement("div",{className:"modal-container bg-white  w-[500px]  mx-auto rounded-3xl shadow-lg z-50 p-6 "},u.createElement("div",{className:"modal-content"},u.createElement("div",{className:"flex justify-center"},u.createElement("div",{className:"w-12"},u.createElement("img",{src:Vo,alt:""})),u.createElement("span",{className:"text-center text-xl font-medium mt-3 ml-2"},"Alert Information")),u.createElement("div",{className:"flex items-center  mt-3"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Created Date: "),u.createElement("div",{className:`text-black border-[1px] border-[#AAFF00] bg-[#AAFF00] \r
                      hover:text-white rounded-3xl shadow-md shadow-[#AAFF00]\r
                      transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mx-4"},y(h.created_at)))),u.createElement("div",{className:"flex items-center mt-3"},u.createElement("label",{className:"text-sm font-semibold text-black"},"Alert Type: "),u.createElement("div",{className:`text-black border-[1px] border-[#AAFF00] bg-[#AAFF00] \r
                      hover:text-white rounded-3xl shadow-md shadow-[#AAFF00]\r
                      transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mx-4"},h.alert_type))),u.createElement("div",{className:"flex flex-col mt-2"},u.createElement("div",{className:""},u.createElement("label",{className:"text-sm font-semibold text-black"},"Message:"),u.createElement("div",{className:`w-full h-24 overflow-auto border text-sm rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0},h.message))),u.createElement("div",{className:"flex flex-col mt-2"},u.createElement("div",{className:""},u.createElement("label",{className:"text-sm font-semibold text-black"},"Recipient Names:"),u.createElement("div",{className:`w-full h-16 overflow-auto border text-sm rounded px-3 py-2 mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,required:!0},h.recipientInfo.map(F=>F.name).join(", ")))),u.createElement("div",{className:"flex flex-col mt-2"},u.createElement("div",{className:""},u.createElement("label",{className:"text-sm font-semibold text-black"},"Recipient Numbers:"),u.createElement("div",{className:`w-full h-16 overflow-auto text-sm border rounded px-3 py-2 mt-1 border-gray-400\r
                      focus:outline-none focus:ring focus:border-blue-300`,required:!0},h.recipientInfo.map(F=>F.contactNumber).join(", ")))),u.createElement("div",{className:"flex flex-col justify-center mt-4 ml-2"},u.createElement("button",{type:"button",onClick:k,className:`bg-white text-blue-500 border-[1px]  border-blue-400 hover:bg-blue-500 \r
                        flex hover:text-white font-sm py-2 px-4 pr-2 rounded-3xl  mr-2 shadow-md shadow-blue-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px] mt-[1.5px] ml-44"},"CLOSE"),u.createElement("img",{className:"w-6 ml-36",src:fn,alt:""}))))))))}function wP(){return u.createElement("div",{className:"bg-bglines absolute right-0 w-5/6 h-screen"},u.createElement(EP,null))}function xP(t){return tn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(t)}function SP(t){return tn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}const TP=Ms($s),AP=async()=>{const t=nr(TP,"User"),e=await en(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n},IP=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,a]=E.useState(!1),[l,c]=E.useState(!1),[h,d]=E.useState();E.useEffect(()=>{(async()=>{const x=await AP();d(x)})()},[]);const f=lv(),g=_=>{_.preventDefault();const x=h.find(p=>p.username===s);x&&x.password===n?(a(!0),console.log("Login Successful")):(console.log("Login Failed"),c(!0))},y=()=>{e(!t)};return u.createElement("div",{className:"bg-bglines bg-repeat-round"},u.createElement("div",{className:"flex justify-center w-screen h-screen items-center"},u.createElement("div",{className:" bg-white w-90 h-[460px] p-4 rounded-2xl shadow-lg"},u.createElement("div",{className:"flex flex-col justify-center items-center"},u.createElement("div",{className:" bg-gray-200 rounded-full w-52 flex justify-center items-center"},u.createElement("img",{className:"w-36 ml-[-15px]",src:dv,alt:""})),u.createElement("label",{className:"text-[27px] font-bold my-3"},"Welcome Back!")),u.createElement("div",{className:"flex flex-col mx-4"},u.createElement("form",{onSubmit:g},u.createElement("div",null,u.createElement("input",{type:"text",name:"username",placeholder:"Username",className:`w-72 border text-center rounded-3xl px-4 py-[6px] mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,onChange:_=>i(_.target.value),required:!0})),u.createElement("div",{className:"mt-3"},u.createElement("div",{className:"relative"},u.createElement("input",{type:t?"text":"password",name:"password",placeholder:"Password",className:`w-72 border text-center rounded-3xl px-4 py-[6px] mt-1 border-gray-400\r
                  focus:outline-none focus:ring focus:border-blue-300`,value:n,onChange:_=>r(_.target.value),required:!0}),u.createElement("span",{className:"absolute mt-[2px] right-3 top-1/2 transform -translate-y-1/2"},n!==""&&u.createElement("span",{onClick:y,className:"cursor-pointer"},t?u.createElement(xP,{size:20}):u.createElement(SP,{size:20}))))),u.createElement("div",{className:"mt-3 flex space-x-4 justify-center"},u.createElement("div",{className:"flex items-center"},u.createElement("input",{type:"checkbox",className:"mr-1"}),u.createElement("span",{className:"text-sm font-bold inline-block relative"},"Remember me")),u.createElement("div",null,u.createElement("label",{className:"text-sm font-bold text-blue-600 cursor-pointer"},"Forgot Password?"))),u.createElement("div",{className:"flex justify-center"},u.createElement("button",{type:"submit",className:`bg-white mt-4 mb-2 w-36 text-green-500 border-[1px]  border-green-400 hover:bg-green-500 \r
                        flex justify-center hover:text-white font-sm py-2 rounded-3xl  shadow-md shadow-green-500/40\r
                        transition duration-300 ease-in-out transform hover:scale-105`},u.createElement("span",{className:"font-semibold text-[14px]"},"LOGIN"))))))),o&&u.createElement(rm,{message:"Login Success.",onClose:()=>{a(!1),f("/dashboard")}}),l&&u.createElement(fE,{message:"Login Failed. Please check your credentials.",onClose:()=>{c(!1)}}))};function NP(){return u.createElement("div",{className:"absolute right-0 w-full h-full"},u.createElement(IP,null))}function CP(){return u.createElement(B2,null,u.createElement("div",{className:"font-Poppins"},u.createElement(W2,null),u.createElement(F2,null,u.createElement(or,{path:"/",element:u.createElement(NP,null)}),u.createElement(or,{path:"/dashboard",element:u.createElement(AR,null)}),u.createElement(or,{path:"/alert",element:u.createElement(LR,null)}),u.createElement(or,{path:"/farmer",element:u.createElement(GR,null)}),u.createElement(or,{path:"/soilmodule",element:u.createElement(vP,null)}),u.createElement(or,{path:"/alerthistory",element:u.createElement(wP,null)}))))}zx.render(u.createElement(u.StrictMode,null,u.createElement(CP,null)),document.getElementById("root"));
